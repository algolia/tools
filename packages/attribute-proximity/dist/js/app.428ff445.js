(function(e){function t(t){for(var n,s,o=t[0],l=t[1],c=t[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var l=i[o];0!==r[l]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},r={app:0},a=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/attribute-proximity/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("dde3"),i("c8a0"),i("3cdf"),i("5c85");var n=i("9869"),r=i("9ce4"),a=i("5552"),s=function(e,t,i){e=e||{},t=e.storage||window&&window.localStorage,i=e.key||"vuex";var n=500,r=null;function s(e,t,i){try{return(i=t.getItem(e))&&"undefined"!==typeof i?JSON.parse(i):void 0}catch(n){}}function o(t,i,a){window.clearTimeout(r),r=window.setTimeout((function(){var n=i;e.reducer&&(n=e.reducer(i)),a.setItem(t,JSON.stringify(n))}),n)}return function(e){var n=s(i,t);if("object"===Object(a["a"])(n)&&null!==n){var r;for(r in e.state)void 0===n[r]&&(n[r]=e.state[r]);e.replaceState(n)}e.subscribe((function(e,n){o(i,n,t)}))}},o=(i("2e73"),i("0c1f"),function(){return{namespaced:!0,state:{searchParams:{},searchParams2:{},indexSettings:{},advancedIndexSettings:{},refIndexSettings:{},imageAttributeName:null,autoTitleAttributeName:null,titleAttribute:"",ignoreImageProxy:!1,imageSize:40,imageBaseUrl:"",imageSuffixUrl:"",lastUsed:(new Date).getTime()},mutations:{replaceIndexData:function(e,t){Object.keys(t).forEach((function(i){void 0!==e[i]&&n["a"].set(e,i,t[i])}))},updateLastUsed:function(e){e.lastUsed=(new Date).getTime()},replaceIndexSettings:function(e,t){var i=t;n["a"].set(e,"indexSettings",{}),Object.keys(i).forEach((function(t){n["a"].set(e.indexSettings,t,{value:i[t],enabled:!0})})),n["a"].set(e,"refIndexSettings",JSON.parse(JSON.stringify(e.indexSettings)))},setImageSize:function(e,t){n["a"].set(e,"imageSize",t)},setIgnoreImageProxy:function(e,t){n["a"].set(e,"ignoreImageProxy",t)},setAutoTitleAttributeName:function(e,t){n["a"].set(e,"autoTitleAttributeName",t)},setTitleAttribute:function(e,t){n["a"].set(e,"titleAttribute",t)},resetIndexSettings:function(e){n["a"].set(e,"indexSettings",JSON.parse(JSON.stringify(e.refIndexSettings)))},setImageAttributeName:function(e,t){n["a"].set(e,"imageAttributeName",t)},setImageBaseUrl:function(e,t){n["a"].set(e,"imageBaseUrl",t)},setImageSuffixUrl:function(e,t){n["a"].set(e,"imageSuffixUrl",t)},restoreIndexSetting:function(e,t){var i=t.inputKey;n["a"].set(e.indexSettings,i,JSON.parse(JSON.stringify(e.refIndexSettings[i])))},setAdvancedIndexSettings:function(e,t){n["a"].set(e,"advancedIndexSettings",t)},setParamValue:function(e,t){var i=t.configKey||this.state.edit.configKey;n["a"].set(e[i],t.key,{value:t.value,enabled:!0})},setParamEnabled:function(e,t){n["a"].set(e[t.configKey][t.inputKey],"enabled",t.value)},deleteParam:function(e,t){n["a"].delete(e[t.configKey],t.inputKey)},deleteArrayElement:function(e,t){n["a"].delete(e[t.configKey][t.inputKey].value,t.positionKey)},setKeysIndexer:function(e,t){n["a"].set(e,"keysIndexer",t)},setIndexAnalyzer:function(e,t){n["a"].set(e,"indexAnalyzer",t)}}}}),l=function(e,t,i){return{namespaced:!0,state:{key:t,lastIndexName:i,userId:null,__app_name:"",__app_owner:""},mutations:{setLastIndexName:function(e,t){n["a"].set(e,i,t)},setAppName:function(e,t){n["a"].set(e,"__app_name",t)},setAppOwner:function(e,t){n["a"].set(e,"__app_owner",t)},setUserId:function(e,t){n["a"].set(e,"userId",t)},addIndex:function(t,i){var n=i,r=["apps",e,n],a=this._modules.get(r);void 0===a&&(t[n]?this.registerModule(["apps",e,n],o(),{preserveState:!0}):this.registerModule(["apps",e,n],o()),a=this._modules.get(r)),a.context.commit("updateLastUsed")}}}},c={namespaced:!0,modules:{},mutations:{addAppId:function(e,t){var i=t.appId,r=["apps",i],a=this._modules.get(r),s=t.apiKey||null;void 0!==a&&e[i]?t.apiKey&&n["a"].set(e[i],"key",s):(e[i]?this.registerModule(["apps",i],l(i,s),{preserveState:!0}):this.registerModule(["apps",i],l(i,s,null)),null===this.state.panels.leftPanel.appId&&n["a"].set(this.state.panels.leftPanel,"appId",i),null===this.state.panels.rightPanel.appId&&n["a"].set(this.state.panels.rightPanel,"appId",i))},deleteAppId:function(e,t){var i=t,r=["apps",i],a=this._modules.get(r);a&&this.unregisterModule(r),n["a"].delete(e,i);var s=null,o=Object.keys(e);o.length>0&&(s=o[0]),this.state.panels.leftPanel.appId===i&&n["a"].set(this.state.panels.leftPanel,"appId",s),this.state.panels.rightPanel.appId===i&&n["a"].set(this.state.panels.rightPanel,"appId",s)}}},u=function(e,t){return{namespaced:!0,state:{appId:e,indexName:t,server:"-dsn",displayMode:"list",currentTab:"hits",method:"search"},mutations:{setPanelConfig:function(e,t){n["a"].set(e,"appId",t.appId),n["a"].set(e,"indexName",t.indexName),n["a"].set(e,"server","-dsn"),e.indexName&&n["a"].set(this.state.apps[t.appId],"lastIndexName",e.indexName)},setMethod:function(e,t){n["a"].set(e,"method",t)},setServer:function(e,t){n["a"].set(e,"server",t)},setDisplayMode:function(e,t){n["a"].set(e,"displayMode",t)},setCurrentTab:function(e,t){n["a"].set(e,"currentTab",t)}}}},p={namespaced:!0,modules:{leftPanel:u(null,null),rightPanel:u(null,null)},state:{splitMode:!1,query:"",twoInputs:!1,displayRankingInfo:!1,showSearchableAttributes:!0,showCustomRanking:!0,showAttributesForFaceting:!0,showOnlyMatchingAttributes:!1,comparePanels:!1,manageAppsPanel:!0,expandLeftPanel:!1,analyseMaxNbPoints:100,shareStatePanel:!1,trackedObjects:[]},mutations:{setTrackedObjects:function(e,t){n["a"].set(e,"trackedObjects",t)},setTwoInputs:function(e,t){n["a"].set(e,"twoInputs",t)},replacePanels:function(e,t){Object.keys(t).forEach((function(i){void 0!==e[i]&&n["a"].set(e,i,t[i])}))},setShareStatePanel:function(e,t){n["a"].set(e,"shareStatePanel",t)},setExpandLeftPanel:function(e,t){n["a"].set(e,"expandLeftPanel",t)},setManageAppsPanel:function(e,t){n["a"].set(e,"manageAppsPanel",t)},setAnalyseMaxNbPoints:function(e,t){n["a"].set(e,"analyseMaxNbPoints",t)},setComparePanels:function(e,t){n["a"].set(e,"comparePanels",t)},setDisplayRankingInfo:function(e,t){n["a"].set(e,"displayRankingInfo",t)},setShowSearchableAttributes:function(e,t){n["a"].set(e,"showSearchableAttributes",t)},setShowCustomRanking:function(e,t){n["a"].set(e,"showCustomRanking",t)},setShowAttributesForFaceting:function(e,t){n["a"].set(e,"showAttributesForFaceting",t)},setShowOnlyMatchingAttributes:function(e,t){n["a"].set(e,"showOnlyMatchingAttributes",t)},rightFromLeft:function(e){n["a"].set(e.rightPanel,"appId",e.leftPanel.appId),n["a"].set(e.rightPanel,"indexName",e.leftPanel.indexName),n["a"].set(this.state.apps[e.rightPanel.appId],"lastIndexName",e.rightPanel.indexName)},leftFromRight:function(e){n["a"].set(e.leftPanel,"appId",e.rightPanel.appId),n["a"].set(e.leftPanel,"indexName",e.rightPanel.indexName),n["a"].set(this.state.apps[e.leftPanel.appId],"lastIndexName",e.leftPanel.indexName)},setQuery:function(e,t){n["a"].set(e,"query",t)},setSplitMode:function(e,t){n["a"].set(e,"splitMode",t)},jumpParams:function(e,t){var i=t.configKey,r="rightPanel"===t.panelKey?"leftPanel":"rightPanel",a=e[t.panelKey].appId,s=e[t.panelKey].indexName,o=e[r].appId,l=e[r].indexName,c=this.state.apps[a][s][i];"searchParams2"===i?i="searchParams":"searchParams"===i&&a===o&&s===l&&(i="searchParams2");var u=this.state.apps[o][l];Object.keys(c).forEach((function(e){-1===["replicas"].indexOf(e)&&n["a"].set(u[i],e,JSON.parse(JSON.stringify(c[e])))}))},clearParams:function(e,t){var i=t.configKey,r=e[t.panelKey].appId,a=e[t.panelKey].indexName,s=this.state.apps[r][a];n["a"].set(s,i,{})},jumpParamValue:function(e,t){var i=t.configKey,r="rightPanel"===t.panelKey?"leftPanel":"rightPanel",a=e[t.panelKey].appId,s=e[t.panelKey].indexName,o=e[r].appId,l=e[r].indexName,c=this.state.apps[a][s][i];"searchParams2"===i?i="searchParams":"searchParams"===i&&a===o&&s===l&&(i="searchParams2");var u=this.state.apps[o][l][i];n["a"].set(u,t.inputKey,JSON.parse(JSON.stringify(c[t.inputKey])))}}},d={namespaced:!0,state:{appId:null,indexName:null,server:null,logsType:null},mutations:{setAppId:function(e,t){n["a"].set(e,"appId",t)},setIndexName:function(e,t){n["a"].set(e,"indexName",t)},setServer:function(e,t){n["a"].set(e,"server",t)},setLogsType:function(e,t){n["a"].set(e,"logsType",t)}}},m={namespaced:!0,state:{leftAppId:null,leftIndexName:null,rightAppId:null,rightIndexName:null,currentTab:"settings"},mutations:{setLeftAppId:function(e,t){n["a"].set(e,"leftAppId",t)},setLeftIndexName:function(e,t){n["a"].set(e,"leftIndexName",t)},setRightAppId:function(e,t){n["a"].set(e,"rightAppId",t)},setRightIndexName:function(e,t){n["a"].set(e,"rightIndexName",t)},setCurrentTab:function(e,t){n["a"].set(e,"currentTab",t)}}},f={namespaced:!0,state:{appId:null,indexName:null},mutations:{setAppId:function(e,t){n["a"].set(e,"appId",t)},setIndexName:function(e,t){n["a"].set(e,"indexName",t)}}},h={namespaced:!0,state:{appId:null},mutations:{setAppId:function(e,t){n["a"].set(e,"appId",t)}}},b={namespaced:!0,state:{filtering:"all"},mutations:{setFiltering:function(e,t){n["a"].set(e,"filtering",t)}}},g={namespaced:!0,state:{appId:null,indexName:null,tab:"click"},mutations:{setAppId:function(e,t){n["a"].set(e,"appId",t)},setIndexName:function(e,t){n["a"].set(e,"indexName",t)},setTab:function(e,t){n["a"].set(e,"tab",t)}}},v=(i("e125"),i("ce72")),y=i("c24d");function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){Object(v["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var A=new Date;A.setDate(A.getDate()-7);var I=function(e){var t=e.panels,i=(t.leftPanel,t.rightPanel,t.shareStatePanel,t.manageAppsPanel,Object(y["a"])(t,["leftPanel","rightPanel","shareStatePanel","manageAppsPanel"]));return Object.keys(e).reduce((function(t,n){var r;return x({},t,(r={},Object(v["a"])(r,n,e[n]),Object(v["a"])(r,"panels",x({leftPanel:e.panels.leftPanel,rightPanel:e.panels.rightPanel},i)),Object(v["a"])(r,"apps",Object.keys(e.apps).reduce((function(t,i){var n=e.apps[i],r=n.key,a=n.lastIndexName,s=n.userId,o=n.__app_name,l=n.__app_owner,c=Object(y["a"])(n,["key","lastIndexName","userId","__app_name","__app_owner"]);return x({},t,Object(v["a"])({},i,Object.keys(c).reduce((function(t,n){var r=e.apps[i][n],a=(r.indexSettings,r.refIndexSettings,r.advancedIndexSettings,r.keysIndexer,r.indexAnalyzer,r.autoTitleAttributeName,Object(y["a"])(r,["indexSettings","refIndexSettings","advancedIndexSettings","keysIndexer","indexAnalyzer","autoTitleAttributeName"])),s=(new Date).getTime(),o=a.lastUsed||A.getTime(),l=Math.floor((s-o)/1e3/3600/24);return l>=7?t:x({},t,Object(v["a"])({},n,a))}),{key:r,lastIndexName:a,userId:s,__app_name:o,__app_owner:l})))}),{})),r))}),{})};n["a"].use(r["a"]);var j=new r["a"].Store({modules:{apps:c,panels:p,apilogs:d,indexdiffer:m,relevancetesting:b,indexmanager:h,insightsui:g,indexanalyzer:f},plugins:[s({reducer:I})]}),w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("internal-app",[i("div",{staticClass:"min-h-screen pb-48"},[i("app-header",{attrs:{"app-name":"Attribute / Proximity"}}),e.currentScenario?i("div",[i("div",{staticClass:"flex"},[i("div",{staticClass:"flex flex-col mx-auto bg-white mt-48"},[i("div",{staticClass:"flex items-start rounded"},[i("div",{staticClass:"p-16 pb-0"},[i("h3",[e._v("Scenarios")]),i("ul",{staticClass:"mt-16"},e._l(Object.keys(e.scenarios),(function(t){return i("li",{staticClass:"flex",on:{click:function(i){return e.setScenario(t)}}},[i("span",{staticClass:"min-w-24 text-nebula-blue"},[i("input",{attrs:{type:"radio"},domProps:{checked:e.currentScenario===t}})]),i("span",{staticClass:"cursor-pointer hover:underline",class:{"text-nebula-blue":e.currentScenario===t}},[e._v("\n                                    "+e._s(e.scenarios[t].name)+"\n                                ")])])})),0)]),i("div",{staticClass:"p-16 pb-0"},[i("h3",[e._v("Searchable Attributes")]),i("div",{staticClass:"p-16 px-0"},[i("table",e._l(e.scenario.searchableAttributes,(function(t){return i("tr",[i("td",[e._v(e._s(t))]),i("td",{staticClass:"pl-16"},[i("label",[i("input",{attrs:{type:"checkbox"},domProps:{checked:!0===e.orderedAttributes[t]},on:{input:function(i){return e.$set(e.orderedAttributes,t,i.target.checked)}}}),e._v("\n                                                ordered\n                                            ")])]),i("td",{staticClass:"pl-16"},[i("label",[i("input",{attrs:{type:"checkbox"},domProps:{checked:!0===e.disableProximityAttributes[t]},on:{input:function(i){return e.$set(e.disableProximityAttributes,t,i.target.checked)}}}),e._v("\n                                                disable proximity\n                                            ")])])])})),0)])]),i("div",{staticClass:"p-16 pb-0"},[i("h3",[e._v("Recommended Queries")]),i("ul",{staticClass:"mt-16"},e._l(e.scenario.queries,(function(t){return i("li",[i("span",{staticClass:"cursor-pointer hover:underline",on:{click:function(i){e.query=t}}},[e._v("\n                                        "+e._s(t)+"\n                                    ")])])})),0)]),i("div",{staticClass:"p-16 pb-0"},[i("h3",[e._v("Strategies")]),i("ul",{staticClass:"mt-16"},e._l(e.strategies,(function(t){return i("li",{staticClass:"flex"},[i("label",[i("input",{attrs:{type:"checkbox"},domProps:{checked:!0!==e.disabledStrategies[t.name]},on:{input:function(i){return e.$set(e.disabledStrategies,t.name,!i.target.checked)}}}),e._v("\n                                        "+e._s(t.name)+"\n                                    ")])])})),0)])]),i("div",{staticClass:"p-16"},[i("h3",[e._v("Query")]),i("div",{staticClass:"mt-16 flex items-center px-16 bg-white rounded border border-proton-grey-opacity-80"},[i("search-icon",{staticClass:"block w-16 h-16 mr-16 text-telluric-blue fill-current"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"flex-1 block h-full py-8 bg-transparent text-telluric-blue leading-normal",attrs:{placeholder:"Search logs below"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}})],1)])])]),i("div",{staticClass:"flex w-full max-w-full justify-between px-48 mt-48"},[e._l(e.filteredStrategies,(function(t){return[i("div",{staticClass:"flex-grow",style:"max-width: calc(100% / "+e.filteredStrategies.length+")"},[i("div",{staticClass:"h-32 text-center"},[i("div",[e._v(e._s(t.name))]),t.extraInfo?i("div",[e._v(e._s(t.extraInfo))]):e._e()]),i("records",{attrs:{records:e.transformedRecords(e.records,t.firstCriteria,t.attributeStrategy),"searchable-attributes":e.allSearchableAttributes}})],1)]}))],2)]):e._e()],1)])},O=[],P=(i("632c"),i("4f72"),i("0d9c"),i("ae66"),i("08b3")),S=(i("4fb0"),i("c880"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bg-moon-grey text-base font-sans-alt min-h-screen",attrs:{id:"app"}},[i("algolia-proxy",{attrs:{enabled:e.isProduction||!0}},[e._t("default",null,{slot:"loggedIn"}),i("div",{staticClass:"h-screen flex justify-center items-center",attrs:{slot:"loggedOut"},slot:"loggedOut"},[i("div",{staticClass:"flex flex-col justify-center items-center"},[i("loader-icon",{staticClass:"w-48 h-48 infinte-rotate"}),i("div",{staticClass:"mt-20"},[e._v("\n                    Connecting to your Algolia account\n                ")])],1)]),i("div",{attrs:{slot:"unauthorized"},slot:"unauthorized"},[e._v("\n            This an internal algolia app.\n        ")])],2)],1)}),k=[],C={functional:!0,render(e,t){const{_c:i,_v:n,data:r,children:a=[]}=t,{class:s,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=r;return i("svg",{class:["feather feather-loader",s,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-loader"},u),...p},a.concat([i("path",{attrs:{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"}})]))}},N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[!e.authorized||e.enabled&&!e.currentUser?e.authorized?e._t("loggedOut"):e._t("unauthorized"):e._t("loggedIn")],2)},D=[],T=(i("df26"),i("c8ff")),M={name:"AlgoliaProxy",props:["enabled"],data:function(){return{currentUser:null,authorized:!0,paused:!1}},created:function(){var e=this;this.connect(),this.$root.$on("onShouldPauseProxy",(function(){e.paused=!0})),this.$root.$on("onShouldResumeProxy",(function(){e.paused=!0})),window.addEventListener("focus",(function(){e.paused||e.connect()}))},methods:{connect:function(){var e=Object(T["a"])(regeneratorRuntime.mark((function e(){var t,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:return t=Object({NODE_ENV:"production",BASE_URL:"/attribute-proximity/"}).VUE_APP_METAPARAMS_BACKEND_ENDPOINT||"https://tools-backend.algolia.com",e.next=5,fetch("".concat(t,"/user/info?redirect_to=").concat(window.location.href),{credentials:"include",headers:{"Content-Type":"application/json"}});case 5:return i=e.sent,e.next=8,i.json();case 8:if(n=e.sent,n.error&&"not_authorized"===n.error&&(this.authorized=!1),!n.redirect_url){e.next=13;break}return window.location.href=n.redirect_url,e.abrupt("return");case 13:this.currentUser=n;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},E=M,q=i("2be6"),B=Object(q["a"])(E,N,D,!1,null,null,null),R=B.exports,z=!0,L={name:"InternalApp",components:{AlgoliaProxy:R,LoaderIcon:C},data:function(){return{isProduction:z}}},K=L,F=Object(q["a"])(K,S,k,!1,null,null,null),V=F.exports,U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"flex flex-col justify-center w-full bg-white z-10 border-b border-solid border-proton-grey-opacity-80",staticStyle:{height:"94px"}},[i("div",{staticClass:"flex px-16 py-12"},[i("div",{staticClass:"flex w-full"},[i("div",{staticClass:"flex items-center text-telluric-blue mr-16 text-lg"},[i("algolia-logo-experimental",{staticClass:"w-20 h-20 mr-8"}),e._m(0),e.appName?i("chevron-left",{staticClass:"w-12 h-12 rotate-180 mr-4"}):e._e(),e.appName?i("div",{staticClass:"mt-2 font-bold"},[e._v(e._s(e.appName))]):e._e()],1),e._t("default")],2)])])])},H=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mr-4 mt-2"},[i("a",{attrs:{href:"/apps"}},[e._v("Tools")])])}],J={functional:!0,render(e,t){const{_c:i,_v:n,data:r,children:a=[]}=t,{class:s,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=r;return i("svg",{class:[s,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 120"},u),...p},a.concat([i("path",{attrs:{fill:"#ffbb1f",d:"M104.2 0H15.8C7.1 0 0 7 0 15.8v88.4c0 8.7 7.1 15.8 15.8 15.8h88.4c8.7 0 15.8-7.1 15.8-15.8V15.8C120 7.1 112.9 0 104.2 0z"}}),i("path",{attrs:{fill:"#FFF",d:"M30.3 41.9c.1 0 .1 0 0 0 1.3-1.7 2.6-3.3 4.1-4.7 1.5-1.5 3-2.8 4.7-4 .3-.2.4-.7.2-1 0 0 0-.1-.1-.1L37.1 30c-2-2-5.3-2-7.4 0l-2.5 2.5c-2 2-2 5.3 0 7.3l2 2c.4.4.8.4 1.1.1zM50.7 27.6h.2c3.4-1 7-1.5 10.6-1.5 3.4 0 6.9.5 10.2 1.4.4.1.8-.1.8-.5v-4.3c0-2.9-2.3-5.2-5.2-5.2H55.2c-2.9 0-5.2 2.3-5.2 5.2v4.2c-.1.4.3.7.7.7zM61.4 30.3c-18.7 0-33.9 15.2-33.9 33.9s15.2 33.9 33.9 33.9 33.9-15.2 33.9-33.9-15.2-33.9-33.9-33.9zm0 57.8c-13.2-.1-23.9-10.8-23.8-24 0-13.2 10.8-23.9 23.9-23.8 13.2 0 23.9 10.8 23.8 23.9 0 13.2-10.7 23.9-23.9 23.9z"}}),i("path",{attrs:{fill:"#FFF",d:"M62.1 44.5c-.4 0-.7.3-.7.7V63c0 .4.3.7.7.7.1 0 .2 0 .3-.1l15.8-8.2c.4-.2.5-.6.3-1-3.4-5.9-9.6-9.7-16.4-9.9z"}})]))}},$={functional:!0,render(e,t){const{_c:i,_v:n,data:r,children:a=[]}=t,{class:s,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=r;return i("svg",{class:[s,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},a.concat([i("path",{attrs:{d:"M15 18l-6-6 6-6"}})]))}},G={name:"AppHeader",props:["appName"],components:{AlgoliaLogoExperimental:J,ChevronLeft:$}},Z=G,Q=Object(q["a"])(Z,U,H,!1,null,null,null),X=Q.exports,W={functional:!0,render(e,t){const{_c:i,_v:n,data:r,children:a=[]}=t,{class:s,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=r;return i("svg",{class:[s,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u),...p},a.concat([i("path",{attrs:{d:"M19.71 18.29L16 14.61A9 9 0 1014.61 16l3.68 3.68a1 1 0 001.42 0 1 1 0 000-1.39zM2 9a7 7 0 1112 4.93A7 7 0 012 9z"}})]))}},Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.records,(function(t){return i("div",{staticClass:"hit bg-white mr-16 mt-16 p-16 rounded"},[i("attributes",{staticClass:"w-full",attrs:{"top-attributes":["objectID"].concat(e.searchableAttributes),"no-collapse":!0,"search-params":{},item:e.hitsTransformer.transformObj(t)._v_}})],1)})),0)},ee=[];function te(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ie(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?te(Object(i),!0).forEach((function(t){Object(v["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):te(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ne=function(e){this.excluded=e||[],this.recursivelyGetValues=function(e){var t=this;return e&&void 0!==e._v_?this.recursivelyGetValues(e._v_):Array.isArray(e)?e.slice(0,10).map((function(e){return t.recursivelyGetValues(e)})):this.isObject(e)?Object.keys(e).slice(0,10).reduce((function(i,n){return ie({},i,Object(v["a"])({},n,t.recursivelyGetValues(e[n])))}),{}):e},this.getNewItemObject=function(e,t,i){var n,r={},a=!1;for(n in e)if(-1===this.excluded.indexOf(n)&&void 0!==e[n]){var s=this.getNewItem(e[n],void 0!==t?t[n]:void 0,void 0!==i?i[n]:void 0);r[n]=s,a=a||s._b_}return{_v_:r,_s_:JSON.stringify(this.recursivelyGetValues(r)),_b_:a}},this.getNewItemArray=function(e,t,i){var n=this,r=!1,a=[];return e.slice(0,1e3).forEach((function(e,s){var o=n.getNewItem(e,void 0!==t?t[s]:void 0,void 0!==i?i[s]:void 0);r=r||o._b_,a.push(o)})),{_v_:a,_s_:JSON.stringify(this.recursivelyGetValues(a)),_b_:r}},this.getNewItem=function(e,t,i){if(this.isObject(e))return this.getNewItemObject(e,t,i);if(Array.isArray(e))return this.getNewItemArray(e,t,i);var n=void 0!==i&&i.matchLevel&&"none"!==i.matchLevel,r=void 0!==t&&t.matchLevel&&"none"!==t.matchLevel,a=n?i.value:e,s=r?t.value:e;return{_b_:n,_v_:a,_rv_:s}},this.isObject=function(e){return e&&"object"===Object(a["a"])(e)&&e.constructor===Object},this.transformObj=function(e){return this.getNewItemObject(e,e._highlightResult,e._snippetResult)},this.getNewItemArraySimple=function(e,t){var i=this;return e.map((function(e,n){return i.getNewItemSimple(e,void 0!==t?t[n]:void 0)}))},this.getNewItemSimple=function(e,t){if(this.isObject(e))return this.getNewItemObjectSimple(e,t);if(Array.isArray(e))return this.getNewItemArraySimple(e,t);var i=void 0!==t&&void 0!==t.matchLevel;return i?t.value:e},this.getNewItemObjectSimple=function(e,t,i){var n={};for(var r in e)if(-1===this.excluded.indexOf(r)&&void 0!==e[r]){var a=this.getNewItemSimple(e[r],void 0!==t?t[r]:void 0,void 0!==i?i[r]:void 0);n[r]=a}return n},this.transformObjSimple=function(e){return this.getNewItemObjectSimple(e,e._highlightResult)}},re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._l(e.currentKeys,(function(t){return i("div",{key:t,staticClass:"flex"},[i("div",{staticClass:"w-128 min-w-128 mr-16 text-right json-token key truncate",attrs:{title:t}},[e._v("\n            "+e._s(t)+":\n        ")]),i("attribute",{staticStyle:{width:"calc(100% - 128px)"},attrs:{item:e.item[t]}})],1)})),e.needsCollapse&&e.nbExtraAttributes>0?i("div",{staticClass:"w-128 min-w-128 mr-16 text-right text-nebula-blue cursor-pointer",on:{click:function(t){e.isCollapsed=!e.isCollapsed}}},[e.isCollapsed?i("span",[e._v("Show "+e._s(e.nbExtraAttributes)+" more")]):e._e(),e.isCollapsed?e._e():i("span",[e._v("Show "+e._s(e.nbExtraAttributes)+" less")])]):e._e()],2)},ae=[],se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isArray||e.isObject?i("div",[e.isArray?i("div",[i("div",{staticClass:"flex relative"},[e.canExand?i("div",{staticClass:"absolute left-0 -ml-12 cursor-pointer",on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(e._s(e.collapsed?"+":"-"))]):e._e(),e.parentKey?i("div",{staticClass:"mr-4"},[e._v(e._s(e.parentKey)+":")]):e._e(),e.isCollapsed?e._e():i("div",[e._v("[")]),e.isCollapsed?i("div",{staticClass:"whitespace-pre truncate",domProps:{innerHTML:e._s(e.highlightedValue)}}):e._e()]),e.isCollapsed?e._e():i("div",{staticClass:"ml-36"},e._l(e.item._v_,(function(t,n){return i("div",{staticClass:"relative"},[i("div",{staticClass:"absolute left-0 -ml-32 text-proton-grey"},[e._v("["+e._s(n)+"]")]),i("attribute",{attrs:{item:t}})],1)})),0),e.isCollapsed?e._e():i("div",[e._v("]")])]):e._e(),e.isObject?i("div",[i("div",{staticClass:"flex relative"},[e.canExand?i("div",{staticClass:"absolute left-0 -ml-12 cursor-pointer",on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(e._s(e.collapsed?"+":"-"))]):e._e(),e.parentKey?i("div",{staticClass:"mr-4"},[e._v(e._s(e.parentKey)+":")]):e._e(),e.isCollapsed?e._e():i("div",[e._v("{")]),e.isCollapsed?i("div",{staticClass:"whitespace-pre truncate",domProps:{innerHTML:e._s(e.highlightedValue)}}):e._e()]),e.isCollapsed?e._e():i("div",{staticClass:"ml-36"},e._l(e.item._v_,(function(e,t){return i("attribute",{attrs:{item:e,"parent-key":t}})})),1),e.isCollapsed?e._e():i("div",[e._v("}")])]):e._e()]):e._e(),e.isBoolean||e.isNumber||e.isNull?i("div",[i("div",{staticClass:"flex"},[e.parentKey?i("div",[e._v(e._s(e.parentKey)+": ")]):e._e(),e.isBoolean?i("div",{staticClass:"json-token boolean"},[e._v(e._s(e.stringValue))]):e._e(),e.isNumber?i("div",{staticClass:"json-token number"},[e._v(e._s(e.stringValue))]):e._e(),e.isNull?i("div",{staticClass:"json-token null"},[e._v("null")]):e._e()])]):e._e(),e.isString?i("div",[i("div",{staticClass:"flex relative"},[e.isLong?i("div",{staticClass:"absolute left-0 -ml-12 cursor-pointer",on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(e._s(e.collapsed?"+":"-"))]):e._e(),e.parentKey?i("div",{staticClass:"mr-4"},[e._v(e._s(e.parentKey)+":")]):e._e(),e.collapsed?i("div",{staticClass:"whitespace-pre truncate",domProps:{innerHTML:e._s(e.highlightedValue)}}):e._e(),e.collapsed?e._e():i("div",{staticClass:"json-token string break-words w-full"},[i("span",{domProps:{innerHTML:e._s(e.escapeAndHighlightHit(e.rawStringValue))}})])])]):e._e()])},oe=[];i("f49d"),i("a7e1");var le=null;function ce(e){return le=null===le?document.createElement("div"):le,le.textContent=e,le.innerHTML}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/<(\/)?ais-highlight-(\d+)>/g,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=e.replace(t,"{{{$1ais-highlight-$2}}}");return ce(n).replace(/{{{(\/?)ais-highlight-[^}]*}}}/g,""===i?"<$1em>":'<$1em class="'.concat(i,'">'))}function pe(e){return e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="json-token '+t+'">'+ue(e)+"</span>"}))}function de(e){return"string"===typeof e||e instanceof String}function me(e){return e&&"object"===Object(a["a"])(e)&&e.constructor===Object}var fe={name:"Attribute",props:["item","parentKey"],data:function(){return{collapsed:!0,escapeAndHighlightHit:ue}},computed:{canExand:function(){return this.isLong&&!this.isForcedExpanded},isForcedExpanded:function(){return!this.isString&&this.item._b_},isCollapsed:function(){return this.collapsed&&!this.item._b_},highlightedValue:function(){return pe(this.item._s_||this.stringValue)},stringValue:function(){return JSON.stringify(this.item._v_)},rawStringValue:function(){return JSON.stringify(this.item._rv_||this.item._rv_)},isArray:function(){return Array.isArray(this.item._v_)},isLong:function(){return this.isArray||this.isObject||this.isString&&this.stringValue.length>53},isString:function(){return de(this.item._v_)},isObject:function(){return this.item._v_&&"object"===Object(a["a"])(this.item._v_)&&this.item._v_.constructor===Object},isBoolean:function(){return"boolean"===typeof this.item._v_},isNumber:function(){return"number"===typeof this.item._v_},isNull:function(){return null==this.item._v_}}},he=fe,be=Object(q["a"])(he,se,oe,!1,null,null,null),ge=be.exports,ve={credentials:["appId","apiKey","indexName","server","method","userId"],images:["imageSize","imageAttribute","imageBaseUrl","imageSuffixUrl","ignoreImageProxy"],attributes:["titleAttributeName","autoTitleAttributeName","showSearchableAttributes","showCustomRanking","showAttributesForFaceting","showOnlyMatchingAttributes"],paramsAndSettings:["query","searchParams","indexSettings","keysIndexer"],response:["analyseResponse","searchResponse"],display:["analyseMaxNbPoints","displayMode","displayRankingInfo"],actions:["readOnly","isReplica","canJumpRules","canJumpSynonyms","canJumpRecords","jumpTo"]},ye={name:"Attributes",components:{Attribute:ge},props:["topAttributes","searchableAttributes","item","noCollapse"].concat(Object(P["a"])(ve.attributes),Object(P["a"])(ve.paramsAndSettings)),data:function(){return{isCollapsed:!0,reservedAttributes:{_highlightResult:!0,_snippetResult:!0,_rankingInfo:!0,_distinctSeqID:!0}}},computed:{nbExtraAttributes:function(){return this.allKeys.length-this.keys.length},needsCollapse:function(){return!0!==this.noCollapse&&this.topAttributes.length>0},uncollapsedAttributes:function(){var e=this,t=this.searchParams&&this.searchParams.attributesToRetrieve;return!t&&this.showSearchableAttributes&&this.showOnlyMatchingAttributes?this.keys.filter((function(t){return"objectID"===t||(-1===e.searchableAttributes.indexOf(t)||e.item[t]._b_)})):this.keys},currentKeys:function(){return this.needsCollapse&&this.isCollapsed?this.uncollapsedAttributes:this.allKeys},keys:function(){var e=this;return this.allKeys.filter((function(t){return-1!==e.topAttributes.indexOf(t)}))},allKeys:function(){var e=this,t=this.searchParams&&!0===this.searchParams.getRankingInfo;return Object.keys(this.item).filter((function(i){return!e.reservedAttributes[i]||!0===t&&"_rankingInfo"===i})).sort((function(t,i){var n=e.topAttributes.indexOf(t),r=e.topAttributes.indexOf(i);return n===r?0:-1===n?1:-1===r||n<r?-1:1}))}}},_e=ye,xe=Object(q["a"])(_e,re,ae,!1,null,null,null),Ae=xe.exports,Ie={name:"Records",props:["records","searchableAttributes"],components:{Attributes:Ae},data:function(){return{hitsTransformer:new ne}}},je=Ie,we=Object(q["a"])(je,Y,ee,!1,null,null,null),Oe=we.exports,Pe={scenario0:{name:"black jeans",queries:["black jeans"],searchableAttributes:["color,brand,category","name","description"],customRanking:["popularity"],records:[{objectID:"1",name:"Black jeans shirt with pockets",category:"shirt",color:"black",brand:"Levi's",description:"Beautiful black shirt that should be worn with jeans",popularity:100,image:"https://res.cloudinary.com/hilnmyskv/image/upload/v1546013811/proximity_demo/55_20black.jpg"},{objectID:"2",name:"Original jeans with innovative cut",category:"jeans",color:"black",brand:"Levi's",description:"These jeans are perfect for parties and fashion shows",popularity:80,image:"https://res.cloudinary.com/hilnmyskv/image/upload/v1546013916/proximity_demo/I_262824187_00_20170116.jpg"},{objectID:"3",name:"Awesome shoes with cool graphics",category:"shoes",color:"red",brand:"Nike",description:"Best shoes for any occasion, and they pair amazingly well with black jeans",popularity:50,image:"https://res.cloudinary.com/hilnmyskv/image/upload/v1546013972/proximity_demo/air-huarache-mens-shoe-eoToq9X2.jpg"},{objectID:"4",name:"New shoes",category:"shoes",color:"black",brand:"Nike",description:"Goes best with fancy jeans",popularity:200,image:"https://res.cloudinary.com/hilnmyskv/image/upload/v1546013972/proximity_demo/air-huarache-mens-shoe-eoToq9X2.jpg"}]},scenario1:{name:"A B C",queries:["A B C","B A"],searchableAttributes:["title","subTitle","description","categories"],records:[{objectID:"1",title:"A B C D",subTitle:"D E",description:"F",categories:[]},{objectID:"2",title:"D A B C",subTitle:"D E",description:"F",categories:[]},{objectID:"3",title:"A",subTitle:"B C",description:"D F",categories:[]},{objectID:"4",title:"A",subTitle:"C B",description:"D F",categories:[]},{objectID:"5",title:"E F",subTitle:"A B C",description:"D F",categories:[]},{objectID:"6",title:"A",subTitle:"A B C",description:"D E F",categories:[]},{objectID:"7",title:"A B C",subTitle:"A B D",description:"D E F",categories:[]},{objectID:"8",title:"A",subTitle:"Z",description:"Z",categories:["A","B","C"]},{objectID:"9",title:"Z",subTitle:"A",description:"Z",categories:["A B C","C"]},{objectID:"10",title:"Z",subTitle:"Z",description:"Z",categories:["A","B C"]},{objectID:"11",title:["a","b"],subTitle:["c","d"]},{objectID:"12",title:["a","b","c","d"],subTitle:[]},{objectID:"13",title:"A B",subTitle:"D",description:"C"},{objectID:"14",title:"A B",subTitle:"C",description:"D"}]},scenario2:{name:"red shirt",queries:["red shirt","shirt"],searchableAttributes:["name","colors","description"],records:[{objectID:"1",name:"shirt",colors:["blue"],description:"This shirt also exist in red"},{objectID:"2",name:"shirt",colors:["blue"],description:"Goes well with red dress"},{objectID:"3",name:"shirt",colors:["red"],description:"Goes well with yellow dress"}]},scenario3:{name:"A B",queries:["A B C"],searchableAttributes:["title","subTitle","description"],records:[{objectID:"16",title:"A",subTitle:"blue",description:"F F F F B C"},{objectID:"15",title:"A",subTitle:"E",description:"B C F F F F"}]},scenario4:{name:"disableProximity",queries:["keywords at eu","cool keywords at","porta ante","keywords lorem"],searchableAttributes:["title","longtext"],customRanking:["popularity"],records:[{objectID:"1",title:"sleek title text",longtext:"Curabitur risus eros, eleifend a ligula et, elementum sollicitudin arcu. Aliquam convallis a est vitae finibus. Praesent vehicula, lacus sit amet pretium volutpat, metus lectus cursus magna, ac eleifend turpis augue eget metus. Phasellus id mattis turpis. Maecenas ligula metus, maximus ut venenatis nec, mollis quis orci. Vestibulum non placerat ipsum. Donec viverra ultricies velit, sit amet gravida eros sodales sit amet. Nulla consectetur odio sit amet metus dignissim accumsan.",popularity:2},{objectID:"2",title:"close keywords together",longtext:"Cool lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ante ipsum, volutpat at neque sit amet, laoreet dignissim enim. Nam elementum eros sit amet ipsum sagittis venenatis. Integer elementum sem a facilisis pulvinar. Nullam suscipit ipsum non orci tincidunt, nec consectetur dolor consectetur. Cras sodales, sapien eu scelerisque molestie, arcu ligula vulputate dui, et accumsan felis tortor vel quam. Nulla quam dui, tempor sit amet fermentum ac, dictum in nisl. Proin vestibulum dictum neque, nec tincidunt urna egestas nec. Duis vitae magna lectus. Morbi faucibus lorem et leo euismod tempus. Ut eleifend mi ut elit porttitor interdum. Nulla facilisi. Nulla luctus nisi consectetur tellus imperdiet efficitur.",popularity:3},{objectID:"3",title:"super cool keywords",longtext:"Phasellus porta dui ut ante accumsan, quis sollicitudin diam ornare. Integer commodo urna mauris, eget tempor nulla mollis egestas. Quisque at eros lacus. Duis maximus luctus sapien eu dignissim. Vivamus odio odio, eleifend vel purus non, tempor gravida diam. Phasellus lacinia, massa eu varius facilisis, ipsum augue congue arcu, vel scelerisque nunc neque ullamcorper diam. Nunc tempor massa gravida, vehicula nibh a, interdum tellus. Aliquam malesuada massa dolor, in rhoncus arcu interdum a. Sed massa risus, vehicula eget molestie et, sodales nec enim. Nulla dolor ligula, sollicitudin a vulputate quis, lobortis ac erat. In vel aliquet neque. Maecenas tempor fermentum tempor.",popularity:1}]},scenario5:{name:"teacher pay teacher",queries:["angles bisectors"],searchableAttributes:["name","description"],customRanking:["quality"],records:[{objectID:"1",name:"Midsegments and Angles Bisectors Scavenger Hunt Game",description:"Do you need a fun way for students to practice midsegments, angles bisectors, and perpendicular bisectors with minimal prep? The Midsegments and Angles Bisectors Scavenger Hunt Game gets students up and moving around while practicing math. In this game, students use the answer to one problem to find another problem hanging around the classroom.",quality:2418},{objectID:"2",name:"Geometry Basics: Points, Lines, Planes, Angles (Geometry Curriculum - Unit 1)",description:"Geometry Basics: Points, Lines, Planes, Angles (Geometry Curriculum - Unit 1) This bundle contains notes, homework assignments, three quizzes, dictionary, study guide and a unit test that cover the following topics:• Points, Lines, and Planes• Segment Addition Postulate• The Distance Formula• The Midpoint Formula• Partitioning a Segment (*newly added on 8/25/19!)•  Naming and Classifying Angles• Angles Addition Postulate• Angles Relationships (Adjacent, Vertical, Complementary, Supplementary, Linear Pair)• Solving for Missing Measures using Algebra• Special Relationships: Perpendicular and Angles Bisectors• Constructions (Perpendicular bisectors, perpendicular line through a point on the line, perpendicular line through a point not on the line, line parallel to a given line through a given point, angles bisector, congruent angles)",quality:191211}]},scenario6:{name:"printemps",queries:["polo blanc"],searchableAttributes:["color","title","description"],customRanking:["score"],records:[{objectID:"1",title:"Polo en coton piqué brodé",color:"Blanc",description:"Polo droit en coton blanc",score:2},{objectID:"2",title:"Polo droit coton piqué blanc",color:"Blanc",description:"Polo droit coton piqué blanc",score:1}]},scenario7:{name:"Same attribute score on on different attributes",queries:["A B"],searchableAttributes:["title","subTitle","description"],customRanking:["score"],records:[{objectID:"1",title:"A",subTitle:"C",description:"A B",score:1},{objectID:"2",title:"C",subTitle:"A B",description:"C",score:2}]}};function Se(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ke(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(i),!0).forEach((function(t){Object(v["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Se(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Ce={name:"App",components:{Records:Oe,InternalApp:V,AppHeader:X,SearchIcon:W},data:function(){return{query:"A B C",currentScenario:null,scenarios:Pe,orderedAttributes:{},disableProximityAttributes:{},disabledStrategies:{},strategies:[{name:"proximity > attribute (current)",firstCriteria:"proximity",attributeStrategy:"attribute-second-current"},{name:"attribute (current) > proximity",firstCriteria:"attribute",attributeStrategy:"attribute-first-current"},{name:"attribute (current) > proximity (attrCritByMin)",firstCriteria:"attribute",attributeStrategy:"attribute-first-current-criteria"},{name:"proximity > attribute (new)",firstCriteria:"proximity",attributeStrategy:"attribute-new"},{name:"attribute (new) > proximity",firstCriteria:"attribute",attributeStrategy:"attribute-new"}]}},watch:{currentScenario:function(){this.orderedAttributes={},this.disableProximityAttributes={}}},created:function(){this.setScenario("scenario0")},computed:{scenario:function(){return this.scenarios[this.currentScenario]},records:function(){return this.scenario?this.scenario.records:[]},filteredStrategies:function(){var e=this;return this.strategies.filter((function(t){return!0!==e.disabledStrategies[t.name]}))},allSearchableAttributes:function(){var e=[];return this.scenario.searchableAttributes.forEach((function(t){var i=t.split(",");e.push.apply(e,Object(P["a"])(i))})),e}},methods:{isOrderedAttribute:function(e){return!0===this.orderedAttributes[e]},isProximityAttribute:function(e){return!(!0===this.disableProximityAttributes[e])},setScenario:function(e){this.currentScenario=e,this.scenario.queries&&this.scenario.queries.length>0&&(this.query=this.scenario.queries[0])},tokenize:function(e){var t=this;if(de(e))return e.length<=0?[]:this.normalize(e.trim()).split(" ").map((function(e){return t.normalize(e)}));if(Array.isArray(e)){var i=[];return e.forEach((function(e){i.push.apply(i,Object(P["a"])(t.tokenize(e)))})),i}if(me(e)){var n=[];return Object.keys(e).forEach((function(i){n.push.apply(n,Object(P["a"])(t.tokenize(e[i])))})),n}return[]},normalize:function(e){return e.toLowerCase().replace(/[^ a-z0-9]+/gi,"").replace(/ +(?= )/g,"")},getHighLightAttribute:function(e,t){var i=this;if(Array.isArray(e))return e.map((function(e){return i.getHighLightAttribute(e,t)}));if(me(e)){var n={};Object.keys(e).map((function(r){n[r]=i.getHighLightAttribute(e[r],t)}))}if(de(e)){var r=e.trim().split(" ");return{matchLevel:"full",value:r.map((function(e){return t.includes(i.normalize(e))?"<ais-highlight-000>".concat(e,"</ais-highlight-000>"):e})).join(" ")}}return e},getHighLightAttributes:function(e){var t=this,i=this.query.trim().split(" ").map((function(e){return t.normalize(e)})),n=Object.keys(e),r={};return n.forEach((function(n){r[n]=t.getHighLightAttribute(e[n],i)})),r},transformedRecords:function(e,t,i){var n=this,r=this.tokenize(this.query);if(r.length<=0)return e;var a=e.filter((function(e){var t=[];Object.keys(e).forEach((function(i){n.allSearchableAttributes.includes(i)&&t.push.apply(t,Object(P["a"])(n.tokenize(e[i])))}));for(var i=0;i<r.length;i++)if(!t.includes(r[i]))return!1;return!0})),s=a.map((function(e){var t=n.getHighLightAttributes(e);return ke({},e,{rankingInfo:n.computeProximity(e,i),_highlightResult:t,_snippetResult:t})}));return s.sort((function(e,i){if("attribute"===t&&e.rankingInfo.attribute!==i.rankingInfo.attribute)return e.rankingInfo.attribute-i.rankingInfo.attribute;if(e.rankingInfo.proximity!==i.rankingInfo.proximity)return e.rankingInfo.proximity-i.rankingInfo.proximity;if("attribute"!==t&&e.rankingInfo.attribute!==i.rankingInfo.attribute)return e.rankingInfo.attribute-i.rankingInfo.attribute;if(n.scenario.customRanking)for(var r=0;r<n.scenario.customRanking.length;r++){var a=n.scenario.customRanking[r],s=void 0!==e[a]?e[a]:-1/0,o=void 0!==i[a]?i[a]:-1/0;if(s!==o)return o-s}return e.objectID.localeCompare(i.objectID)}))},computeProximityRec:function(e,t,i,n,r,a,s){var o=this;if(0===t.length)return{positionsForTokens:s,triedPositions:a,positions:r,proximity:i};var l=t[0],c=[];return e[l].forEach((function(u){var p=0,d=o.scenario.searchableAttributes[Math.floor(u/1e3)],m=o.isOrderedAttribute(d),f=o.isProximityAttribute(d),h=m?u:1e3*Math.floor(u/1e3);if(void 0!==n){var b=o.scenario.searchableAttributes[Math.floor(n/1e3)],g=o.isProximityAttribute(b),v=Math.abs(u-n),y=Math.abs(Math.floor(u/1e3)-Math.floor(n/1e3));v>=8||!f||!g?p=8:(p=v,0===y&&u-n<0&&p++)}a.push(h),void 0===s[l]&&(s[l]=[]),s[l].push(h),c.push(o.computeProximityRec(e,t.slice(1),i+p,u,[].concat(Object(P["a"])(r),[h]),a,s))})),c.sort((function(e,t){return e.proximity-t.proximity})),c.length>0?c[0]:0},computeProximity:function(e,t){var i=this,n={};this.scenario.searchableAttributes.forEach((function(t,r){var a=0;t.split(",").forEach((function(t){if(de(e[t])){var s=i.tokenize(e[t]);s.forEach((function(e,t){n[e]=void 0===n[e]?[]:n[e],n[e].push(1e3*r+Math.min(999,a+t))}))}Array.isArray(e[t])&&e[t].forEach((function(e){var t=e.trim().split(" ").map((function(e){return i.normalize(e)}));t.forEach((function(e){n[e]=void 0===n[e]?[]:n[e],n[e].push(1e3*r+Math.min(999,a)),a+=1})),a+=7})),a+=8}))})),Object.keys(n).forEach((function(e){n[e].sort((function(e,t){return e-t}))}));var r=this.query.trim().split(" ").map((function(e){return i.normalize(e)})),a=this.computeProximityRec(n,r,0,void 0,[],[],{}),s=0;if("attribute-second-current"===t||"attribute-first-current-criteria"===t)a.positions.length>0&&(a.positions.sort((function(e,t){return e-t})),s=a.positions[0]);else if("attribute-first-current"===t)a.positions.length>0&&(a.triedPositions.sort((function(e,t){return e-t})),s=a.triedPositions[0]);else if("attribute-new"===t){var o=[];r.forEach((function(e){var t=a.positionsForTokens[e];t&&t.length>0&&(t.sort((function(e,t){return e-t})),s+=1e3*Math.floor(t[0]/1e3),o.push(t[0]))})),o.length>0&&(o.sort((function(e,t){return e-t})),s+=o[0])}return{proximity:a.proximity,attribute:s}}}},Ne=Ce,De=Object(q["a"])(Ne,w,O,!1,null,null,null),Te=De.exports;n["a"].config.productionTip=!1,n["a"].config.performance=!0,new n["a"]({render:function(e){return e(Te)},store:j}).$mount("#app")}});
//# sourceMappingURL=app.428ff445.js.map