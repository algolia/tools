(function(e){function t(t){for(var n,r,l=t[0],o=t[1],u=t[2],p=0,d=[];p<l.length;p++)r=l[p],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);c&&c(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,l=1;l<a.length;l++){var o=a[l];0!==s[o]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},s={app:0},i=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/insights-ui/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"27dd":function(e,t){const a=[{query:{scope:["search"],value_type:"string",default:""},extraChartsAttributes:{scope:["search"],value_type:"attributes_list",default:[]},searchableAttributes:{scope:"settings",value_type:"attributes_list",modifiers:["","unordered"],default:[],settings_default:null},attributesToIndex:{scope:"settings",value_type:"attributes_list",default:[],ignore_value:null},attributesForFaceting:{scope:"settings",value_type:"attributes_list",modifiers:["","searchable","filterOnly"],default:[],settings_default:null},unretrievableAttributes:{scope:"settings",value_type:"attributes_list",default:[],settings_default:null},attributesToRetrieve:{scope:["settings","search"],value_type:"attributes_list",default:[],settings_default:null},attributesToTransliterate:{scope:["settings"],value_type:"attributes_list",default:[],settings_defaut:null,values:["*"]},restrictSearchableAttributes:{scope:["search"],value_type:"attributes_list",default:[]},ranking:{scope:"settings",value_type:"string_list",modifiers:["asc","desc"],values:["typo","geo","words","filters","proximity","attribute","exact","custom"],default:["typo","geo","words","filters","proximity","attribute","exact","custom"],settings_default:["typo","geo","words","filters","proximity","attribute","exact","custom"]},customRanking:{scope:"settings",value_type:"attributes_list",modifiers:["asc","desc"],default:[],settings_default:null},replicas:{scope:"settings",value_type:"string_list",default:[],settings_default:null},filters:{scope:["search"],value_type:"filters",default:""},facetFilters:{scope:["search"],value_type:"string_list",default:[]},optionalFilters:{scope:["search"],value_type:"string_list",default:[]},personalizationFilters:{scope:["search"],value_type:"string_list",default:[]},numericFilters:{scope:["search"],value_type:"string_list",default:[]},numericAttributesToIndex:{scope:"settings",value_type:"attributes_list",default:[],settings_default:null},tagFilters:{scope:["search"],value_type:"string_list",default:[]},sumOrFiltersScores:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},facets:{scope:["settings","search"],value_type:"attributes_list",default:[],values:["*"]},maxValuesPerFacet:{scope:["settings","search"],value_type:"integer",min:0,max:1e3,default:10,settings_default:100},facetingAfterDistinct:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},sortFacetValuesBy:{scope:["settings","search"],value_type:"enum",values:["count","alpha"],default:"count"},attributesToHighlight:{scope:["settings","search"],value_type:"attributes_list",default:[],settings_default:null,values:["*"]},attributesToSnippet:{scope:["settings","search"],value_type:"attributes_list",default:[],settings_default:null,values:["*"]},highlightPreTag:{scope:["settings","search"],value_type:"string",default:"<em>",settings_default:"<em>"},highlightPostTag:{scope:["settings","search"],value_type:"string",default:"</em>",settings_default:"</em>"},snippetEllipsisText:{scope:["settings","search"],value_type:"string",default:"…",settings_default:"…"},restrictHighlightAndSnippetArrays:{scope:["settings","search"],value_type:"boolean",values:[!0,!1],default:!1},page:{scope:["search"],value_type:"integer",min:0,default:0},offset:{scope:["search"],value_type:"integer",min:0,default:0},length:{scope:["search"],value_type:"integer",min:0,default:20},cursor:{scope:["search"],value_type:"string",default:""},hitsPerPage:{scope:["settings","search"],value_type:"integer",min:0,max:1e3,default:20,settings_default:20},paginationLimitedTo:{scope:"settings",value_type:"integer",min:0,default:1e3,settings_default:1e3},minWordSizefor1Typo:{scope:["settings","search"],value_type:"integer",min:1,default:4,settings_default:4},minWordSizefor2Typos:{scope:["settings","search"],value_type:"integer",min:1,default:8,settings_default:8},typoTolerance:{scope:["settings","search"],value_type:"enum",values:[!0,!1,"min","strict"],default:!0,settings_default:null},allowTyposOnNumericTokens:{scope:["settings","search"],value_type:"boolean",values:[!0,!1],default:!0,settings_default:null},disableTypoToleranceOnAttributes:{scope:["settings","search"],value_type:"attributes_list",default:[],settings_default:null},disableTypoToleranceOnWords:{scope:"settings",value_type:"string_list",default:[],settings_default:null},separatorsToIndex:{scope:"settings",value_type:"string",default:"",settings_default:""},aroundLatLng:{scope:["search"],value_type:"string",default:""},aroundLatLngViaIP:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},aroundRadius:{scope:["search"],value_type:"integer",values:["all"],default:1e3},aroundPrecision:{scope:["search"],value_type:"integer",min:1,default:1},minimumAroundRadius:{scope:["search"],value_type:"integer",min:0,default:1e3},insideBoundingBox:{scope:["search"],value_type:"string",default:[]},insidePolygon:{scope:["search"],value_type:"string",default:[]},ignorePlurals:{scope:["settings","search"],value_type:"enum",values:[!0,!1,{name:"af",label:"Afrikaans"},{name:"ar",label:"Arabic"},{name:"az",label:"Azerbaijani"},{name:"bg",label:"Bulgarian"},{name:"ca",label:"Catalan"},{name:"cs",label:"Czech"},{name:"cy",label:"Welsh"},{name:"da",label:"Danish"},{name:"de",label:"German"},{name:"en",label:"English"},{name:"eo",label:"Esperanto"},{name:"es",label:"Spanish"},{name:"et",label:"Estonian"},{name:"eu",label:"Basque"},{name:"fi",label:"Finnish"},{name:"fo",label:"Faroese"},{name:"fr",label:"French"},{name:"gl",label:"Galician"},{name:"he",label:"Hebrew"},{name:"hi",label:"Hindi"},{name:"hu",label:"Hungarian"},{name:"hy",label:"Armenian"},{name:"id",label:"Indonesian"},{name:"is",label:"Icelandic"},{name:"it",label:"Italian"},{name:"ja",label:"Japanese"},{name:"ka",label:"Georgian"},{name:"kk",label:"Kazakh"},{name:"ko",label:"Korean"},{name:"ky",label:"Kirghiz"},{name:"lt",label:"Lithuanian"},{name:"mi",label:"Maori"},{name:"mn",label:"Mongolian"},{name:"mr",label:"Marathi"},{name:"ms",label:"Malay"},{name:"mt",label:"Maltese"},{name:"nb",label:"Norwegian Bokmål"},{name:"nl",label:"Dutch"},{name:"no",label:"Norwegian"},{name:"ns",label:"Northern Sotho"},{name:"pl",label:"Polish"},{name:"ps",label:"Pashto"},{name:"pt",label:"Portuguese"},{name:"qu",label:"Quechua"},{name:"ro",label:"Romanian"},{name:"ru",label:"Russian"},{name:"sk",label:"Slovak"},{name:"sq",label:"Albanian"},{name:"sv",label:"Swedish"},{name:"sw",label:"Swahili"},{name:"ta",label:"Tamil"},{name:"te",label:"Telugu"},{name:"tl",label:"Tagalog"},{name:"tn",label:"Tswana"},{name:"tr",label:"Turkish"},{name:"tt",label:"Tatar"},{name:"uk",label:"Ukrainian"},{name:"ur",label:"Urdu"},{name:"uz",label:"Uzbek"},{name:"zh",label:"Chinese"}],default:!0,settings_default:null},ignoreConjugations:{scope:["settings","search"],value_type:"enum",values:[!0,!1,{name:"af",label:"Afrikaans"},{name:"ar",label:"Arabic"},{name:"az",label:"Azerbaijani"},{name:"bg",label:"Bulgarian"},{name:"ca",label:"Catalan"},{name:"cs",label:"Czech"},{name:"cy",label:"Welsh"},{name:"da",label:"Danish"},{name:"de",label:"German"},{name:"en",label:"English"},{name:"eo",label:"Esperanto"},{name:"es",label:"Spanish"},{name:"et",label:"Estonian"},{name:"eu",label:"Basque"},{name:"fi",label:"Finnish"},{name:"fo",label:"Faroese"},{name:"fr",label:"French"},{name:"gl",label:"Galician"},{name:"he",label:"Hebrew"},{name:"hi",label:"Hindi"},{name:"hu",label:"Hungarian"},{name:"hy",label:"Armenian"},{name:"id",label:"Indonesian"},{name:"is",label:"Icelandic"},{name:"it",label:"Italian"},{name:"ja",label:"Japanese"},{name:"ka",label:"Georgian"},{name:"kk",label:"Kazakh"},{name:"ko",label:"Korean"},{name:"ky",label:"Kirghiz"},{name:"lt",label:"Lithuanian"},{name:"mi",label:"Maori"},{name:"mn",label:"Mongolian"},{name:"mr",label:"Marathi"},{name:"ms",label:"Malay"},{name:"mt",label:"Maltese"},{name:"nb",label:"Norwegian Bokmål"},{name:"nl",label:"Dutch"},{name:"no",label:"Norwegian"},{name:"ns",label:"Northern Sotho"},{name:"pl",label:"Polish"},{name:"ps",label:"Pashto"},{name:"pt",label:"Portuguese"},{name:"qu",label:"Quechua"},{name:"ro",label:"Romanian"},{name:"ru",label:"Russian"},{name:"sk",label:"Slovak"},{name:"sq",label:"Albanian"},{name:"sv",label:"Swedish"},{name:"sw",label:"Swahili"},{name:"ta",label:"Tamil"},{name:"te",label:"Telugu"},{name:"tl",label:"Tagalog"},{name:"tn",label:"Tswana"},{name:"tr",label:"Turkish"},{name:"tt",label:"Tatar"},{name:"uk",label:"Ukrainian"},{name:"ur",label:"Urdu"},{name:"uz",label:"Uzbek"},{name:"zh",label:"Chinese"}],default:!0,settings_default:null},removeStopWords:{scope:["settings","search"],value_type:"enum",values:[!0,!1,{name:"ar",label:"Arabic"},{name:"bg",label:"Bulgarian"},{name:"bn",label:"Bengali"},{name:"ca",label:"Catalan"},{name:"cs",label:"Czech"},{name:"da",label:"Danish"},{name:"de",label:"German"},{name:"el",label:"Greek"},{name:"en",label:"English"},{name:"es",label:"Spanish"},{name:"eu",label:"Basque"},{name:"fa",label:"Persian (Farsi)"},{name:"fi",label:"Finnish"},{name:"fr",label:"French"},{name:"ga",label:"Irish"},{name:"gl",label:"Galician"},{name:"hi",label:"Hindi"},{name:"hu",label:"Hungarian"},{name:"hy",label:"Armenian"},{name:"id",label:"Indonesian"},{name:"it",label:"Italian"},{name:"ja",label:"Japanese"},{name:"ko",label:"Korean"},{name:"ku",label:"Kurdish"},{name:"lt",label:"Lithuanian"},{name:"lv",label:"Latvian"},{name:"mr",label:"Marathi"},{name:"nl",label:"Dutch"},{name:"no",label:"Norwegian"},{name:"pl",label:"Polish"},{name:"pt",label:"Portuguese"},{name:"pt-br",label:"Brazilian"},{name:"ro",label:"Romanian"},{name:"ru",label:"Russian"},{name:"sk",label:"Slovak"},{name:"sv",label:"Swedish"},{name:"th",label:"Thai"},{name:"tr",label:"Turkish"},{name:"uk",label:"Ukranian"},{name:"ur",label:"Urdu"},{name:"zh",label:"Chinese"}],default:!0,settings_default:null},camelCaseAttributes:{scope:"settings",value_type:"attributes_list",default:[]},keepDiacriticsOnCharacters:{scope:"settings",value_type:"string",default:""},indexLanguages:{scope:["settings"],value_type:"enum_list",values:[{name:"ja",label:"Japanese"}],default:["ja"],settings_default:null},queryLanguages:{scope:["settings","search"],value_type:"enum",values:[{name:"af",label:"Afrikaans"},{name:"ar",label:"Arabic"},{name:"az",label:"Azerbaijani"},{name:"bg",label:"Bulgarian"},{name:"bn",label:"Bengali"},{name:"ca",label:"Catalan"},{name:"cs",label:"Czech"},{name:"cy",label:"Welsh"},{name:"da",label:"Danish"},{name:"de",label:"German"},{name:"el",label:"Greek"},{name:"en",label:"English"},{name:"eo",label:"Esperanto"},{name:"es",label:"Spanish"},{name:"et",label:"Estonian"},{name:"eu",label:"Basque"},{name:"fa",label:"Persian (Farsi)"},{name:"fi",label:"Finnish"},{name:"fo",label:"Faroese"},{name:"fr",label:"French"},{name:"ga",label:"Irish"},{name:"gl",label:"Galician"},{name:"he",label:"Hebrew"},{name:"hi",label:"Hindi"},{name:"hu",label:"Hungarian"},{name:"hy",label:"Armenian"},{name:"id",label:"Indonesian"},{name:"is",label:"Icelandic"},{name:"it",label:"Italian"},{name:"ja",label:"Japanese"},{name:"ka",label:"Georgian"},{name:"kk",label:"Kazakh"},{name:"ko",label:"Korean"},{name:"ku",label:"Kurdish"},{name:"ky",label:"Kirghiz"},{name:"lt",label:"Lithuanian"},{name:"lv",label:"Latvian"},{name:"mi",label:"Maori"},{name:"mn",label:"Mongolian"},{name:"mr",label:"Marathi"},{name:"ms",label:"Malay"},{name:"mt",label:"Maltese"},{name:"nb",label:"Norwegian Bokmål"},{name:"nl",label:"Dutch"},{name:"no",label:"Norwegian"},{name:"ns",label:"Northern Sotho"},{name:"pl",label:"Polish"},{name:"ps",label:"Pashto"},{name:"pt",label:"Portuguese"},{name:"pt-br",label:"Brazilian"},{name:"qu",label:"Quechua"},{name:"ro",label:"Romanian"},{name:"ru",label:"Russian"},{name:"sk",label:"Slovak"},{name:"sq",label:"Albanian"},{name:"sv",label:"Swedish"},{name:"sw",label:"Swahili"},{name:"ta",label:"Tamil"},{name:"te",label:"Telugu"},{name:"th",label:"Thai"},{name:"tl",label:"Tagalog"},{name:"tn",label:"Tswana"},{name:"tr",label:"Turkish"},{name:"tt",label:"Tatar"},{name:"uk",label:"Ukranian"},{name:"ur",label:"Urdu"},{name:"uz",label:"Uzbek"},{name:"zh",label:"Chinese"}],default:[],settings_default:null},enableRules:{scope:["settings","search"],value_type:"boolean",values:[!0,!1],default:!0},ruleContexts:{scope:["search"],value_type:"string_list",default:[]},enablePersonalization:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},enableExperimentalBlendPersonalization:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},experimentalDecompoundQuery:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},queryType:{scope:["settings","search"],value_type:"enum",values:["prefixLast","prefixAll","prefixNone"],default:"prefixLast",settings_default:"prefixLast"},removeWordsIfNoResults:{scope:["settings","search"],value_type:"enum",values:["none","lastWords","firstWords","allOptional"],default:"none",settings_default:"none"},advancedSyntax:{scope:["settings","search"],value_type:"boolean",values:[!0,!1],default:!1,settings_default:null},optionalWords:{scope:["settings","search"],value_type:"string_list",default:[],settings_default:null},"optionalWords=query":{scope:["search"],value_type:"boolean",default:!0,values:[!0,!1]},disablePrefixOnAttributes:{scope:"settings",value_type:"attributes_list",default:[]},disableExactOnAttributes:{scope:["settings","search"],value_type:"attributes_list",default:[],settings_default:null},exactOnSingleWordQuery:{scope:["settings","search"],value_type:"enum",values:["attribute","none","word"],default:"attribute",settings_default:"attribute"},alternativesAsExact:{scope:["settings","search"],value_type:"enum_list",values:["ignorePlurals","singleWordSynonym","multiWordsSynonym"],default:[],settings_default:["ignorePlurals","singleWordSynonym"]},numericAttributesForFiltering:{scope:"settings",value_type:"attributes_list",modifiers:["equalOnly"],default:[]},allowCompressionOfIntegerArray:{scope:"settings",value_type:"boolean",values:[!0,!1],default:!1},attributeForDistinct:{scope:"settings",value_type:"attribute",default:"",settings_default:null},distinct:{scope:["settings","search"],value_type:"integer",min:0,max:1e3,default:0,settings_default:null},nbShards:{scope:["settings"],value_type:"integer",min:1,max:8,default:1},getRankingInfo:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},clickAnalytics:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},analytics:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},analyticsTags:{scope:["search"],value_type:"string_list",default:[]},synonyms:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},replaceSynonymsInHighlight:{scope:["settings","search"],value_type:"boolean",values:[!0,!1],default:!0,settings_default:null},minProximity:{scope:["settings","search"],value_type:"integer",min:1,max:8,default:1,settings_default:null},maxFacetHits:{scope:["settings","search"],value_type:"integer",min:1,max:100,default:10},percentileComputation:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},userToken:{scope:["search"],value_type:"string",default:""},personalizationImpact:{scope:["search"],value_type:"integer_slider",max:100,min:0,default:100},processingTimeoutMS:{scope:["search"],value_type:"integer",default:50,min:1,max:6e4,admin_only:1},attributeCriteriaComputedByMinProximity:{scope:["search","settings"],value_type:"boolean",values:[!0,!1],default:!1},scanDistinctHitsUntilPaginationLimitedTo:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},enableABTest:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},decompoundedAttributes:{scope:["settings"],value_type:"object",object_type:"decompounded_attributes",values:["nl","de","fi"],value:{value_type:"attributes_list"},default:{"":[]},settings_default:null}}];e.exports=a.length<=1?a[0]:a},"56d7":function(e,t,a){"use strict";a.r(t);a("dde3"),a("c8a0"),a("3cdf"),a("5c85");var n=a("9869"),s=a("9ce4"),i=a("5552"),r=function(e,t,a){e=e||{},t=e.storage||window&&window.localStorage,a=e.key||"vuex";var n=500,s=null;function r(e,t,a){try{return(a=t.getItem(e))&&"undefined"!==typeof a?JSON.parse(a):void 0}catch(n){}}function l(t,a,i){window.clearTimeout(s),s=window.setTimeout((function(){var n=a;e.reducer&&(n=e.reducer(a)),i.setItem(t,JSON.stringify(n))}),n)}return function(e){var n=r(a,t);if("object"===Object(i["a"])(n)&&null!==n){var s;for(s in e.state)void 0===n[s]&&(n[s]=e.state[s]);e.replaceState(n)}e.subscribe((function(e,n){l(a,n,t)}))}},l=(a("2e73"),a("0c1f"),function(){return{namespaced:!0,state:{searchParams:{},searchParams2:{},indexSettings:{},advancedIndexSettings:{},refIndexSettings:{},imageAttributeName:null,autoTitleAttributeName:null,titleAttribute:"",ignoreImageProxy:!1,imageSize:40,imageBaseUrl:"",imageSuffixUrl:"",lastUsed:(new Date).getTime()},mutations:{replaceIndexData:function(e,t){Object.keys(t).forEach((function(a){void 0!==e[a]&&n["default"].set(e,a,t[a])}))},updateLastUsed:function(e){e.lastUsed=(new Date).getTime()},replaceIndexSettings:function(e,t){var a=t;n["default"].set(e,"indexSettings",{}),Object.keys(a).forEach((function(t){n["default"].set(e.indexSettings,t,{value:a[t],enabled:!0})})),n["default"].set(e,"refIndexSettings",JSON.parse(JSON.stringify(e.indexSettings)))},setImageSize:function(e,t){n["default"].set(e,"imageSize",t)},setIgnoreImageProxy:function(e,t){n["default"].set(e,"ignoreImageProxy",t)},setAutoTitleAttributeName:function(e,t){n["default"].set(e,"autoTitleAttributeName",t)},setTitleAttribute:function(e,t){n["default"].set(e,"titleAttribute",t)},resetIndexSettings:function(e){n["default"].set(e,"indexSettings",JSON.parse(JSON.stringify(e.refIndexSettings)))},setImageAttributeName:function(e,t){n["default"].set(e,"imageAttributeName",t)},setImageBaseUrl:function(e,t){n["default"].set(e,"imageBaseUrl",t)},setImageSuffixUrl:function(e,t){n["default"].set(e,"imageSuffixUrl",t)},restoreIndexSetting:function(e,t){var a=t.inputKey;n["default"].set(e.indexSettings,a,JSON.parse(JSON.stringify(e.refIndexSettings[a])))},setAdvancedIndexSettings:function(e,t){n["default"].set(e,"advancedIndexSettings",t)},setParamValue:function(e,t){var a=t.configKey||this.state.edit.configKey;n["default"].set(e[a],t.key,{value:t.value,enabled:!0})},setParamEnabled:function(e,t){n["default"].set(e[t.configKey][t.inputKey],"enabled",t.value)},deleteParam:function(e,t){n["default"].delete(e[t.configKey],t.inputKey)},deleteArrayElement:function(e,t){n["default"].delete(e[t.configKey][t.inputKey].value,t.positionKey)},setKeysIndexer:function(e,t){n["default"].set(e,"keysIndexer",t)},setIndexAnalyzer:function(e,t){n["default"].set(e,"indexAnalyzer",t)}}}}),o=function(e,t,a){return{namespaced:!0,state:{key:t,lastIndexName:a,userId:null,__app_name:"",__app_owner:""},mutations:{setLastIndexName:function(e,t){n["default"].set(e,a,t)},setAppName:function(e,t){n["default"].set(e,"__app_name",t)},setAppOwner:function(e,t){n["default"].set(e,"__app_owner",t)},setUserId:function(e,t){n["default"].set(e,"userId",t)},addIndex:function(t,a){var n=a,s=["apps",e,n],i=this._modules.get(s);void 0===i&&(t[n]?this.registerModule(["apps",e,n],l(),{preserveState:!0}):this.registerModule(["apps",e,n],l()),i=this._modules.get(s)),i.context.commit("updateLastUsed")}}}},u={namespaced:!0,modules:{},mutations:{addAppId:function(e,t){var a=t.appId,s=["apps",a],i=this._modules.get(s),r=t.apiKey||null;void 0!==i&&e[a]?t.apiKey&&n["default"].set(e[a],"key",r):(e[a]?this.registerModule(["apps",a],o(a,r),{preserveState:!0}):this.registerModule(["apps",a],o(a,r,null)),null===this.state.panels.leftPanel.appId&&n["default"].set(this.state.panels.leftPanel,"appId",a),null===this.state.panels.rightPanel.appId&&n["default"].set(this.state.panels.rightPanel,"appId",a))},deleteAppId:function(e,t){var a=t,s=["apps",a],i=this._modules.get(s);i&&this.unregisterModule(s),n["default"].delete(e,a);var r=null,l=Object.keys(e);l.length>0&&(r=l[0]),this.state.panels.leftPanel.appId===a&&n["default"].set(this.state.panels.leftPanel,"appId",r),this.state.panels.rightPanel.appId===a&&n["default"].set(this.state.panels.rightPanel,"appId",r)}}},c=function(e,t){return{namespaced:!0,state:{appId:e,indexName:t,server:"-dsn",displayMode:"list",currentTab:"hits",method:"search"},mutations:{setPanelConfig:function(e,t){n["default"].set(e,"appId",t.appId),n["default"].set(e,"indexName",t.indexName),n["default"].set(e,"server","-dsn"),e.indexName&&n["default"].set(this.state.apps[t.appId],"lastIndexName",e.indexName)},setMethod:function(e,t){n["default"].set(e,"method",t)},setServer:function(e,t){n["default"].set(e,"server",t)},setDisplayMode:function(e,t){n["default"].set(e,"displayMode",t)},setCurrentTab:function(e,t){n["default"].set(e,"currentTab",t)}}}},p={namespaced:!0,modules:{leftPanel:c(null,null),rightPanel:c(null,null)},state:{splitMode:!1,query:"",twoInputs:!1,displayRankingInfo:!1,showSearchableAttributes:!0,showCustomRanking:!0,showAttributesForFaceting:!0,showOnlyMatchingAttributes:!1,comparePanels:!1,manageAppsPanel:!0,expandLeftPanel:!1,analyseMaxNbPoints:100,shareStatePanel:!1,trackedObjects:[]},mutations:{setTrackedObjects:function(e,t){n["default"].set(e,"trackedObjects",t)},setTwoInputs:function(e,t){n["default"].set(e,"twoInputs",t)},replacePanels:function(e,t){Object.keys(t).forEach((function(a){void 0!==e[a]&&n["default"].set(e,a,t[a])}))},setShareStatePanel:function(e,t){n["default"].set(e,"shareStatePanel",t)},setExpandLeftPanel:function(e,t){n["default"].set(e,"expandLeftPanel",t)},setManageAppsPanel:function(e,t){n["default"].set(e,"manageAppsPanel",t)},setAnalyseMaxNbPoints:function(e,t){n["default"].set(e,"analyseMaxNbPoints",t)},setComparePanels:function(e,t){n["default"].set(e,"comparePanels",t)},setDisplayRankingInfo:function(e,t){n["default"].set(e,"displayRankingInfo",t)},setShowSearchableAttributes:function(e,t){n["default"].set(e,"showSearchableAttributes",t)},setShowCustomRanking:function(e,t){n["default"].set(e,"showCustomRanking",t)},setShowAttributesForFaceting:function(e,t){n["default"].set(e,"showAttributesForFaceting",t)},setShowOnlyMatchingAttributes:function(e,t){n["default"].set(e,"showOnlyMatchingAttributes",t)},rightFromLeft:function(e){n["default"].set(e.rightPanel,"appId",e.leftPanel.appId),n["default"].set(e.rightPanel,"indexName",e.leftPanel.indexName),n["default"].set(this.state.apps[e.rightPanel.appId],"lastIndexName",e.rightPanel.indexName)},leftFromRight:function(e){n["default"].set(e.leftPanel,"appId",e.rightPanel.appId),n["default"].set(e.leftPanel,"indexName",e.rightPanel.indexName),n["default"].set(this.state.apps[e.leftPanel.appId],"lastIndexName",e.leftPanel.indexName)},setQuery:function(e,t){n["default"].set(e,"query",t)},setSplitMode:function(e,t){n["default"].set(e,"splitMode",t)},jumpParams:function(e,t){var a=t.configKey,s="rightPanel"===t.panelKey?"leftPanel":"rightPanel",i=e[t.panelKey].appId,r=e[t.panelKey].indexName,l=e[s].appId,o=e[s].indexName,u=this.state.apps[i][r][a];"searchParams2"===a?a="searchParams":"searchParams"===a&&i===l&&r===o&&(a="searchParams2");var c=this.state.apps[l][o];Object.keys(u).forEach((function(e){-1===["replicas"].indexOf(e)&&n["default"].set(c[a],e,JSON.parse(JSON.stringify(u[e])))}))},clearParams:function(e,t){var a=t.configKey,s=e[t.panelKey].appId,i=e[t.panelKey].indexName,r=this.state.apps[s][i];n["default"].set(r,a,{})},jumpParamValue:function(e,t){var a=t.configKey,s="rightPanel"===t.panelKey?"leftPanel":"rightPanel",i=e[t.panelKey].appId,r=e[t.panelKey].indexName,l=e[s].appId,o=e[s].indexName,u=this.state.apps[i][r][a];"searchParams2"===a?a="searchParams":"searchParams"===a&&i===l&&r===o&&(a="searchParams2");var c=this.state.apps[l][o][a];n["default"].set(c,t.inputKey,JSON.parse(JSON.stringify(u[t.inputKey])))}}},d={namespaced:!0,state:{appId:null,indexName:null,server:null,logsType:null},mutations:{setAppId:function(e,t){n["default"].set(e,"appId",t)},setIndexName:function(e,t){n["default"].set(e,"indexName",t)},setServer:function(e,t){n["default"].set(e,"server",t)},setLogsType:function(e,t){n["default"].set(e,"logsType",t)}}},h={namespaced:!0,state:{leftAppId:null,leftIndexName:null,rightAppId:null,rightIndexName:null,currentTab:"settings"},mutations:{setLeftAppId:function(e,t){n["default"].set(e,"leftAppId",t)},setLeftIndexName:function(e,t){n["default"].set(e,"leftIndexName",t)},setRightAppId:function(e,t){n["default"].set(e,"rightAppId",t)},setRightIndexName:function(e,t){n["default"].set(e,"rightIndexName",t)},setCurrentTab:function(e,t){n["default"].set(e,"currentTab",t)}}},m={namespaced:!0,state:{appId:null,indexName:null},mutations:{setAppId:function(e,t){n["default"].set(e,"appId",t)},setIndexName:function(e,t){n["default"].set(e,"indexName",t)}}},f={namespaced:!0,state:{appId:null},mutations:{setAppId:function(e,t){n["default"].set(e,"appId",t)}}},g={namespaced:!0,state:{filtering:"all"},mutations:{setFiltering:function(e,t){n["default"].set(e,"filtering",t)}}},y={namespaced:!0,state:{appId:null,indexName:null,tab:"click"},mutations:{setAppId:function(e,t){n["default"].set(e,"appId",t)},setIndexName:function(e,t){n["default"].set(e,"indexName",t)},setTab:function(e,t){n["default"].set(e,"tab",t)}}},b=(a("e125"),a("ce72")),v=a("c24d");function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(b["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=new Date;I.setDate(I.getDate()-7);var w=function(e){var t=e.panels,a=(t.leftPanel,t.rightPanel,t.shareStatePanel,t.manageAppsPanel,Object(v["a"])(t,["leftPanel","rightPanel","shareStatePanel","manageAppsPanel"]));return Object.keys(e).reduce((function(t,n){var s;return _({},t,(s={},Object(b["a"])(s,n,e[n]),Object(b["a"])(s,"panels",_({leftPanel:e.panels.leftPanel,rightPanel:e.panels.rightPanel},a)),Object(b["a"])(s,"apps",Object.keys(e.apps).reduce((function(t,a){var n=e.apps[a],s=n.key,i=n.lastIndexName,r=n.userId,l=n.__app_name,o=n.__app_owner,u=Object(v["a"])(n,["key","lastIndexName","userId","__app_name","__app_owner"]);return _({},t,Object(b["a"])({},a,Object.keys(u).reduce((function(t,n){var s=e.apps[a][n],i=(s.indexSettings,s.refIndexSettings,s.advancedIndexSettings,s.keysIndexer,s.indexAnalyzer,s.autoTitleAttributeName,Object(v["a"])(s,["indexSettings","refIndexSettings","advancedIndexSettings","keysIndexer","indexAnalyzer","autoTitleAttributeName"])),r=(new Date).getTime(),l=i.lastUsed||I.getTime(),o=Math.floor((r-l)/1e3/3600/24);return o>=7?t:_({},t,Object(b["a"])({},n,i))}),{key:s,lastIndexName:i,userId:r,__app_name:l,__app_owner:o})))}),{})),s))}),{})};n["default"].use(s["a"]);var k=new s["a"].Store({modules:{apps:u,panels:p,apilogs:d,indexdiffer:h,relevancetesting:g,indexmanager:f,insightsui:y,indexanalyzer:m},plugins:[r({reducer:w})]}),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("internal-app",[a("div",{staticClass:"min-h-screen"},[a("app-header",{attrs:{"app-name":"Insights UI"}},[a("display-config",{staticClass:"mx-16 mt-0 ml-auto"})],1),a("app-management"),a("div",{staticClass:"max-w-960 mx-auto mt-24 pb-24"},[a("div",{staticClass:"bg-white rounded border border-proton-grey-opacity-60"},[a("div",{staticClass:"flex bg-white p-8 pb-12 border-nova-grey-opacity-20 bg-proton-grey-opacity-80 text-telluric-blue"},[a("app-selector",{staticClass:"mr-16",model:{value:e.appId,callback:function(t){e.appId=t},expression:"appId"}}),a("index-selector",{attrs:{"app-id":e.appId},model:{value:e.indexName,callback:function(t){e.indexName=t},expression:"indexName"}})],1),e.indexData&&this.apiKey?a("div",[a("div",{staticClass:"flex bg-proton-grey-opacity-40 text-telluric-blue"},[a("div",{staticClass:"mx-8 p-8 -mb-2 cursor-pointer",class:"click"===e.tab?"border-b-2 border-nebula-blue-opacity-80":"",on:{click:function(t){e.tab="click"}}},[e._v("\n                            Click Analytics\n                        ")]),a("div",{staticClass:"mx-8 p-8 -mb-2 cursor-pointer",class:"perso"===e.tab?"border-b-2 border-nebula-blue-opacity-80":"",on:{click:function(t){e.tab="perso"}}},[e._v("\n                            Perso\n                        ")])]),a("div",{staticClass:"p-16"},["click"===e.tab?a("click-analytics-event",{attrs:{"app-id":e.appId,"index-name":e.indexName,"api-key":e.apiKey,aa:e.aa}}):e._e(),"perso"===e.tab?a("div",[a("settings-loader",{attrs:{"app-id":e.appId,"api-key":e.apiKey,"index-name":e.indexName}}),a("strategy",{attrs:{"app-id":e.appId,"api-key":e.apiKey}}),a("perso-event",{attrs:{aa:e.aa,"app-id":e.appId,"index-name":e.indexName,"api-key":e.apiKey}})],1):e._e()],1)]):e._e()])])],1)])},A=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-moon-grey text-base font-sans-alt min-h-screen",attrs:{id:"app"}},[a("algolia-proxy",{attrs:{enabled:e.isProduction||!0}},[e._t("default",null,{slot:"loggedIn"}),a("div",{staticClass:"h-screen flex justify-center items-center",attrs:{slot:"loggedOut"},slot:"loggedOut"},[a("div",{staticClass:"flex flex-col justify-center items-center"},[a("loader-icon",{staticClass:"w-48 h-48 infinte-rotate"}),a("div",{staticClass:"mt-20"},[e._v("\n                    Connecting to your Algolia account\n                ")])],1)]),a("div",{attrs:{slot:"unauthorized"},slot:"unauthorized"},[e._v("\n            This an internal algolia app.\n        ")])],2)],1)},O=[],C={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:["feather feather-loader",r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-loader"},c),...p},i.concat([a("path",{attrs:{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"}})]))}},j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[!e.authorized||e.enabled&&!e.currentUser?e.authorized?e._t("loggedOut"):e._t("unauthorized"):e._t("loggedIn")],2)},N=[],E=(a("df26"),a("c8ff")),K={name:"AlgoliaProxy",props:["enabled"],data:function(){return{currentUser:null,authorized:!0,paused:!1}},created:function(){var e=this;this.connect(),this.$root.$on("onShouldPauseProxy",(function(){e.paused=!0})),this.$root.$on("onShouldResumeProxy",(function(){e.paused=!0})),window.addEventListener("focus",(function(){e.paused||e.connect()}))},methods:{connect:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:return t=Object({NODE_ENV:"production",BASE_URL:"/insights-ui/"}).VUE_APP_METAPARAMS_BACKEND_ENDPOINT||"https://tools-backend.algolia.com",e.next=5,fetch("".concat(t,"/user/info?redirect_to=").concat(window.location.href),{credentials:"include",headers:{"Content-Type":"application/json"}});case 5:return a=e.sent,e.next=8,a.json();case 8:if(n=e.sent,n.error&&"not_authorized"===n.error&&(this.authorized=!1),!n.redirect_url){e.next=13;break}return window.location.href=n.redirect_url,e.abrupt("return");case 13:this.currentUser=n;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},T=K,$=a("2be6"),D=Object($["a"])(T,j,N,!1,null,null,null),M=D.exports,z=!0,R={name:"InternalApp",components:{AlgoliaProxy:M,LoaderIcon:C},data:function(){return{isProduction:z}}},F=R,B=Object($["a"])(F,P,O,!1,null,null,null),q=B.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"flex flex-col justify-center w-full bg-white z-10 border-b border-solid border-proton-grey-opacity-80",staticStyle:{height:"94px"}},[a("div",{staticClass:"flex px-16 py-12"},[a("div",{staticClass:"flex w-full"},[a("div",{staticClass:"flex items-center text-telluric-blue mr-16 text-lg"},[a("algolia-logo-experimental",{staticClass:"w-20 h-20 mr-8"}),e._m(0),e.appName?a("chevron-left",{staticClass:"w-12 h-12 rotate-180 mr-4"}):e._e(),e.appName?a("div",{staticClass:"mt-2 font-bold"},[e._v(e._s(e.appName))]):e._e()],1),e._t("default")],2)])])])},U=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mr-4 mt-2"},[a("a",{attrs:{href:"/apps"}},[e._v("Tools")])])}],J={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 120"},c),...p},i.concat([a("path",{attrs:{fill:"#ffbb1f",d:"M104.2 0H15.8C7.1 0 0 7 0 15.8v88.4c0 8.7 7.1 15.8 15.8 15.8h88.4c8.7 0 15.8-7.1 15.8-15.8V15.8C120 7.1 112.9 0 104.2 0z"}}),a("path",{attrs:{fill:"#FFF",d:"M30.3 41.9c.1 0 .1 0 0 0 1.3-1.7 2.6-3.3 4.1-4.7 1.5-1.5 3-2.8 4.7-4 .3-.2.4-.7.2-1 0 0 0-.1-.1-.1L37.1 30c-2-2-5.3-2-7.4 0l-2.5 2.5c-2 2-2 5.3 0 7.3l2 2c.4.4.8.4 1.1.1zM50.7 27.6h.2c3.4-1 7-1.5 10.6-1.5 3.4 0 6.9.5 10.2 1.4.4.1.8-.1.8-.5v-4.3c0-2.9-2.3-5.2-5.2-5.2H55.2c-2.9 0-5.2 2.3-5.2 5.2v4.2c-.1.4.3.7.7.7zM61.4 30.3c-18.7 0-33.9 15.2-33.9 33.9s15.2 33.9 33.9 33.9 33.9-15.2 33.9-33.9-15.2-33.9-33.9-33.9zm0 57.8c-13.2-.1-23.9-10.8-23.8-24 0-13.2 10.8-23.9 23.9-23.8 13.2 0 23.9 10.8 23.8 23.9 0 13.2-10.7 23.9-23.9 23.9z"}}),a("path",{attrs:{fill:"#FFF",d:"M62.1 44.5c-.4 0-.7.3-.7.7V63c0 .4.3.7.7.7.1 0 .2 0 .3-.1l15.8-8.2c.4-.2.5-.6.3-1-3.4-5.9-9.6-9.7-16.4-9.9z"}})]))}},L={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},c),...p},i.concat([a("path",{attrs:{d:"M15 18l-6-6 6-6"}})]))}},H={name:"AppHeader",props:["appName"],components:{AlgoliaLogoExperimental:J,ChevronLeft:L}},W=H,Q=Object($["a"])(W,V,U,!1,null,null,null),G=Q.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("custom-select",{staticClass:"min-w-140 border-b border-telluric-blue-opacity-60 text-solstice-blue pb-4",attrs:{value:e.value,options:e.appIds,refine:e.refine},on:{input:e.onInput},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option,s=t.inDropDown,i=t.isSelected,r=t.highlightString;return[a("div",[a("div",{staticClass:"flex"},[a("div",{domProps:{innerHTML:e._s(s?r(n):n)}}),s&&e.apps[n].__app_name?a("span",[e._v("\n                     - "),a("span",{domProps:{innerHTML:e._s(r(e.apps[n].__app_name))}})]):e._e()]),s&&e.apps[n].__app_owner?a("div",{class:i?"":"text-solstice-blue-opacity-60",domProps:{innerHTML:e._s(r(e.apps[n].__app_owner))}}):e._e()])]}}])},[a("template",{slot:"icon"},[a("box-icon",{staticClass:"block w-12 h-12 -mt-1 mr-8 fill-current"})],1)],2)},Z=[],Y=(a("4f72"),a("0d9c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"relative focus:outline-none",attrs:{tabindex:"-1"},on:{keyup:e.onKeyUp,keydown:e.onKeyDown,blur:e.fakeBlur}},[e.dropdownOpened&&e.refine?e._e():a("div",{staticClass:"flex items-center py-4 cursor-pointer text-sm leading-none",on:{click:e.openDropDown}},[e._t("icon"),e._t("default",null,{option:e.value,inDropDown:!1}),a("span",{staticClass:"ml-auto"}),a("chevron-down-icon",{staticClass:"block ml-24 w-8 h-8 fill-current"})],2),e.dropdownOpened&&e.refine?a("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"px-8 py-4 text-solstice-blue rounded text-base bg-moon-grey w-full",domProps:{value:e.query},on:{keyup:e.onKeyUp,keydown:e.onKeyDown,blur:e.onBlur,input:function(t){t.target.composing||(e.query=t.target.value)}}}):e._e(),e.dropdownOpened?a("div",{staticClass:"shadow absolute z-10 bg-white dropdown mt-4 max-h-312 min-w-full overflow-y-scroll"},e._l(e.options,(function(t,n){return a("div",{staticClass:"flex p-8 cursor-pointer",class:e.selectedIndex===n?"bg-nebula-blue text-white hover:bg-nebula-blue hover:text-white":"",on:{mousedown:function(t){e.allowBlur=!1},mousemove:function(t){e.selectedIndex=n},mouseleave:function(t){e.selectedIndex=-1},click:function(t){e.selectedIndex=n,e.onSelected(t),e.allowBlur=!0}}},[e._t("default",null,{option:t,inDropDown:!0,isSelected:e.selectedIndex===n,highlightString:e.highlightString})],2)})),0):e._e()])])}),ee=[],te={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 8",fill:"currentColor"},c),...p},i.concat([a("path",{attrs:{d:"M7 8a1 1 0 01-.71-.29l-6-6A1 1 0 011.71.29L7 5.59l5.29-5.3a1 1 0 111.42 1.42l-6 6A1 1 0 017 8z"}})]))}};a("f49d"),a("632c"),a("a7e1"),a("4fb0"),a("ae66");var ae=/^.*\(([^()]+)\)+(:.*)?$/g,ne=/^(.*)(:.*)$/g;function se(e){return e.trim().replace(ae,"$1").replace(ne,"$1")}function ie(e){return e.split(".")[0]}function re(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&lt;b&gt;/g,"<em>").replace(/&lt;\/b&gt;/g,"</em>")}function le(e,t){if(t.length<=0)return e;for(var a=t.toLowerCase().split(" ").sort((function(e,t){return t.length-e.length})).filter((function(e){return e.trim().length>0})),n="",s=0;s<e.length;s++){for(var i=!1,r=0;r<a.length;r++)if(e.toLowerCase().startsWith(a[r].toLowerCase(),s)){n+="<em>".concat(e.slice(s,s+a[r].length),"</em>"),s+=a[r].length-1,i=!0;break}i||(n+=e[s])}return n}var oe={name:"CustomSelect",props:["value","options","displayEmptyQuery","refine","stringValueAttribute","allowFreeText"],components:{ChevronDownIcon:te},data:function(){var e=this.stringValueAttribute&&this.value?this.value[this.stringValueAttribute]:this.value;return{allowBlur:!0,selectedIndex:-1,dropdownOpened:!1,query:e||""}},watch:{query:function(){if(this.refine){this.selectedIndex=-1;var e=this.query===this.stringValue?"":this.query;this.refine(e)}},value:function(){this.refine&&(this.query=this.stringValue)}},computed:{stringValue:function(){return this.stringValueAttribute&&this.value?this.value[this.stringValueAttribute]:this.value||""}},methods:{highlightString:function(e){return le(e,this.query)},fakeBlur:function(){this.refine||this.onBlur()},onBlur:function(){this.allowBlur&&(this.dropdownOpened=!1,this.selectedIndex=-1)},onKeyDown:function(e){13!==e.which&&38!==e.which&&40!==e.which||e.preventDefault()},onKeyUp:function(e){var t;if(13===e.which||38===e.which||40===e.which)return e.preventDefault(),e.stopImmediatePropagation(),13===e.which&&this.onSelected(e),38===e.which&&(t=this.selectedIndex-1,t<0&&(t=this.options.length-1),this.selectedIndex=t),40===e.which&&(t=this.selectedIndex+1,t>this.options.length-1&&(t=0),this.selectedIndex=t),!1},onSelected:function(e){this.allowBlur=!1,-1!==this.selectedIndex&&this.options.length>0?this.$emit("input",this.options[this.selectedIndex]):this.allowFreeText&&this.query.length>0?this.$emit("input",{name:this.query}):this.$emit("onSelected",this.query,e),this.selectedIndex=0!==this.query.length||this.displayEmptyQuery?0:-1,this.allowBlur=!0,this.dropdownOpened=!1},openDropDown:function(){var e=this;this.dropdownOpened=!0,this.query=this.stringValue,this.refine&&n["default"].nextTick((function(){e.$refs.input.focus(),e.$refs.input.setSelectionRange(0,e.$refs.input.value.length)}))}}},ue=oe,ce=Object($["a"])(ue,Y,ee,!1,null,null,null),pe=ce.exports,de={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 23.53"},c),...p},i.concat([a("path",{attrs:{d:"M20.34 4.31l-8-4a3.07 3.07 0 00-2.68 0l-8 4A3 3 0 000 7v9.51a3 3 0 001.65 2.7l8 4a3 3 0 002.69 0l8-4A3 3 0 0022 16.53V7a3 3 0 00-1.66-2.69zM10.56 2.1A1 1 0 0111 2a1 1 0 01.44.1l7.32 3.66L11 9.64 3.24 5.76zm-8 15.32a1 1 0 01-.55-.9V7.37l8 4v9.78zm16.89 0L12 21.14v-9.77l8-4v9.16a1 1 0 01-.56.89z"}})]))}},he=(a("0572"),{methods:{ownedByAlgolia:function(e){var t=this.$store.state.apps[e];return"MySuperApp"===e||e.endsWith(".local")||e.endsWith(".test")||t&&t.__app_owner&&t.__app_owner.length>0&&t.__app_owner.endsWith("@algolia.com")}}}),me={name:"AppSelector",components:{CustomSelect:pe,BoxIcon:de},props:["value","onlyAlgolia"],data:function(){return{query:""}},mixins:[he],computed:{apiKey:function(){return this.$store.state.apps[this.appId]?this.$store.state.apps[this.appId].key:""},apps:function(){return this.$store.state.apps},appIds:function(){var e=this,t=Object.keys(this.apps).filter((function(t){return!e.onlyAlgolia||e.ownedByAlgolia(t)}));if(0===this.query.length)return t;var a=this.query.toLowerCase();return t.filter((function(t){return!(!e.apps[t].__app_name||!e.apps[t].__app_name.toLowerCase().includes(a))||(!(!e.apps[t].__app_owner||!e.apps[t].__app_owner.toLowerCase().includes(a))||t.toLowerCase().includes(a))}))}},created:function(){this.value?this.$store.commit("apps/addAppId",{appId:this.value}):this.appIds.length>0&&(this.$emit("input",this.appIds[0]),this.$store.commit("apps/addAppId",{appId:this.appIds[0]}))},methods:{refine:function(e){this.query=e},onInput:function(e){this.query="",this.$emit("input",e),this.$store.commit("apps/addAppId",{appId:e})}}},fe=me,ge=Object($["a"])(fe,X,Z,!1,null,null,null),ye=ge.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("custom-select",{staticClass:"min-w-140 border-b border-telluric-blue-opacity-60 text-solstice-blue pb-4",attrs:{"string-value-attribute":"name",options:e.indicesWithForced,refine:e.refine,"allow-free-text":e.allowFreeText},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option,s=t.inDropDown,i=t.isSelected,r=t.highlightString;return[a("div",{domProps:{innerHTML:e._s(s?r(n.name):n.name)}}),s?a("div",{staticClass:"ml-auto"}):e._e(),s&&void 0!==n.entries?a("div",{staticClass:"ml-16",class:i?"text-white":"text-solstice-blue-opacity-50"},[e._v("\n            "+e._s(n.entries)+" records\n        ")]):e._e()]}}]),model:{value:e.indexInfo,callback:function(t){e.indexInfo=t},expression:"indexInfo"}},[a("template",{slot:"icon"},[a("list-icon",{staticClass:"block w-12 h-12 mr-8 -mt-1 fill-current"})],1)],2)},ve=[],xe=(a("c880"),a("08b3")),_e={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 14",fill:"currentColor"},c),...p},i.concat([a("path",{attrs:{d:"M19 2H6a1 1 0 010-2h13a1 1 0 010 2zM19 8H6a1 1 0 010-2h13a1 1 0 010 2zM19 14H6a1 1 0 010-2h13a1 1 0 010 2zM1 2H.8a.64.64 0 01-.18-.06.76.76 0 01-.18-.09 1.58 1.58 0 01-.15-.12l-.12-.17a.76.76 0 01-.09-.18A.64.64 0 010 1.2 1.5 1.5 0 010 1 1 1 0 01.08.62 1.15 1.15 0 01.29.29 1 1 0 011.38.08a1 1 0 01.33.21A1.05 1.05 0 012 1a1.5 1.5 0 010 .2.64.64 0 01-.06.18.76.76 0 01-.09.18l-.12.15A1.05 1.05 0 011 2zM1 8H.81a.6.6 0 01-.19-.06.76.76 0 01-.18-.09l-.15-.14A1 1 0 010 7a1 1 0 01.08-.38 1 1 0 01.21-.33l.15-.12a.76.76 0 01.18-.09A.6.6 0 01.81 6a1 1 0 01.9.27 1 1 0 01.21.33A1 1 0 012 7a1.5 1.5 0 010 .2.64.64 0 01-.06.18.76.76 0 01-.09.18l-.12.15A1.05 1.05 0 011 8zM1 14a1 1 0 01-.38-.08 1.15 1.15 0 01-.33-.21 1 1 0 01-.21-1.09 1 1 0 01.21-.33 1 1 0 011.09-.21 1.15 1.15 0 01.33.21 1.15 1.15 0 01.21.33.94.94 0 010 .76 1.15 1.15 0 01-.21.33A1 1 0 011 14z"}})]))}},Ie=a("9ebc"),we=a.n(Ie),ke=a("b137"),Se=a("f9d9"),Ae=a("1f39");function Pe(e){return new Promise((function(t){return setTimeout(t,e)}))}var Oe={},Ce={},je=function(e){return Ne.apply(this,arguments)};function Ne(){return Ne=Object(E["a"])(regeneratorRuntime.mark((function e(t){var a,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Ce[t]){e.next=5;break}return e.next=3,Pe(10);case 3:e.next=0;break;case 5:if(!Oe[t]){e.next=7;break}return e.abrupt("return",Oe[t]);case 7:return Ce[t]=!0,a=Object({NODE_ENV:"production",BASE_URL:"/insights-ui/"}).VUE_APP_METAPARAMS_BACKEND_ENDPOINT||"https://tools-backend.algolia.com",e.next=11,fetch("".concat(a,"/signature/").concat(t),{credentials:"include",headers:{"Content-Type":"application/json"}});case 11:return n=e.sent,e.next=14,n.json();case 14:return s=e.sent,i=s.signature?s.signature:"",Oe[t]=i,Ce[t]=!1,e.abrupt("return",i);case 19:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}a("06ef");var Ee=a("f10a");function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){Object(b["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $e=function(e){var t=Te({},e);return e["optionalWords=query"]&&e.query&&(t.optionalWords=e.query),delete t["optionalWords=query"],delete t["extraChartsAttributes"],t},De=function(e,t){return e.map((function(e){var a=Array.isArray(e)?e:[e];return a.filter((function(e){return!e.startsWith(t)}))})).filter((function(e){return e.length>0}))},Me=function(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var a=JSON.stringify(e);return Array.prototype.toJSON=t,a},ze=function(e,t){if(void 0===e||null===e)return t;for(var a in e)null!==a&&void 0!==e[a]&&e.hasOwnProperty(a)&&(t+=""===t?"":"&",t+=a+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[a])?Me(e[a]):e[a]));return t},Re=function(e,t,a,n){var s=[];return s.push({indexName:e,params:ze(Te({},n,{facets:t}),"")}),a.forEach((function(t){var a=De(n.facetFilters||[],"".concat(t,":")),i={facetFilters:a,facets:[t],analytics:!1,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],hitsPerPage:1,page:0,explain:void 0};s.push({indexName:e,params:ze(Object.assign({},n,i),"")})})),s},Fe=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){var a,n,s,i,r,l,o,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.disjunctiveFacets,n=Object(v["a"])(t,["disjunctiveFacets"]),s=n.facetFilters||[],i={},a.forEach((function(e){return s.forEach((function(t){i[e]=[];var a=Array.isArray(t)?t:[t];a.forEach((function(t){t.startsWith("".concat(e,":"))&&i[e].push(t.replace("".concat(e,":"),""))}))}))})),r=Object.keys(i).filter((function(e){return i[e].length>0})),l=Re(this.indexName,a,r,n),o={},void 0!==this.userId()&&(o.headers={"X-Algolia-User-ID":this.userId()}),e.next=10,this.transporter.read({method:"POST",path:"1/indexes/*/queries",data:{requests:l,strategy:"none"}},o);case 10:return u=e.sent,c=u.results[0],c.disjunctiveFacets=JSON.parse(JSON.stringify(c.facets||{})),r.forEach((function(e,t){c.disjunctiveFacets[e]=u.results[t+1].facets[e],i[e].forEach((function(t){c.disjunctiveFacets[e]&&void 0===c.disjunctiveFacets[e][t]&&(c.disjunctiveFacets[e][t]=null)}))})),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),Be=function(e){var t=$e(e);return t.disjunctiveFacets&&t.disjunctiveFacets.length>0?this.disjunctiveSearch(t):(delete t.disjunctiveFacets,void 0!==this.userId()&&(t.headers={"X-Algolia-User-ID":this.userId()}),this.search(t.query||"",t))},qe=function(e){var t=$e(e),a=t.cursor||null;delete t.disjunctiveFacets,delete t.cursor;var n={params:Object(Ee["a"])(t)};a&&(n.cursor=a);var s={};return void 0!==this.userId()&&(s.headers={"X-Algolia-User-ID":this.userId()}),this.transporter.read({method:"POST",path:Object(Ae["b"])("/1/indexes/%s/browse",this.indexName),data:n},s)},Ve=function(e){var t=$e(e),a=t.facetName,n=t.facetQuery,s=Object(v["a"])(t,["facetName","facetQuery"]);return void 0!==this.userId()&&(s.headers={"X-Algolia-User-ID":this.userId()}),this.searchForFacetValues(a,n,s)},Ue={customSearch:Be,customBrowse:qe,disjunctiveSearch:Fe,customSearchForFacetValues:Ve,buildFacetFilters:De};function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(a),!0).forEach((function(t){Object(b["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var He=function(e){return"MySuperApp"===e||e.endsWith(".local")||e.endsWith(".test")},We={},Qe={};function Ge(e,t,a){if(He(e))return[{url:"localhost-1.algolia.io:8080",accept:3}];if(void 0===a||"dsn"===a||"-dsn"===a)return[{url:e+"-1.algolianet.com",accept:3},{url:e+"-2.algolianet.com",accept:3},{url:e+"-3.algolianet.com",accept:3}];var n=null;switch(a){case"-1":n={url:"".concat(e,"-1.algolianet.com"),accept:3};break;case"-2":n={url:"".concat(e,"-2.algolianet.com"),accept:3};break;case"-3":n={url:"".concat(e,"-3.algolianet.com"),accept:3};break;default:n={url:"".concat(a,"-1.algolia.net"),accept:3}}return[n,n,n]}function Xe(e,t,a,n,s){return Ze.apply(this,arguments)}function Ze(){return Ze=Object(E["a"])(regeneratorRuntime.mark((function e(t,a,n,s,i){var r,l,o,u,c,p,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="".concat(t,"-").concat(a,"-").concat(n,"-").concat(s,"-").concat(i),!We[r]){e.next=3;break}return e.abrupt("return",We[r]);case 3:if(l={},He(t)||!a||!0===i){e.next=9;break}return e.next=7,je(t);case 7:o=e.sent,l["X-Algolia-Signature"]=o;case 9:return u=Object(Se["a"])(1),c=Object(ke["a"])(),p=we()(t,a||" ",{requestsCache:c,responsesCache:c,hostsCache:c,logger:u,hosts:Ge(t,a,n),headers:l}),d=Object(Ae["a"])(p,{customInitIndex:function(e){return function(t){var a=["saveObjects","deleteObject","getObject","getObjects","waitTask","setSettings"],n=e.initIndex(t);return a.forEach((function(e){var t=n[e];n[e]=function(a,n){var s=n||{},i=s.headers||{};void 0!==this.userId()&&(i["X-Algolia-User-ID"]=this.userId()),"setSettings"!==e&&(s.headers=i);var r=t(a,s),l=r.wait;return r.wait=function(){return l({headers:i})},r}})),Le({},n,{},Ue,{userId:function(){return s||void 0}})}}}),We[r]=d,e.abrupt("return",d);case 15:case"end":return e.stop()}}),e)}))),Ze.apply(this,arguments)}function Ye(e,t,a,n,s,i){return et.apply(this,arguments)}function et(){return et=Object(E["a"])(regeneratorRuntime.mark((function e(t,a,n,s,i,r){var l,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l="".concat(t,"-").concat(a,"-").concat(n,"-").concat(s,"-").concat(i,"-").concat(r),!Qe[l]){e.next=3;break}return e.abrupt("return",Qe[l]);case 3:return e.next=5,Xe(t,a,s,i,r);case 5:return o=e.sent,u=o.customInitIndex(n),Qe[l]=u,e.abrupt("return",Qe[l]);case 9:case"end":return e.stop()}}),e)}))),et.apply(this,arguments)}function tt(e){var t={};return Object.keys(e).forEach((function(a){e[a].enabled&&(t[a]=e[a].value)})),JSON.parse(JSON.stringify(t))}var at={name:"IndexSelector",components:{AppSelector:ye,CustomSelect:pe,BoxIcon:de,ListIcon:_e},props:["appId","value","forcedIndices","allowFreeText"],data:function(){return{allIndices:[],indices:[],indexInfo:{name:this.value},nbPages:1,maxNbPagesInMemory:5}},created:function(){this.registerIndex(),this.updateIndices(!1)},computed:{indicesWithForced:function(){var e=this.forcedIndices?this.forcedIndices:[];return[].concat(Object(xe["a"])(e),Object(xe["a"])(this.indices))},indexName:{get:function(){return this.indexInfo.name},set:function(e){n["default"].set(this.indexInfo,"name",e)}},adminAPIKey:function(){return this.$store.state.apps[this.appId]?this.$store.state.apps[this.appId].key:null}},watch:{value:function(){this.indexInfo.name=this.value},appId:function(){this.indexName=this.value,this.$emit("input",null),this.updateIndices(!0)},indexName:function(){this.indexInfo.name!==this.value&&this.$emit("input",this.indexInfo.name),this.registerIndex(),this.updateIndices(!1)},adminAPIKey:function(){this.updateIndices(!0)}},methods:{registerIndex:function(){var e=this;this.appId&&this.indexInfo.name&&(this.$store.commit("apps/".concat(this.appId,"/addIndex"),this.indexName),["searchParams","searchParams2"].forEach((function(t){e.$store.commit("apps/".concat(e.appId,"/").concat(e.indexName,"/deleteParam"),{configKey:t,inputKey:"page"})})))},refine:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.appId&&this.adminAPIKey){e.next=2;break}return e.abrupt("return");case 2:if(!(t.length<=0)){e.next=5;break}return this.indices=this.allIndices,e.abrupt("return");case 5:if(!(this.nbPages>this.maxNbPagesInMemory)){e.next=15;break}return e.next=8,Xe(this.appId,this.adminAPIKey);case 8:return a=e.sent,e.next=11,a.listIndices({queryParameters:{page:0,prefix:encodeURIComponent(t)}});case 11:n=e.sent,this.indices=n.items.sort((function(e,t){return e.updatedAt<t.updatedAt?1:e.updatedAt>t.updatedAt?-1:0})),e.next=17;break;case 15:s=t.split(" "),this.indices=this.allIndices.filter((function(e){return s.every((function(t){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}))})).sort((function(e,a){return e.name===t?-1:a.name===t?1:0}));case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),updateIndices:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.appId&&this.adminAPIKey){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Xe(this.appId,this.adminAPIKey);case 4:return a=e.sent,e.next=7,a.listIndices({queryParameters:{page:0}});case 7:if(n=e.sent,this.nbPages=n.nbPages,!(this.nbPages>1&&this.nbPages<=this.maxNbPagesInMemory)){e.next=13;break}return e.next=12,a.listIndices();case 12:n=e.sent;case 13:if(this.allIndices=n.items.sort((function(e,t){return e.updatedAt<t.updatedAt?1:e.updatedAt>t.updatedAt?-1:0})),this.indices=this.allIndices,!(this.indices.length<=0)){e.next=17;break}return e.abrupt("return");case 17:(t&&this.indexInfo.name!==this.value||null===this.value)&&(this.indexInfo.name=this.value?this.value:this.$store.state.apps[this.appId].lastIndexName||this.indices[0].name,this.$emit("input",this.indexInfo.name));case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},nt=at,st=Object($["a"])(nt,be,ve,!1,null,null,null),it=st.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.panels.manageAppsPanel||Object.keys(e.$store.state.apps).length<=0?a("div",{staticClass:"flex"},[a("div",{staticClass:"rounded bg-white m-16 mr-64 border border-solid border-proton-grey-opacity-60"},[a("div",{staticClass:"text-telluric-blue text-xs uppercase tracking-wide flex items-center border-b border-t-0 border-proton-grey bg-white p-8 bg-proton-grey-opacity-80"},[a("div",[e._v("Manage AppIDs")]),a("close-icon",{staticClass:"cursor-pointer ml-auto w-12 h-12",on:{click:function(t){return e.$store.commit("panels/setManageAppsPanel",!1)}}})],1),a("div",[a("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 m-8 p-8"},[e._v("\n                To function this app requires Algolia credentials. You must provide the Admin API Key for every feature to work properly.\n            ")]),a("table",[e._m(0),e._l(e.apps,(function(t,n){return a("tr",[a("td",{staticClass:"p-8"},[e._v(e._s(n))]),a("td",{staticClass:"p-8"},[t.key?a("span",[e._v("\n                            "+e._s(t.key.substring(0,4)+t.key.substring(4).replace(/./g,"*"))+"\n                        ")]):e._e()]),a("td",{staticClass:"p-8"},[e._v(e._s(t.__app_name))]),a("td",{staticClass:"p-8"},[e._v(e._s(t.__app_owner))]),a("td",{staticClass:"p-8"},[a("trash-icon",{staticClass:"w-12 h-12 cursor-pointer",on:{click:function(t){return e.deleteApp(n)}}})],1)])})),a("tr",[a("td",{staticClass:"p-8 pt-32"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newAppId,expression:"newAppId"}],staticClass:"w-full bg-proton-grey-opacity-20 p-4",attrs:{placeholder:"appId"},domProps:{value:e.newAppId},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAppId(t)},input:function(t){t.target.composing||(e.newAppId=t.target.value)}}})]),a("td",{staticClass:"p-8 pt-32"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newApiKey,expression:"newApiKey"}],staticClass:"w-full bg-proton-grey-opacity-20 p-4",attrs:{placeholder:"apiKey"},domProps:{value:e.newApiKey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAppId(t)},input:function(t){t.target.composing||(e.newApiKey=t.target.value)}}})]),a("td",{staticClass:"p-8 pt-32"},[a("button",{on:{click:e.addAppId}},[e._v("Add")])])])],2)])])]):e._e()},lt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"text-left"},[a("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("App ID")]),a("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("API Key")]),a("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("App name")]),a("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("App owner")]),a("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"})])}],ot={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},c),...p},i.concat([a("path",{attrs:{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}})]))}},ut={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},c),...p},i.concat([a("path",{attrs:{d:"M18 6L6 18M6 6l12 12"}})]))}},ct={name:"AppManagement",components:{TrashIcon:ot,CloseIcon:ut},data:function(){return{newAppId:"",newApiKey:""}},created:function(){var e=this;this.appIds.length>0&&!this.apps[this.appIds[0]].__app_owner&&this.fetchAppsInfo(),this.$root.$on("onFetchAppsInfo",(function(){return e.fetchAppsInfo()}))},computed:{apps:function(){return this.$store.state.apps},appIds:function(){return Object.keys(this.apps)}},methods:{addAppId:function(){this.newAppId.length>0&&this.newApiKey.length>0&&(this.$store.commit("apps/addAppId",{appId:this.newAppId,apiKey:this.newApiKey}),this.newAppId="",this.newApiKey="",this.fetchAppsInfo())},deleteApp:function(e){this.$store.commit("apps/deleteAppId",e)},fetchAppsInfo:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object.keys(this.apps),a=Object({NODE_ENV:"production",BASE_URL:"/insights-ui/"}).VUE_APP_METAPARAMS_BACKEND_ENDPOINT||"https://tools-backend.algolia.com",e.next=4,fetch("".concat(a,"/apps/").concat(t.join(",")),{credentials:"include",headers:{"Content-Type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,s.forEach((function(e){i.$store.commit("apps/addAppId",{appId:e.application_id,apiKey:i.apps[e.application_id].key}),i.$store.commit("apps/".concat(e.application_id,"/setAppName"),e.name),i.$store.commit("apps/".concat(e.application_id,"/setAppOwner"),e.user.email)}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},pt=ct,dt=Object($["a"])(pt,rt,lt,!1,null,null,null),ht=dt.exports,mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},ft=[],gt=(a("2989"),a("cd05"),a("e285"),a("9ebb"),function(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))}))}),yt=function(){var e=this;this.tokens={},this.tokenize=function(e){return e.split(/\s/).map((function(e){return e.toLowerCase()})).filter((function(e){return e}))},this.addString=function(t){e.tokenize(t).forEach((function(a){e.tokens[a]=e.tokens[a]||[],e.tokens[a].push(t)}))},this.search=function(t,a){if(t.length<=0)return Object.keys(e.tokens).slice(0,a);var n=e.tokenize(t).map((function(t){return Object.keys(e.tokens).reduce((function(a,n){return n.includes(t)&&a.push.apply(a,Object(xe["a"])(e.tokens[n])),a}),[])}));return 0===n.length?[]:Array.from(new Set(gt.apply(void 0,Object(xe["a"])(n)).slice(0,50))).slice(0,a).sort((function(e,a){return e===t?-1:a===t?1:0}))}},bt=yt,vt=a("0d7b"),xt=Object(vt["a"])((function(e,t,a,n,s){return new Promise((function(i,r){if("MySuperApp"===e||e.endsWith(".local")||e.endsWith(".test"))i([],{},[]);else{var l=function(e){return"[object Object]"===Object.prototype.toString.call(e)},o=function(e){var t={};function a(e,n){l(e)?Object.keys(e).forEach((function(t){var s=n.length<=0?t:"".concat(n,".").concat(t);a(e[t],s)})):Array.isArray(e)&&e.length>0?e.slice(0,100).forEach((function(e){a(e,n)})):(t[n]=t[n]||[],Array.isArray(e)||-1===t[n].indexOf(e)&&t[n].push(e))}return e.forEach((function(e){a(e,"")})),t};self.importScripts("https://cdn.jsdelivr.net/npm/algoliasearch@3.33.0/dist/algoliasearchLite.min.js");var u=algoliasearch(e,t);u.setExtraHeader("X-Algolia-Signature",s),n&&u.setExtraHeader("X-Algolia-User-ID",n);var c=u.initIndex(a);c.search("",{page:0,hitsPerPage:1e3,attributesToHighlight:[],attributesToSnippet:[]}).then((function(e){var t=e.hits,a=o(t),n=Object.keys(a).filter((function(e){return!e.startsWith("_highlightResult")&&(!e.startsWith("_snippetResult")&&(!e.startsWith("_rankingInfo")&&!e.startsWith("_distinctSeqID")))}));i(Object.freeze({records:t,flattenRecord:a,keys:n}))}))}}))})),_t=a("27dd"),It=a.n(_t),wt=It.a,kt={computed:{indexCommitPrefix:function(){return"apps/".concat(this.appId,"/").concat(this.indexName)},indexData:function(){return this.$store.state.apps[this.appId]?this.$store.state.apps[this.appId][this.indexName]:null},indexKeysIndexer:function(){return this.indexData.keysIndexer?this.indexData.keysIndexer:null},indexAutoTitleAttributeName:{get:function(){return this.indexData.autoTitleAttributeName},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setAutoTitleAttributeName"),e)}},indexTitleAttribute:{get:function(){return this.indexData.titleAttribute||""},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setTitleAttribute"),e)}},indexImageSize:{get:function(){return this.indexData.imageSize||40},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setImageSize"),e)}},indexIgnoreImageProxy:{get:function(){return this.indexData.ignoreImageProxy||!1},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setIgnoreImageProxy"),e)}},indexImageAttributeName:{get:function(){return this.indexData.imageAttributeName},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setImageAttributeName"),e)}},indexImageBaseUrl:{get:function(){return this.indexData.imageBaseUrl||""},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setImageBaseUrl"),e)}},indexImageSuffixUrl:{get:function(){return this.indexData.imageSuffixUrl||""},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setImageSuffixUrl"),e)}},searchParams:function(){return tt(this.indexData[this.searchConfigKey])},indexSettings:function(){return tt(this.indexData.indexSettings||{})},refIndexSettings:function(){return tt(this.indexData.refIndexSettings||{})},advancedIndexSettings:function(){return this.indexData&&this.indexData.advancedIndexSettings?this.indexData.advancedIndexSettings:{}},indexSettingsRaw:function(){return this.indexData.indexSettings||{}},refIndexSettingsRaw:function(){return this.indexData.refIndexSettings||{}},searchParamsRaw:function(){return this.indexData[this.searchConfigKey]},isIndexSettingsDirty:function(){return JSON.stringify(this.indexSettings)!==JSON.stringify(this.refIndexSettings)},isReplica:function(){return this.indexData&&this.refIndexSettings&&this.refIndexSettings.primary&&this.refIndexSettings.primary.length>0}}},St={name:"SettingsLoader",props:["appId","indexName","apiKey","userId"],mixins:[kt],data:function(){return{advancedIndexSettingsNames:["indexingGeolocPrecision","maxNbHits","nbShardsAuto","approxSubstIsBetter","maxApproxIVSizeForEachWord","maxApproxWords"]}},watch:{appId:function(){this.init()},indexName:function(){this.init()},apiKey:function(){this.init()}},created:function(){this.appId&&this.indexName&&this.apiKey&&this.init()},methods:{init:function(){this.loadIndexSettings(),this.loadKeysIndexer()},loadIndexSettings:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xe(this.appId,this.apiKey);case 2:return t=e.sent,a=t.customInitIndex(this.indexName),e.next=6,a.getSettings({queryParameters:{advanced:1}});case 6:n=e.sent,s={},i={},e.t0=regeneratorRuntime.keys(n);case 10:if((e.t1=e.t0()).done){e.next=24;break}if(r=e.t1.value,"version"!==r){e.next=14;break}return e.abrupt("continue",10);case 14:if("userData"!==r){e.next=16;break}return e.abrupt("continue",10);case 16:if("nbShards"!==r||1!==n[r]){e.next=18;break}return e.abrupt("continue",10);case 18:if(-1===this.advancedIndexSettingsNames.indexOf(r)){e.next=21;break}return i[r]=n[r],e.abrupt("continue",10);case 21:void 0!==wt[r]&&void 0!==wt[r].settings_default&&JSON.stringify(n[r])===JSON.stringify(wt[r].settings_default)||void 0!==wt[r]&&void 0!==wt[r].ignore_value&&JSON.stringify(n[r])===JSON.stringify(wt[r].ignore_value)||(s[r]=n[r]),e.next=10;break;case 24:this.$emit("onFetchSettings",Object.freeze(s)),this.$store.commit("apps/".concat(this.appId,"/").concat(this.indexName,"/replaceIndexSettings"),Object.freeze(s)),this.$store.commit("apps/".concat(this.appId,"/").concat(this.indexName,"/setAdvancedIndexSettings"),Object.freeze(i));case 27:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadKeysIndexer:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return!this.appId||this.apiKey,e.next=3,je(this.appId);case 3:return t=e.sent,e.next=6,xt(this.appId,this.apiKey,this.indexName,this.userId,t);case 6:a=e.sent,n=new bt,a.keys.forEach((function(e){n.addString(e)})),this.$store.commit("apps/".concat(this.appId,"/").concat(this.indexName,"/setIndexAnalyzer"),a),this.$store.commit("apps/".concat(this.appId,"/").concat(this.indexName,"/setKeysIndexer"),n);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},At=St,Pt=Object($["a"])(At,mt,ft,!1,null,null,null),Ot=Pt.exports,Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.persoEnabled?a("div",[a("h3",{staticClass:"text-solstice-blue-opacity-80 mt-48 mb-16"},[e._v("Send Event")]),a("table",[a("tr",{staticClass:"tracking-wide text-xs uppercase text-cosmos-black-opacity-70"},[a("td",{staticClass:"py-8 pr-32"},[e._v("User Token")]),a("td",{staticClass:"py-8 pr-32"},[e._v("Event Name")]),a("td",{staticClass:"py-8 pr-32"},[e._v("Event Type")]),a("td",{staticClass:"py-8 pr-32"},[0===e.nonEmptyFilters.length?a("span",[e._v("Objects Ids")]):e._e(),0===e.nonEmptyFilters.length&&0===e.nonEmptyObjectIDs.length?a("span",[e._v("/")]):e._e(),0===e.nonEmptyObjectIDs.length?a("span",[e._v("Filters")]):e._e()])]),a("tr",{staticClass:"border-t border-proton-grey-opacity-20"},[a("td",{staticClass:"py-8 pr-32 align-top"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userToken,expression:"userToken"}],staticClass:"h-full px-8 py-4 bg-transparent text-telluric-blue text-sm leading-normal bg-white rounded border border-proton-grey-opacity-80",domProps:{value:e.userToken},on:{input:function(t){t.target.composing||(e.userToken=t.target.value)}}})]),a("td",{staticClass:"py-8 pr-32 align-top"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.eventName,expression:"eventName"}],staticClass:"h-full px-8 py-4 bg-transparent text-telluric-blue text-sm leading-normal bg-white rounded border border-proton-grey-opacity-80",domProps:{value:e.eventName},on:{input:function(t){t.target.composing||(e.eventName=t.target.value)}}})]),a("td",{staticClass:"py-8 pr-32 align-top"},[e._l(["click","conversion","view"],(function(t){return[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.eventType,expression:"eventType"}],attrs:{type:"radio"},domProps:{value:t,checked:e._q(e.eventType,t)},on:{change:function(a){e.eventType=t}}}),e._v(" "+e._s(t)+"\n                    ")]),a("br")]}))],2),a("td",{staticClass:"py-8 pr-32 align-top"},[0===e.nonEmptyFilters.length?a("div",[e._l(e.objectIDs,(function(t,n){return a("div",{staticClass:"mb-8 flex items-center"},[a("hit-autocomplete",e._g(e._b({ref:"input-object-id-"+n,refInFor:!0,attrs:{params:{hitsPerPage:4,enableRules:!1},"input-classes":"h-full px-8 py-4 bg-transparent text-telluric-blue text-sm leading-normal bg-white rounded border border-proton-grey-opacity-80",placeholder:"objectID","display-empty-query":!0,"ignore-image-proxy":e.indexIgnoreImageProxy,"image-size":e.indexImageSize,"image-attribute":e.indexImageAttributeName,"image-base-url":e.indexImageBaseUrl,"image-suffix-url":e.indexImageSuffixUrl,"title-attribute-name":e.indexTitleAttribute,"auto-title-attribute-name":e.indexAutoTitleAttributeName,"index-settings":e.indexSettings},on:{onUpdateAutoTitleAttributeName:function(t){e.indexAutoTitleAttributeName=t},onSelected:function(t){return e.$set(e.objectIDs,n,t.objectID)}},model:{value:e.objectIDs[n],callback:function(t){e.$set(e.objectIDs,n,t)},expression:"objectIDs[i]"}},"hit-autocomplete",e.$props,!1),e.$listeners)),e.nonEmptyObjectIDs.length>0?a("trash-icon",{staticClass:"cursor-pointer ml-8 w-12 h-12",on:{click:function(t){e.objectIDs.length>1?e.objectIDs.splice(n,1):e.$set(e.objectIDs,n,"")}}}):e._e()],1)})),e.nonEmptyObjectIDs.length>0?a("div",[a("button",{staticClass:"bg-white border border-b-0 border-proton-grey-opacity-40 rounded shadow-sm hover:shadow transition-fast-out px-16 p-8 text-sm",on:{click:function(t){return e.objectIDs.push("")}}},[e._v("\n                            Add objectID\n                        ")])]):e._e()],2):e._e(),0===e.nonEmptyObjectIDs.length?a("div",[e._l(e.filters,(function(t,n){return a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filters[n],expression:"filters[i]"}],staticClass:"mb-8 h-full px-8 py-4 bg-transparent text-telluric-blue text-sm leading-normal bg-white rounded border border-proton-grey-opacity-80",attrs:{placeholder:"facetName:facetValue"},domProps:{value:e.filters[n]},on:{input:function(t){t.target.composing||e.$set(e.filters,n,t.target.value)}}}),e.nonEmptyFilters.length>0?a("trash-icon",{staticClass:"cursor-pointer ml-8 w-12 h-12",on:{click:function(t){e.filters.length>1?e.filters.splice(n,1):e.$set(e.filters,n,"")}}}):e._e()],1)})),e.nonEmptyFilters.length>0?a("div",[a("button",{staticClass:"bg-white border border-b-0 border-proton-grey-opacity-40 rounded shadow-sm hover:shadow transition-fast-out px-16 p-8 text-sm",on:{click:function(t){return e.filters.push("")}}},[e._v("\n                            Add filter\n                        ")])]):e._e()],2):e._e()])]),e._m(0),a("tr",{staticClass:"border-t border-proton-grey-opacity-20"},[a("td",{staticClass:"py-8 pr-32",attrs:{colspan:"4"}},[a("pre",[e._v(e._s(JSON.stringify(e.eventJson,null,2)))]),a("div",{staticClass:"mt-8 flex"},[e.isValidEvent?a("button",{staticClass:"bg-white border border-b-0 border-proton-grey-opacity-40 rounded shadow-sm hover:shadow transition-fast-out px-16 p-8 text-sm",on:{click:function(t){return e.sendEvent()}}},[e._v("\n                        Send perso event\n                    ")]):a("div",{staticClass:"bg-mars-1-opacity-20 p-8 rounded"},[e._v("\n                        Event is missing some fields. So it can not be sent\n                    ")])])])])])]):e._e()},jt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"tracking-wide text-xs uppercase text-cosmos-black-opacity-70"},[a("td",{staticClass:"py-8 pr-32",attrs:{colspan:"4"}},[e._v("\n                Generated Event\n            ")])])}],Nt=a("db03"),Et=a.n(Nt),Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("autocomplete",e._g({ref:"autocomplete",attrs:{items:e.items,refine:e.refine,value:e.value,"display-empty-query":e.displayEmptyQuery,placeholder:e.placeholder,"input-classes":e.inputClasses,"empty-search-for-query-equals-value":!1,"no-auto-width":!0},scopedSlots:e._u([{key:"item",fn:function(t){t.index;var n=t.item;return[a("promoted-hit",e._g(e._b({staticClass:"w-240",attrs:{hit:n}},"promoted-hit",e.$props,!1),e.$listeners))]}}])},e.$listeners))],1)},Tt=[],$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relative"},[e.noAutoWidth?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],ref:"input",class:e.inputClasses?e.inputClasses:"input input-custom",attrs:{placeholder:e.placeholder||""},domProps:{value:e.query},on:{input:[function(t){t.target.composing||(e.query=t.target.value)},function(t){e.selectedIndex=-1}],keyup:e.onKeyUp,focus:function(t){e.focused=!0},blur:e.onBlur,keydown:e.onKeyDown}}),e.noAutoWidth?a("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",class:e.inputClasses?e.inputClasses:"input input-custom",attrs:{placeholder:e.placeholder||""},domProps:{value:e.query},on:{input:[function(t){t.target.composing||(e.query=t.target.value)},function(t){e.$emit("input",t.target.value),e.selectedIndex=-1}],keyup:e.onKeyUp,focus:function(t){e.focused=!0},blur:e.onBlur,keydown:e.onKeyDown}}):e._e(),e.focused&&(e.query.length>0||e.displayEmptyQuery)?a("div",{staticClass:"shadow mt-4 absolute z-10 bg-white dropdown"},e._l(e.items,(function(t,n){return a("div",{staticClass:"p-8 cursor-pointer border border-transparent",class:e.selectedIndex===n?"bg-nebula-blue text-white hover:bg-nebula-blue hover:text-white":"",on:{click:function(t){return e.click(t,n)},mousedown:e.mouseDown,mousemove:function(t){e.selectedIndex=n},mouseleave:function(t){e.selectedIndex=-1}}},[e._t("item",null,{index:n,item:t})],2)})),0):e._e()])},Dt=[],Mt=a("bd3b"),zt=a.n(Mt),Rt={name:"autocomplete",props:["items","refine","value","displayEmptyQuery","placeholder","inputClasses","emptySearchForQueryEqualsValue","noAutoWidth"],data:function(){var e="";return void 0!==this.value&&null!==this.value&&(e=this.value.toString()),{query:e,selectedIndex:-1,allowBlur:!0,focused:!1}},directives:{autowidth:zt.a},mounted:function(){this.refine(this.currentQuery)},computed:{currentQuery:function(){var e=void 0!==this.value&&null!==this.value?this.value.toString():null;return this.emptySearchForQueryEqualsValue&&this.query===e?"":this.query}},methods:{click:function(e,t){this.selectedIndex=t,this.onSelected(e),this.allowBlur=!0,this.focused=!1,this.$refs.input.blur()},mouseDown:function(e){e.preventDefault(),this.allowBlur=!1},onBlur:function(e){this.allowBlur&&this.$emit("onBlur",e),this.focused=!1},onKeyDown:function(e){9===e.which&&(e.preventDefault(),e.stopImmediatePropagation()),38!==e.which&&40!==e.which||e.preventDefault()},onKeyUp:function(e){var t;if(13===e.which||9===e.which||38===e.which||40===e.which)return e.preventDefault(),e.stopImmediatePropagation(),13!==e.which&&9!==e.which||this.onSelected(e),38===e.which&&(t=this.selectedIndex-1,t<0&&(t=this.items.length-1),this.selectedIndex=t),40===e.which&&(t=this.selectedIndex+1,t>this.items.length-1&&(t=0),this.selectedIndex=t),!1},onSelected:function(e){this.allowBlur=!1,-1!==this.selectedIndex&&this.items.length>0?this.$emit("onSelected",this.items[this.selectedIndex],e):this.$emit("onSelected",this.query,e),this.$refs.input.blur(),this.query="",this.selectedIndex=0!==this.query.length||this.displayEmptyQuery?0:-1}},watch:{value:function(e){e!==this.query&&(this.query=e)},currentQuery:function(e){this.refine(e)}}},Ft=Rt,Bt=Object($["a"])(Ft,$t,Dt,!1,null,null,null),qt=Bt.exports,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"flex"},[e.hitOrFetched?a("hit-image",e._g(e._b({attrs:{"forced-image-size":40,"flatten-hit":e.flattenHit,"display-mode":"autocomplete"}},"hit-image",e.$props,!1),e.$listeners)):e._e(),a("div",{staticClass:"flex-grow ml-12"},[a("div",[e.hitOrFetched?a("span",[e._v(e._s(e.objectID))]):e._e(),e.hitOrFetched?e._e():a("span",{staticClass:"text-cosmos-black-opacity-70",domProps:{innerHTML:e._s(e.properHighlight(e.id))}}),void 0!==e.position?a("span",[e._v("\n                    at pos\n                    "),a("span",{staticClass:"text-cosmos-black-opacity-70"},[e._v("\n                        "+e._s(e.position)+"\n                    ")])]):e._e()]),e.title&&e.title!==e.objectID?a("div",{domProps:{innerHTML:e._s(e.title)}}):e._e()])],1)])},Ut=[];function Jt(e,t,a){for(var n in e)"_rankingInfo"!==n&&"_highlightResult"!==n&&"_snippetResult"!==n&&("object"===Object(i["a"])(e[n])?Jt(e[n],[].concat(Object(xe["a"])(t),[n]),a):a["".concat([].concat(Object(xe["a"])(t),[n]).join("."))]=e[n]);return a}var Lt=function(e){return Jt(e,[],{})},Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["autocomplete"===e.displayMode?"":"mb-24",!e.hasImage||e.editImageAttributes&&!e.forcedImageSize?"rounded border border-proton-grey-opacity-60":"",e.editImageAttributes&&!e.forcedImageSize?"p-8":"",e.listMode&&e.imageSize<=160?"float-right ml-16":""]},[a("div",{staticClass:"flex justify-center items-center mx-auto",class:[e.editImageAttributes&&!e.forcedImageSize?"mt-12":"cursor-pointer","w-"+(e.forcedImageSize||e.imageSize)+" h-"+(e.forcedImageSize||e.imageSize)],on:{click:function(t){e.editImageAttributes=!0}}},[e.hasImage?e._e():a("camera-icon",{staticClass:"w-16 h-16 text-proton-grey-opacity-60"}),e.hasImage?a("img",{staticClass:"rounded w-full h-full",staticStyle:{"object-fit":"cover"},attrs:{src:""+e.proxyUrl+e.imageBaseUrl+e.image+e.imageSuffixUrl}}):e._e()],1),e.editImageAttributes&&!e.forcedImageSize?a("div",{staticClass:"p-12 text-center"},[a("div",[a("input",{staticClass:"w-128 bg-proton-grey-opacity-20 text-xs p-4",attrs:{placeholder:"image_attribute_name"},domProps:{value:e.imageAttribute},on:{input:function(t){return e.$emit("onUpdateImageAttribute",t.target.value)}}})]),a("div",{staticClass:"mt-2"},[a("input",{staticClass:"w-128 bg-proton-grey-opacity-20 text-xs p-4",attrs:{placeholder:"base_image_url"},domProps:{value:e.imageBaseUrl},on:{input:function(t){return e.$emit("onUpdateImageBaseUrl",t.target.value)}}})]),a("div",{staticClass:"mt-2"},[a("input",{staticClass:"w-128 bg-proton-grey-opacity-20 text-xs p-4",attrs:{placeholder:"suffix_image_url"},domProps:{value:e.imageSuffixUrl},on:{input:function(t){return e.$emit("onUpdateImageSuffixUrl",t.target.value)}}})]),a("div",{staticClass:"mt-2"},[a("select",{directives:[{name:"model",rawName:"v-model.number",value:e.size,expression:"size",modifiers:{number:!0}}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var a="_value"in t?t._value:t.value;return e._n(a)}));e.size=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"40"}},[e._v("40px")]),a("option",{attrs:{value:"80"}},[e._v("80px")]),a("option",{attrs:{value:"120"}},[e._v("120px")]),a("option",{attrs:{value:"160"}},[e._v("160px")]),a("option",{attrs:{value:"200"}},[e._v("200px")]),a("option",{attrs:{value:"240"}},[e._v("240px")])])]),a("div",{staticClass:"mt-2"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.shouldIgnoreImageProxy,expression:"shouldIgnoreImageProxy"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.shouldIgnoreImageProxy)?e._i(e.shouldIgnoreImageProxy,null)>-1:e.shouldIgnoreImageProxy},on:{change:function(t){var a=e.shouldIgnoreImageProxy,n=t.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=e._i(a,i);n.checked?r<0&&(e.shouldIgnoreImageProxy=a.concat([i])):r>-1&&(e.shouldIgnoreImageProxy=a.slice(0,r).concat(a.slice(r+1)))}else e.shouldIgnoreImageProxy=s}}}),e._v(" disable image proxy\n            ")])]),a("button",{staticClass:"mt-12 bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out px-16 p-8 text-sm",on:{click:function(t){e.editImageAttributes=!1}}},[e._v("\n            Close\n        ")])]):e._e()])},Wt=[],Qt=(a("3658"),{functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},c),...p},i.concat([a("path",{attrs:{d:"M23 19a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h4l2-3h6l2 3h4a2 2 0 012 2z"}}),a("circle",{attrs:{cx:"12",cy:"13",r:"4"}})]))}}),Gt={credentials:["appId","apiKey","indexName","server","method","userId"],images:["imageSize","imageAttribute","imageBaseUrl","imageSuffixUrl","ignoreImageProxy"],attributes:["titleAttributeName","autoTitleAttributeName","showSearchableAttributes","showCustomRanking","showAttributesForFaceting","showOnlyMatchingAttributes"],paramsAndSettings:["query","searchParams","indexSettings","keysIndexer"],response:["analyseResponse","searchResponse"],display:["analyseMaxNbPoints","displayMode","displayRankingInfo"],actions:["readOnly","isReplica","canJumpRules","canJumpSynonyms","canJumpRecords","jumpTo"]},Xt=/(?:https?:)?\/\/.+\.(?:jpe?g|png|svg|webp)(?:\?.*)?$/i,Zt={name:"HitImage",props:["flattenHit","displayMode","listMode","forcedImageSize"].concat(Object(xe["a"])(Gt.images),Object(xe["a"])(Gt.display)),components:{CameraIcon:Qt},data:function(){return{editImageAttributes:!1,allowBlur:!0}},computed:{proxyUrl:function(){return this.shouldIgnoreImageProxy?"":"https://rocky-thicket-17824.herokuapp.com/".concat(this.forcedImageSize||this.imageSize,"/")},size:{get:function(){return this.imageSize},set:function(e){this.$emit("onUpdateImageSize",e)}},shouldIgnoreImageProxy:{get:function(){return this.ignoreImageProxy},set:function(e){this.$emit("onUpdateIgnoreImageProxy",e)}},imageAttributeName:function(){return this.imageAttribute&&this.flattenHit[this.imageAttribute]||this.autoFindImageAttributeName(),this.imageAttribute},hasImage:function(){return this.imageAttributeName&&this.image},image:function(){return this.flattenHit[this.imageAttributeName]}},methods:{autoFindImageAttributeName:function(){var e;for(e in this.flattenHit)this.flattenHit[e].length<=1e3&&this.flattenHit[e].match(Xt)&&this.$emit("onUpdateImageAttribute",e);return this.imageAttribute}}},Yt=Zt,ea=Object($["a"])(Yt,Ht,Wt,!1,null,null,null),ta=ea.exports,aa={name:"PromotedHit",components:{HitImage:ta},props:["hit","id","position"].concat(Object(xe["a"])(Gt.credentials),Object(xe["a"])(Gt.images),Object(xe["a"])(Gt.attributes)),data:function(){return{fetched:null}},created:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.hit){e.next=12;break}return e.next=3,Ye(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 3:return t=e.sent,e.prev=4,e.next=7,t.getObject(this.id);case 7:this.fetched=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](4);case 12:case"end":return e.stop()}}),e,this,[[4,10]])})));function t(){return e.apply(this,arguments)}return t}(),computed:{hitOrFetched:function(){return this.hit||this.fetched},flattenHit:function(){return this.flattenRecord(this.hitOrFetched)},objectID:function(){return this.hitOrFetched?this.hitOrFetched.objectID:this.id},title:function(){return this.hitOrFetched?this.hitOrFetched._highlightResult&&this.hitOrFetched._highlightResult[this.autoTitleAttributeName]&&this.hitOrFetched._highlightResult[this.autoTitleAttributeName].value?this.hitOrFetched._highlightResult[this.autoTitleAttributeName].value:this.hitOrFetched[this.autoTitleAttributeName]:this.id}},methods:{flattenRecord:Lt,properHighlight:re}},na=aa,sa=Object($["a"])(na,Vt,Ut,!1,null,null,null),ia=sa.exports;function ra(e){return"string"===typeof e||e instanceof String}var la={watch:{titleAttribute:function(){this.$emit("onUpdateAutoTitleAttributeName",this.titleAttribute)}},props:["titleAttributeName","autoTitleAttributeName"],computed:{titleAttribute:function(){var e=this.titleAttributeName||this.autoTitleAttributeName;if(!e&&this.searchResponse){var t=this.indexSettings.searchableAttributes||this.indexSettings.attributesToIndex||[],a=this.searchResponse.hits.length>0?this.searchResponse.hits[0]:{};for(var n in t){var s=se(ie(t[n].split(",")[0]));if(ra(a[s])){e=s;break}}}return e||"objectID"}}};function oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ua(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(a),!0).forEach((function(t){Object(b["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ca={name:"HitsAutocomplete",components:{PromotedHit:ia,Autocomplete:qt},mixins:[la],props:["inputClasses","params","value","displayEmptyQuery","placeholder"].concat(Object(xe["a"])(Gt.credentials),Object(xe["a"])(Gt.images),Object(xe["a"])(Gt.attributes),Object(xe["a"])(Gt.paramsAndSettings)),data:function(){return{searchResponse:null,items:[]}},methods:{refine:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){var a,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ye(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 2:return a=e.sent,e.next=5,a.customSearch(ua({query:t},this.params||{}));case 5:if(n=e.sent,0!==n.hits.length){e.next=15;break}return e.next=9,a.getObjects([t]);case 9:if(s=e.sent,!(s.results.length>0&&null!==s.results[0])){e.next=15;break}return i=s.results||[],this.items=Object.freeze(i),this.searchResponse=Object.freeze({hits:i}),e.abrupt("return");case 15:this.searchResponse=Object.freeze(n),this.items=Object.freeze(n.hits);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.refine("")}},pa=ca,da=Object($["a"])(pa,Kt,Tt,!1,null,null,null),ha=da.exports,ma={name:"PersoEvent",components:{TrashIcon:ot,HitAutocomplete:ha},props:["aa","appId","apiKey","indexName"],mixins:[kt],data:function(){return{eventType:"click",eventName:"",userToken:"",filters:[""],objectIDs:[""],persoEnabled:!0}},created:function(){var e=this;this.$root.$on("onSelectEvent",(function(t){e.eventType=t.eventType,e.eventName=t.eventName})),this.$root.$on("onSelectFacet",(function(t){e.filters.length>0&&0===e.filters[0].trim().length?e.$set(e.filters,e.filters.length-1,"".concat(t.facetName,":")):e.filters.push("".concat(t.facetName,":")),e.objectIDs=[""]})),this.$root.$on("onPersoNotEnabled",(function(){e.persoEnabled=!1}))},computed:{nonEmptyFilters:function(){return this.filters.filter((function(e){return e.length>0}))},nonEmptyObjectIDs:function(){return this.objectIDs.filter((function(e){return e.length>0}))},isValidEvent:function(){return this.eventName.length>0&&(this.nonEmptyFilters.length>0||this.nonEmptyObjectIDs.length>0)},eventJson:function(){var e={eventName:this.eventName,eventType:this.eventType,index:this.indexName,userToken:this.userToken||"anonymous",timestamp:(new Date).getTime()};return this.nonEmptyFilters.length>0?e.filters=this.nonEmptyFilters:e.objectIDs=this.nonEmptyObjectIDs,e}},methods:{sendEvent:function(){Et.a.sendEvent(this.eventType,this.eventJson)}}},fa=ma,ga=Object($["a"])(fa,Ct,jt,!1,null,null,null),ya=ga.exports,ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.trackQueryInAnalytics,expression:"trackQueryInAnalytics"}],staticClass:"mr-4",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.trackQueryInAnalytics)?e._i(e.trackQueryInAnalytics,null)>-1:e.trackQueryInAnalytics},on:{change:function(t){var a=e.trackQueryInAnalytics,n=t.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=e._i(a,i);n.checked?r<0&&(e.trackQueryInAnalytics=a.concat([i])):r>-1&&(e.trackQueryInAnalytics=a.slice(0,r).concat(a.slice(r+1)))}else e.trackQueryInAnalytics=s}}}),e._v(" Track queries in Analytics (needed to send click/conversion events)\n        ")])]),a("div",{staticClass:"mt-8 flex items-center px-16 bg-white rounded border border-proton-grey-opacity-80"},[a("search-icon",{staticClass:"block w-16 h-16 mr-16 text-telluric-blue fill-current"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"flex-1 block h-full py-8 bg-transparent text-telluric-blue leading-normal",attrs:{placeholder:"Search for records"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}})],1),a("div",{staticClass:"mt-8"},[a("params",{staticClass:"w-300",attrs:{id:e.appId+"-"+e.indexName,"config-key":"searchParams",params:e.editableParams,"ref-params":e.editableParams,"raw-params":e.editableParams,keys:Object.keys(e.editableParams),"keys-indexer":null,mutate:!0},on:{onMutate:e.onMutate}})],1),a("perform-search",{attrs:{"search-params":e.params,"app-id":e.appId,"api-key":e.apiKey,"index-name":e.indexName,method:"search",query:e.query,"title-attribute-name":e.indexTitleAttribute,"fetch-explain":!1,"analyse-hits-per-page":0,"fetch-facets":!1,"no-signature":e.trackQueryInAnalytics},on:{onUpdateAutoTitleAttributeName:function(t){e.indexAutoTitleAttributeName=t},onFetchHits:e.onFetchHits,onUpdateError:function(t){e.errorMessage=t}}}),e.searchResponse?a("div",{staticClass:"mt-40 dropdown"},[a("div",{staticClass:"text-solstice-blue-opacity-70"},[e._v("\n            title attribute:\n            "),a("input",{staticClass:"w-128 bg-proton-grey-opacity-20 text-xs p-4",attrs:{placeholder:"attribute_name"},domProps:{value:e.indexTitleAttribute},on:{input:function(t){e.indexTitleAttribute=t.target.value}}}),e._v("\n            (default to first string attribute in searchableAttribute)\n        ")]),e._l(e.searchResponse.hits,(function(t,n){return a("div",{staticClass:"my-16 relative"},[a("div",{staticClass:"flex items-start"},[a("div",{staticClass:"mr-8 border border-nova-grey-opacity-80 text-center w-24 px-8 py-4 rounded text-xs uppercase text-solstice-blue"},[e._v("\n                    "+e._s(e.page*e.hitsPerPage+n+1)+"\n                ")]),a("promoted-hit",e._b({staticClass:"w-240",attrs:{hit:t,"image-size":e.indexImageSize,"ignore-image-proxy":e.indexIgnoreImageProxy,"image-attribute":e.indexImageAttributeName,"image-base-url":e.indexImageBaseUrl,"image-suffix-url":e.indexImageSuffixUrl,"title-attribute-name":e.indexTitleAttribute,"auto-title-attribute-name":e.indexAutoTitleAttributeName},on:{onUpdateAutoTitleAttributeName:function(t){e.indexAutoTitleAttributeName=t},onUpdateImageAttribute:function(t){e.indexImageAttributeName=t}}},"promoted-hit",e.$props,!1)),e._l(["click","conversion"],(function(s){return e.searchResponse.queryID?a("div",{staticClass:"mr-12 cursor-pointer bg-white border border-b-0 border-proton-grey-opacity-40 rounded shadow-sm hover:shadow transition-fast-out px-16 p-8 text-sm",on:{click:function(a){return e.sendEvent(s,t.objectID,e.page*e.hitsPerPage+n)}}},[e._v("\n                    send "+e._s(s)+" event\n                ")]):e._e()}))],2),a("div",{staticClass:"mt-16 mx-32 border-t border-proton-grey-opacity-40"})])})),a("div",{staticClass:"flex justify-center"},[a("pagination",{attrs:{page:e.page,"nb-pages":e.searchResponse.nbPages},on:{onUpdatePage:function(t){e.page=t}}})],1)],2):e._e()],1)},va=[],xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",e._l(e.keys,(function(t,n){return a("div",{key:t},[a("param-value",{ref:t,refInFor:!0,attrs:{id:e.id,"panel-key":e.panelKey,"input-key":t,"config-key":e.configKey,"keys-indexer":e.keysIndexer,"set-param-value":e.setParamValue,"add-array-element":e.addArrayElement,"delete-array-element":e.deleteArrayElement,"set-param-enabled":e.setParamEnabled,"delete-key":e.deleteKey,"restore-key":e.restoreKey,param:e.params[t],"ref-param":e.refParams[t],"raw-param":e.rawParams[t],"is-last-element":n===e.keys.length-1}})],1)})),0),a("input-param-name",{class:e.keys.length>0?"mt-8":"",attrs:{id:e.id,"input-key":"root","config-key":e.configKey,"set-param-value":e.setParamValue,"display-value":"indexSettings"===e.configKey?"Add index settings":"Add search param"}})],1)},_a=[],Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group",class:e.statusClasses},[a("div",{staticClass:"flex hover:bg-proton-grey-opacity-40 p-1"},[a("div",{staticClass:"flex flex-wrap w-full",staticStyle:{"max-width":"calc(100% - 51px)"}},[a("div",{staticClass:"truncate max-w-full",staticStyle:{"max-width":"calc(100% - 20px)"}},[e._v('\n                "'+e._s(e.inputKey)+"\n            ")]),a("div",[e._v('"')]),a("div",{staticClass:"ml-1"},[e._v(":")]),Array.isArray(e.param.value)?a("div",{staticClass:"ml-4"},[e._v("[")]):e._e(),e.isObject(e.param.value)?a("div",{staticClass:"ml-4"},[e._v("{")]):e._e(),Array.isArray(e.param.value)||e.isObject(e.param.value)?e._e():a("input-value",e._b({staticClass:"ml-4 max-w-full cursor-pointer",class:0===e.statusClasses.length?-1===["number","boolean"].indexOf(typeof e.param.value)?"text-cosmos-black-opacity-70":"text-neptune-1":e.statusClasses,attrs:{value:e.param.value,"param-spec":e.paramSpec}},"input-value",e.$props,!1))],1),a("div",{staticClass:"ml-auto justify-end flex invisible group-hover:visible"},[e.panelKey&&"indexSettings"!==e.configKey?a("input",{directives:[{name:"model",rawName:"v-model",value:e.enabled,expression:"enabled"}],staticClass:"ml-4",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.enabled)?e._i(e.enabled,null)>-1:e.enabled},on:{change:function(t){var a=e.enabled,n=t.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=e._i(a,i);n.checked?r<0&&(e.enabled=a.concat([i])):r>-1&&(e.enabled=a.slice(0,r).concat(a.slice(r+1)))}else e.enabled=s}}}):e._e(),e.panelKey&&"deleted"!==e.status&&e.paramCamJump?a("div",{staticClass:"ml-4",on:{click:function(t){return e.$store.commit("panels/jumpParamValue",{panelKey:e.panelKey,configKey:e.configKey,inputKey:e.inputKey})}}},["leftPanel"===e.panelKey?a("flip-right-icon",{staticClass:"w-12 h-12 fill-current cursor-pointer"}):a("flip-left-icon",{staticClass:"w-12 h-12 fill-current cursor-pointer"})],1):e._e(),"same"!==e.status&&"added"!==e.status&&"indexSettings"===e.configKey?a("history-icon",{staticClass:"ml-4 w-12 h-12 cursor-pointer fill-current",on:{click:function(t){return e.restoreKey(e.inputKey)}}}):e._e(),"deleted"!==e.status?a("trash-icon",{staticClass:"ml-4 w-12 h-12 cursor-pointer",on:{click:function(t){return e.deleteKey(e.inputKey)}}}):e._e()],1)]),a("div",{staticClass:"pl-4"},[e.isObject(e.param.value)?a("div",[a("input-value",e._b({staticClass:"break-words cursor-pointer",attrs:{value:e.param.value,"param-spec":e.paramSpec,status:e.status}},"input-value",e.$props,!1))],1):e._e(),Array.isArray(e.param.value)?a("div",{staticClass:"pl-12",class:0===e.statusClasses.length?"text-cosmos-black-opacity-70":e.statusClasses},[e.collapseBigArrays&&e.param.value.length>10?a("div",{staticClass:"cursor-pointer",on:{click:function(t){e.collapseBigArrays=!1}}},[e._v("\n                ... "),a("span",{staticClass:"text-proton-grey"},[e._v("("+e._s(e.param.value.length)+" values)")])]):a("draggable",{staticClass:"flex",attrs:{disabled:"deleted"===e.status},model:{value:e.param.value,callback:function(t){e.$set(e.param,"value",t)},expression:"param.value"}},[a("transition-group",{staticClass:"w-full"},e._l(e.param.value,(function(t,n){return a("div",{key:n-1,staticClass:"relative flex group w-full hover:bg-proton-grey-opacity-40 p-1"},[a("input-value",e._b({staticClass:"break-words cursor-pointer",staticStyle:{"max-width":"calc(100% - 16px)"},attrs:{value:e.param.value[n],"param-spec":e.paramSpec,"current-index":n}},"input-value",e.$props,!1)),"deleted"!==e.status?a("trash-icon",{staticClass:"w-12 h-12 ml-auto cursor-pointer invisible group-hover:visible",on:{click:function(t){return e.deleteArrayElement(e.inputKey,n)}}}):e._e()],1)})),0)],1),"deleted"!==e.status?a("button",{staticClass:"bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-8 p-4 text-sm mt-4",on:{click:function(t){return e.addArrayElement(e.inputKey)}}},[e._v("\n                +\n            ")]):e._e()],1):e._e(),Array.isArray(e.param.value)?a("div",[e._v("]")]):e._e(),e.isObject(e.param.value)?a("div",[e._v("}")]):e._e()])])},wa=[],ka=a("b8ca"),Sa=a.n(ka),Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isEditable||e.isForwardableComponent?e._e():a("div",{staticClass:"break-all",on:{click:function(t){return e.makeEditable()}}},[e._t("default",[e._v("\n            "+e._s(e.displayValue||JSON.stringify(e.value))+"\n        ")])],2),e.isEditable||e.isForwardableComponent?a(e.getComponent,e._b({tag:"component",class:"param-"+e.id+"-"+e.inputKeySlug,attrs:{"param-spec":e.paramSpec}},"component",e.$props,!1)):e._e()],1)},Pa=[],Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"param-"+e.id+"-root"},[e.isEditable?e._e():a("div",{on:{click:function(t){return e.inputState.setInput("root")}}},["root"===e.inputKey?a("button",{staticClass:"bg-white border border-b-0 border-proton-grey-opacity-40 rounded shadow-sm hover:shadow transition-fast-out px-16 p-8 text-sm"},[e._v("\n            "+e._s(e.displayValue)+"\n        ")]):e._e(),"root"!==e.inputKey?a("div",[e._v(e._s(JSON.stringify(e.inputKey))+": ")]):e._e()]),e.isEditable?a("algolia-autocomplete",{attrs:{"app-id":"AJ0P3S7DWQ","api-key":"90dfaaf5755e694f341fe68f6e41a6d4","index-name":"metaparams","display-empty-query":"root"!==e.inputKey,"display-attribute-name":"camel_case_label","search-params":Object.assign({},{hitsPerPage:4},e.searchFilters)},on:{onSelected:e.onSelected,onBlur:function(t){return e.inputState.setInput("none")}}}):e._e()],1)},Ca=[],ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("autocomplete",e._g({ref:"autocomplete",attrs:{items:e.items,refine:e.refine,value:e.value,"display-empty-query":e.displayEmptyQuery,"empty-search-for-query-equals-value":!0},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.index,s=t.item;return[e._t("default",[a("div",{domProps:{innerHTML:e._s(s._highlightResult[e.displayAttributeName]?s._highlightResult[e.displayAttributeName].value:s[e.displayAttributeName])}})],{index:n,item:s})]}}],null,!0)},e.$listeners))],1)},Na=[],Ea={name:"AlgoliaAutocomplete",components:{Autocomplete:qt},props:["indexName","searchParams","displayAttributeName","value","displayEmptyQuery","appId","apiKey"],data:function(){return{items:[]}},computed:{algoliaIndex:function(){return we()(this.appId,this.apiKey).initIndex(this.indexName)}},methods:{refine:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.algoliaIndex.search(t,this.searchParams||{});case 2:a=e.sent,this.items=a.hits;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.refine("")}},Ka=Ea,Ta=Object($["a"])(Ka,ja,Na,!1,null,null,null),$a=Ta.exports,Da=function(e){this.id=e,this.inputKey=null,this.positionKey=null,this.setInput=function(e,t){var a=this;this.inputKey=void 0!==e?e:null,this.positionKey=void 0!==t?t:null,n["default"].nextTick((function(){var e=a.inputKey.replace(/=/g,""),t=document.querySelector(".param-".concat(a.id,"-").concat(e," .input"));t&&(t.focus(),t.setSelectionRange&&"number"!==t.type&&t.setSelectionRange(0,t.value.length))}))}},Ma={},za=function(e){return Ma[e]||(Ma[e]=new Da(e)),Ma[e]},Ra=function(e){return e&&"object"===Object(i["a"])(e)&&e.constructor===Object},Fa={props:["id","param","configKey","inputKey","currentIndex","displayValue","setInput","setParamValue","addArrayElement","deleteArrayElement","deleteKey","restoreKey","keysIndexer","getValue","setValue","paramSpec","status","preventNextInput","customOnBlur"],data:function(){return{canBlur:!1,inputState:za(this.id)}},mounted:function(){var e=this;this.$nextTick((function(){e.canBlur=!0}))},computed:{inputKeySlug:function(){return this.inputKey.replace(/=/g,"")},value:{get:function(){return void 0!==this.getValue?this.getValue:Array.isArray(this.param.value)?this.param.value[this.currentIndex]:this.param.value},set:function(e){if(void 0!==this.setValue)return this.setValue(e,this.value);var t=e;Array.isArray(this.param.value)&&(t=this.param.value,t[this.currentIndex]=e),this.setParamValue(this.inputKey,t)}}},methods:{onBlur:function(){this.canBlur&&(this.removeEmptyElementInArray(),this.inputState.setInput("none"))},prevInput:function(){if("none"!==this.inputState.inputKey){if(this.param&&Array.isArray(this.param.value)){var e=this.currentIndex;0===this.param.value[e].length&&this.deleteArrayElement(this.inputState.inputKey,e)}return this.param&&Ra(this.param.value)&&this.removeEmptyElementInObject(),this.inputState.setInput("none")}},nextInput:function(e){if(e&&9===e.keyCode&&e.shiftKey)return this.prevInput(e);if("none"!==this.inputState.inputKey){if("root"===this.inputState.inputKey)return this.inputState.setInput("none");if(Array.isArray(this.param.value)){var t=this.currentIndex;if(this.param.value[t]&&0!==this.param.value[t].length)return this.addArrayElement(this.inputState.inputKey);this.deleteArrayElement(this.inputState.inputKey,t)}if(!Ra(this.param.value))return this.inputState.setInput("root")}},removeEmptyElementInArray:function(){var e=this;Array.isArray(this.param.value)&&this.param.value.forEach((function(t,a){t&&0!==t.length||e.deleteArrayElement(e.inputState.inputKey,a)}))},removeEmptyElementInObject:function(){this.deleteArrayElement(this.inputState.inputKey,"")}}},Ba=function(e){return e&&"object"===Object(i["a"])(e)&&e.constructor===Object},qa={name:"InputParamName",components:{AlgoliaAutocomplete:$a},mixins:[Fa],props:["id","configKey","inputKey","displayValue","setParamValue"],computed:{isEditable:function(){return this.inputState.inputKey===this.inputKey},searchFilters:function(){return this.configKey.startsWith("searchParams")?{filters:"scope:search"}:{filters:"scope:settings"}}},methods:{onSelected:function(e,t){var a=this;if(e){if(("string"===typeof e||e instanceof String)&&e.trim().startsWith("{"))try{var n=JSON.parse(e);return Object.keys(n).map((function(e){a.setParamValue(e,n[e])})),this.inputState.setInput("none")}catch(t){}if("object"===e.value_type&&(e.type="param"),"value"!==e.type){if("integer"===e.value_type)return this.setParamValue(e.name,e.default),this.inputState.setInput(e.name);if("param"===e.type){var s=JSON.parse(JSON.stringify(wt[e.param_name].default));return Array.isArray(s)?(s.push(""),this.setParamValue(e.param_name,s),this.inputState.setInput(e.param_name,s.length-1)):(Ba(s),this.setParamValue(e.param_name,s),this.inputState.setInput(e.param_name))}return this.setParamValue(e,""),this.inputState.setInput(e)}if(-1!==["enum","boolean"].indexOf(e.value_type))return this.setParamValue(e.param_name,e.name);if("enum_list"===e.value_type)return this.setParamValue(e.param_name,[e.name,""]),this.inputState.setInput(e.param_name,1)}return this.nextInput(t)}}},Va=qa,Ua=Object($["a"])(Va,Oa,Ca,!1,null,null,null),Ja=Ua.exports,La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("algolia-autocomplete",{ref:"algoliaautocomplete",attrs:{"app-id":"AJ0P3S7DWQ","api-key":"90dfaaf5755e694f341fe68f6e41a6d4","index-name":"metaparams","display-empty-query":!0,"display-attribute-name":"display_name",value:e.value,"search-params":{hitsPerPage:8,filters:"type:value AND param_name:'"+e.inputKey+"'"}},on:{onSelected:e.onSelected,onBlur:e.onBlur}})},Ha=[],Wa={name:"InputParamValue",components:{AlgoliaAutocomplete:$a},mixins:[Fa],methods:{onBlur:function(){if(this.customOnBlur)return this.customOnBlur();this.removeEmptyElementInArray(),this.inputState.setInput("none")},onSelected:function(e,t){void 0!==e.name?this.value=e.name:this.value=e,this.preventNextInput||this.nextInput(t)}}},Qa=Wa,Ga=Object($["a"])(Qa,La,Ha,!1,null,null,null),Xa=Ga.exports,Za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],ref:"input",staticClass:"input",attrs:{type:"number",min:void 0!==e.paramSpec.min?e.paramSpec.min:"",max:void 0!==e.paramSpec.max?e.paramSpec.max:""},domProps:{value:e.value},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),e.canBlur=!1},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;t.preventDefault(),e.canBlur=!1}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.nextInput(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.nextInput(t))}],blur:[e.onBlur,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.value=e._n(t.target.value))}}}),e.paramSpec.default===e.value?a("span",[e._v("(Default)")]):e._e()])},Ya=[],en={name:"InputInteger",mixins:[Fa],props:["paramSpec"]},tn=en,an=Object($["a"])(tn,Za,Ya,!1,null,null,null),nn=an.exports,sn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],ref:"input",staticClass:"input input-custom max-w-full",domProps:{value:e.value},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),e.canBlur=!1},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;t.preventDefault(),e.canBlur=!1}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.nextInput(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.nextInput(t))}],blur:e.onBlur,input:function(t){t.target.composing||(e.value=t.target.value)}}})])},rn=[],ln={name:"InputString",mixins:[Fa],directives:{autowidth:zt.a}},on=ln,un=Object($["a"])(on,sn,rn,!1,null,null,null),cn=un.exports,pn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relative h-100 w-256"},[a("pre",{ref:"pre",staticClass:"filter overflow-y-auto whitespace-pre-wrap absolute top-0 block w-full h-full bg-white text-telluric-blue resize-none shadow-none outline-none p-0 border-none font-mono text-base",domProps:{innerHTML:e._s(e.parsedValue)}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"input",staticClass:"input absolute top-0 block w-full h-full bg-transparent text-transparent caret-color-cosmos-black resize-none shadow-none outline-none p-0 border-none font-mono text-base",attrs:{spellcheck:"false"},domProps:{value:e.value},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.nextInput(t))}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.nextInput(t))},scroll:function(t){e.$refs.pre.scrollTop=e.$refs.input.scrollTop},blur:function(t){return e.inputState.setInput("none")},input:function(t){t.target.composing||(e.value=t.target.value)}}})])},dn=[],hn=a("f374"),mn=a.n(hn),fn={name:"InputFilters",mixins:[Fa],data:function(){return{parser:new mn.a}},computed:{parsedValue:function(){return this.parser.parse(this.value).html}}},gn=fn,yn=Object($["a"])(gn,pn,dn,!1,null,null,null),bn=yn.exports,vn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("autocomplete",{ref:"autocomplete",attrs:{items:e.items,refine:e.refine,value:e.value,"display-empty-query":!0,"empty-search-for-query-equals-value":!0},on:{onSelected:e.onSelected,onBlur:e.onBlur},scopedSlots:e._u([{key:"item",fn:function(t){t.index;var n=t.item;return[a("div",{domProps:{innerHTML:e._s(n)}})]}}])})},xn=[],_n={name:"InputAttribute",components:{Autocomplete:qt},mixins:[Fa],props:["paramSpec"],data:function(){return{items:[],extraAttrs:this.paramSpec.values||[]}},watch:{keysIndexer:function(){this.refine(this.value)}},methods:{onBlur:function(){if(this.customOnBlur)return this.customOnBlur();this.removeEmptyElementInArray(),this.inputState.setInput("none")},onSelected:function(e,t){null!==e&&(this.value=e),this.nextInput(t)},refine:function(e){var t=this;if(this.keysIndexer){var a=this.keysIndexer.search(e,4,this.extraAttrs);if(this.paramSpec.modifiers){var n=[];a.forEach((function(e){t.paramSpec.modifiers.forEach((function(t){var a=e;t.length>0&&(a="".concat(t,"(").concat(a,")")),n.push(a)}))})),a=n}this.extraAttrs.forEach((function(t){t.includes(e)&&a.push(t)})),this.items=a}}}},In=_n,wn=Object($["a"])(In,vn,xn,!1,null,null,null),kn=wn.exports,Sn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(Object.keys(e.value),(function(t){return a("div",{staticClass:"pl-12"},[a("div",{staticClass:"flex hover:bg-proton-grey-opacity-40 p-1"},[a("div",[e.inputState.positionKey==="key."+t?a("input-param-value",e._b({attrs:{"get-value":t,"set-value":e.setLanguage,"param-spec":e.paramSpec.key,"prevent-next-input":!0,"custom-on-blur":e.onBlur}},"input-param-value",e.$props,!1)):a("div",{on:{click:function(a){return e.inputState.setInput(e.inputKey,"key."+t)}}},[e._v("\n                    "+e._s(JSON.stringify(t))+"\n                ")])],1),a("div",[e._v(": [")]),"deleted"!==e.status?a("trash-icon",{staticClass:"w-12 h-12 ml-auto cursor-pointer invisible group-hover:visible",on:{click:function(a){return e.deleteLanguage(t)}}}):e._e()],1),a("div",{staticClass:"pl-12"},[e._l(e.value[t],(function(n,s){return a("div",[a("div",{staticClass:"flex w-full hover:bg-proton-grey-opacity-40 p-1"},[e.inputState.positionKey==="key."+t+".value."+s?a("input-attribute",e._b({staticStyle:{"max-width":"calc(100% - 16px)"},attrs:{"get-value":n,"set-value":e.setAttribute(t,s),"custom-on-blur":e.onBlur,"param-spec":{}}},"input-attribute",e.$props,!1)):a("div",{on:{click:function(a){return e.inputState.setInput(e.inputKey,"key."+t+".value."+s)}}},[e._v("\n                        "+e._s(JSON.stringify(n))+"\n                    ")]),"deleted"!==e.status?a("trash-icon",{staticClass:"w-12 h-12 ml-auto cursor-pointer invisible group-hover:visible",on:{click:function(a){return e.deleteAttribute(t,s)}}}):e._e()],1)])})),"deleted"!==e.status?a("button",{staticClass:"bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-8 p-4 text-sm mt-4",on:{click:function(a){return e.addAttribute(t)}}},[e._v("\n                +\n            ")]):e._e()],2),a("div",[e._v("]")])])})),"deleted"!==e.status?a("button",{staticClass:"ml-12 bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-8 p-4 text-sm mt-4",on:{click:e.addLanguage}},[e._v("\n        +\n    ")]):e._e()],2)},An=[],Pn={name:"InputDecompoundedAttributes",mixins:[Fa],components:{InputAttribute:kn,InputParamValue:Xa,TrashIcon:ot},created:function(){void 0!==this.value[""]&&this.inputState.setInput(this.inputKey,"key.")},methods:{onBlur:function(){var e=this;this.canBlur&&this.$nextTick((function(){var t=JSON.parse(JSON.stringify(e.param.value));delete t[""],Object.keys(t).forEach((function(e){t[e]=t[e].filter((function(e){return e.length>0}))})),e.setParamValue(e.inputKey,t),e.inputState.setInput("none")})),this.canBlur=!0},deleteLanguage:function(e){var t=JSON.parse(JSON.stringify(this.value));delete t[e],this.setParamValue(this.inputKey,t),this.inputState.setInput("none")},setLanguage:function(e,t){this.canBlur=!1;var a=JSON.parse(JSON.stringify(this.value));e===t||a[e]?delete a[""]:(a[e]=a[t],delete a[t]),a[e].push(""),this.setParamValue(this.inputKey,a),this.inputState.setInput(this.inputKey,"key.".concat(e,".value.").concat(a[e].length-1))},addLanguage:function(){this.canBlur=!1;var e=JSON.parse(JSON.stringify(this.value));e[""]=[],this.setParamValue(this.inputKey,e),this.inputState.setInput(this.inputKey,"key.")},addAttribute:function(e){var t=JSON.parse(JSON.stringify(this.value));t[e].push(""),this.setParamValue(this.inputKey,t),this.inputState.setInput(this.inputKey,"key.".concat(e,".value.").concat(t[e].length-1))},deleteAttribute:function(e,t){var a=JSON.parse(JSON.stringify(this.value));a[e].splice(t,1),this.setParamValue(this.inputKey,a),this.inputState.setInput(this.inputKey,"none")},setAttribute:function(e,t){var a=this;return function(n){var s=""===n,i=JSON.parse(JSON.stringify(a.value));i[e][t]=n,s?(i[e]=i[e].filter((function(e){return e.length>0})),a.setParamValue(a.inputKey,i),a.inputState.setInput("root","key.".concat(e,".value.").concat(i[e].length-1))):(i[e].push(""),a.setParamValue(a.inputKey,i),a.inputState.setInput(a.inputKey,"key.".concat(e,".value.").concat(i[e].length-1)))}}}},On=Pn,Cn=Object($["a"])(On,Sn,An,!1,null,null,null),jn=Cn.exports,Nn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vue-slider",{staticClass:"ml-auto",attrs:{width:200,tooltip:"always",min:void 0!==e.paramSpec.min?e.paramSpec.min:"",max:void 0!==e.paramSpec.max?e.paramSpec.max:"",lazy:!0},on:{dragging:function(t){return e.updateValue(t)},"drag-end":e.onBlur},model:{value:e.value,callback:function(t){e.value=e._n(t)},expression:"value"}})],1)},En=[],Kn=a("d718"),Tn=a.n(Kn),$n=(a("7532"),{name:"InputIntegerSlider",mixins:[Fa],components:{VueSlider:Tn.a},props:["paramSpec"],data:function(){return{timeout:null}},methods:{updateValue:function(e){var t=this;this.timeout=clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){t.value=e}),5)}}}),Dn=$n,Mn=Object($["a"])(Dn,Nn,En,!1,null,null,null),zn=Mn.exports,Rn={name:"InputValue",mixins:[Fa],data:function(){return{paramValueComponents:{enum:Xa,boolean:Xa,integer:nn,integer_slider:zn,enum_list:Xa,attributes_list:kn,attribute:kn,string:cn,string_list:cn,filters:bn,param_name:Ja,decompounded_attributes:jn}}},computed:{getComponent:function(){return this.isForwardableComponent?this.paramValueComponents[this.paramSpec.object_type]:this.paramValueComponents[this.paramSpec.value_type]},isForwardableComponent:function(){return"object"===this.paramSpec.value_type},isEditable:function(){var e=void 0===this.currentIndex?null:this.currentIndex;return this.inputState.inputKey===this.inputKey&&this.inputState.positionKey===e}},methods:{makeEditable:function(){this.inputState.setInput(this.inputKey,this.currentIndex)}}},Fn=Rn,Bn=Object($["a"])(Fn,Aa,Pa,!1,null,null,null),qn=Bn.exports,Vn={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c),...p},i.concat([a("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[a("rect",{attrs:{x:"2",y:"13",width:"8",height:"8",rx:"1"}}),a("rect",{attrs:{x:"14",y:"13",width:"8",height:"8",rx:"1"}}),a("g",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{d:"M8.625 6L5.812 9 3 6"}}),a("path",{attrs:{d:"M12 3H8.062c-1.242 0-2.25 1.075-2.25 2.4v2.403"}}),a("g",[a("path",{attrs:{d:"M12 3h3.938c1.242 0 2.25 1.075 2.25 2.4v3.606"}})])])])]))}},Un={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c),...p},i.concat([a("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[a("rect",{attrs:{x:"2",y:"13",width:"8",height:"8",rx:"1"}}),a("rect",{attrs:{x:"14",y:"13",width:"8",height:"8",rx:"1"}}),a("g",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{d:"M15.375 6l2.813 3L21 6"}}),a("path",{attrs:{d:"M12 3h3.938c1.242 0 2.25 1.075 2.25 2.4v2.403"}})]),a("path",{attrs:{d:"M12 3H8.062c-1.242 0-2.25 1.075-2.25 2.4v3.612","stroke-linecap":"round","stroke-linejoin":"round"}})])]))}},Jn={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor"},c),...p},i.concat([a("path",{attrs:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}})]))}},Ln=function(e){return e&&"object"===Object(i["a"])(e)&&e.constructor===Object},Hn={name:"ParamValue",components:{InputValue:qn,draggable:Sa.a,TrashIcon:ot,FlipLeftIcon:Vn,FlipRightIcon:Un,HistoryIcon:Jn},props:["id","inputKey","param","isLastElement","configKey","setParamValue","addArrayElement","deleteArrayElement","deleteKey","restoreKey","refParam","rawParam","keysIndexer","panelKey","setParamEnabled"],data:function(){return{values:[],collapseBigArrays:!0,isObject:Ln}},computed:{enabled:{get:function(){return this.param.enabled},set:function(e){this.setParamEnabled(this.inputKey,e)}},paramSpec:function(){return wt[this.inputKey]||{value_type:"string"}},paramCamJump:function(){return this.$store.state.panels.splitMode&&("indexSettings"!==this.configKey||!this.sameIndexOnEachPanel)},status:function(){return"indexSettings"!==this.configKey?this.refParam.enabled?"same":"disabled":void 0!==this.refParam&&void 0!==this.rawParam?JSON.stringify(this.refParam.value)===JSON.stringify(this.rawParam.value)?"same":"modified":void 0===this.refParam&&void 0!==this.rawParam?"added":void 0!==this.refParam&&void 0===this.rawParam?"deleted":"same"},statusClasses:function(){var e={same:"",added:"text-jupiter-1",modified:"text-saturn-1",disabled:"line-through",deleted:"line-through text-mars-1"};return e[this.status]}}},Wn=Hn,Qn=Object($["a"])(Wn,Ia,wa,!1,null,null,null),Gn=Qn.exports,Xn={name:"Params",props:["id","panelKey","configKey","keys","params","refParams","rawParams","keysIndexer","mutate"],components:{InputParamName:Ja,ParamValue:Gn},methods:{setParamValue:function(e,t){this.mutate?(this.$set(this.params,e,{value:JSON.parse(JSON.stringify(t)),enabled:!0}),this.$emit("onMutate")):this.$emit("onSetParamValue",e,t)},setParamEnabled:function(e,t){this.mutate?(this.$set(this.params[e],"enabled",t),this.$emit("onMutate")):this.$emit("onSetParamEnabled",e,t)},addArrayElement:function(e){if(this.mutate){var t=JSON.parse(JSON.stringify(this.params[e].value));t.push(""),this.setParamValue(e,t)}else this.$emit("onAddArrayElement",e);za(this.id).setInput(e,this.params[e].value.length-1)},deleteArrayElement:function(e,t){this.mutate?(this.$delete(this.params[e].value,t),this.$emit("onMutate")):this.$emit("onDeleteArrayElement",e,t)},deleteKey:function(e){this.mutate?(this.$delete(this.params,e),this.$emit("onMutate")):this.$emit("onDeleteKey",e)},restoreKey:function(e){this.mutate?(this.$set(this.params,e,{value:JSON.parse(JSON.stringify(this.refParams[e])),enabled:!0}),this.$emit("onMutate")):this.$emit("onRestoreKey",e)}}},Zn=Xn,Yn=Object($["a"])(Zn,xa,_a,!1,null,null,null),es=Yn.exports,ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.cursor?e._e():a("ul",{staticClass:"flex mt-24 mb-12 pl-0"},[e.page>0?a("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(e.page-1)}}},[a("chevron-left-icon",{staticClass:"w-12 h-12"})],1):e._e(),e.pages[0]>0?[a("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(0)}}},[e._v("1")]),a("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer"},[e._v("...")])]:e._e(),e._l(e.pages,(function(t){return a("li",{key:t,staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",class:t===e.page?"border border-telluric-blue-opacity-80":"",on:{click:function(a){return e.setPage(t)}}},[a("span",[e._v(e._s(t+1))])])})),e.pages[e.pages.length-1]<e.nbPages-1?[a("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer"},[e._v("...")]),a("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(e.nbPages-1)}}},[e._v(e._s(e.nbPages))])]:e._e(),e.page<e.nbPages-1?a("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(e.page+1)}}},[a("chevron-left-icon",{staticClass:"w-12 h-12 rotate-180"})],1):e._e()],2),e.cursor?a("ul",{staticClass:"flex mt-24 mb-12 pl-0"},[a("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.$emit("onDeleteParam","cursor")}}},[e._v("\n            First page\n        ")]),a("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.$emit("onSetParamValue","cursor",e.cursor)}}},[e._v("\n            Next page\n        ")])]):e._e()])},as=[];function ns(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a}var ss=function(e,t){this.currentPage=e,this.total=t,this.padding=3,this.pages=function(){var e=this.total,t=this.currentPage,a=this.padding;if(0===e)return[0];var n=this.nbPagesDisplayed(a,e);if(n===e)return ns(0,e);var s=this.calculatePaddingLeft(t,a,e,n),i=n-s,r=t-s,l=t+i;return ns(r,l)},this.nbPagesDisplayed=function(e,t){return Math.min(2*e+1,t)},this.calculatePaddingLeft=function(e,t,a,n){return e<=t?e:e>=a-t?n-(a-e):t},this.isLastPage=function(){return this.currentPage===this.total-1},this.isFirstPage=function(){return 0===this.currentPage}},is={name:"Pagination",props:["page","nbPages","cursor"],components:{ChevronLeftIcon:L},computed:{pages:function(){return this.paginator.pages()},paginator:function(){return new ss(this.page,this.nbPages)}},methods:{setPage:function(e){this.page>=0&&this.page<this.nbPages&&this.$emit("onUpdatePage",e)}}},rs=is,ls=Object($["a"])(rs,ts,as,!1,null,null,null),os=ls.exports,us={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},c),...p},i.concat([a("path",{attrs:{d:"M19.71 18.29L16 14.61A9 9 0 1014.61 16l3.68 3.68a1 1 0 001.42 0 1 1 0 000-1.39zM2 9a7 7 0 1112 4.93A7 7 0 012 9z"}})]))}},cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("settings-loader",{attrs:{"app-id":e.appId,"index-name":e.indexName,"api-key":e.apiKey,"user-id":e.userId},on:{onFetchSettings:function(t){e.indexSettings=t}}})},ps=[],ds=(a("5c32"),function(e){if("string"!==typeof e)return e;var t=[];return e.split(".").forEach((function(e){e.split(/\[([^}]+)\]/g).forEach((function(e){e.length>0&&t.push(e)}))})),t});function hs(e,t,a){t=ds(t);for(var n=e,s=0;s<t.length;s++){if(void 0===n[t[s]])return a;n=n[t[s]],Array.isArray(n)&&(n=n[n.length-1])}return n}function ms(e,t){if("typo"===t)return e._rankingInfo.nbTypos;if("geo"===t)return e._geoloc?e._rankingInfo.geoDistance*e._rankingInfo.geoPrecision:null;if("words"===t)return e._rankingInfo.words;if("filters"===t)return e._rankingInfo.filters;if("proximity"===t)return e._rankingInfo.proximityDistance;if("attribute"===t)return Math.floor(e._rankingInfo.firstMatchedWord/1e3);if("position"===t)return e._rankingInfo.firstMatchedWord%1e3+1;if("exact"===t)return e._rankingInfo.nbExactWords;if("perso"===t)return e._rankingInfo&&e._rankingInfo.personalization?e._rankingInfo.personalization.score:null;if("perso.filtersScore"===t)return e._rankingInfo&&e._rankingInfo.personalization?e._rankingInfo.personalization.filtersScore:null;if("perso.rankingScore"===t)return e._rankingInfo&&e._rankingInfo.personalization?e._rankingInfo.personalization.rankingScore:null;var a=t.replace(/^(asc|desc)\((.*)\)$/,"$2");return hs(e,a,"<not present>")}var fs=function(e){this.indexSettings=e,this.ranking=e.ranking?e.ranking:wt.ranking.settings_default,this.customRanking=e.customRanking?e.customRanking:wt.customRanking.default,this.isTypoStrictOrMin=function(e){return e&&void 0!==e.typoTolerance?-1!==["strict","min"].indexOf(e.typoTolerance):-1!==["strict","min"].indexOf(this.indexSettings.typoTolerance)},this.getActualCriteria=function(e,t){var a=this,n=[],s=Object(xe["a"])(this.ranking);this.isTypoStrictOrMin(e)&&n.push("typo");var i=!1;return s.forEach((function(e){if("custom"===e){if(t)return;i=!0,n.push("perso"),n.push("perso.rankingScore"),n.push("perso.filtersScore"),a.customRanking.forEach((function(e){n.push(e)}))}else"typo"===e?-1===n.indexOf("typo")&&n.push("typo"):"attribute"===e?(n.push("attribute"),n.push("position")):n.push(e)})),i||(n.push("perso"),n.push("perso.rankingScore"),n.push("perso.filtersScore")),n},this.getCriterionValue=function(e,t){return ms(e,t)}};function gs(e){var t=window.location.href;window.location.href=e,window.history.replaceState(null,null,t)}var ys={components:{SettingsLoader:Ot},props:["appId","indexName","apiKey","server","query","method","userId","noSignature","searchParams","titleAttributeName","fetchExplain","analyseHitsPerPage","fetchFacets"],mixins:[la],data:function(){return{anchor:null,searchResponse:null,indexSettings:{},requestNumber:0,requestNumberReceived:0,requestNumberAnalysis:0,requestNumberAnalysisReceived:0}},created:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init(),this.$root.$on("shouldTriggerSearch",(function(e){e===t.indexName&&(t.triggerSearch(),t.triggerAnalyseSearch())})),this.$root.$on("wantsToGoToAnchorAtNext",(function(e){t.anchor=e}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{query:function(){var e=this;["searchParams","searchParams2"].forEach((function(t){e.$store.commit("apps/".concat(e.appId,"/").concat(e.indexName,"/deleteParam"),{configKey:t,inputKey:"page"})}))},server:function(e,t){e!==t&&this.init()},method:function(e,t){e!==t&&this.init()},searchParamsWithDefaults:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&this.triggerSearch()},searchParamsForAnalysis:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&this.triggerAnalyseSearch()},appId:function(e,t){e!==t&&this.init()},indexName:function(e,t){e!==t&&this.init()},apiKey:function(e,t){e!==t&&this.init()},userId:function(e,t){e!==t&&this.init()}},computed:{rankingInfoAnalyzer:function(){return new fs(this.indexSettings)},criteria:function(){return this.rankingInfoAnalyzer.getActualCriteria()},textualCriteria:function(){return this.rankingInfoAnalyzer.getActualCriteria(this.searchParamsWithDefaults,!0).filter((function(e){return!["perso","perso.filtersScore","perso.rankingScore"].includes(e)}))},searchParamsWithDefaults:function(){var e={hitsPerPage:8,query:this.query,attributesToSnippet:["*:10"],snippetEllipsisText:"…",attributesToRetrieve:["*"],analytics:!1,enableABTest:!1};this.fetchExplain&&(e["explain"]="match.alternatives,params.*");var t={getRankingInfo:!0,highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"};if(this.fetchFacets){var a=this.indexSettings&&this.indexSettings.attributesForFaceting?this.indexSettings.attributesForFaceting:[],n=(this.searchParams.facets||a||[]).slice(0,50);n.some((function(e){return"*"===e}))&&(n=a),t.disjunctiveFacets=n.map(se)}return Object.assign(e,this.searchParams,t)},searchParamsForAnalysis:function(){return Object.assign({query:this.query},this.searchParams,{page:0,analytics:!1,enableABTest:!1,getRankingInfo:!0,hitsPerPage:this.analyseHitsPerPage,attributesToSnippet:[],attributesToHighlight:[],attributesToRetrieve:["*"]})}},methods:{init:function(){this.appId&&this.indexName?(this.triggerSearch(),this.triggerAnalyseSearch()):this.$emit("onFetchHits",null)},triggerSearch:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="search"===this.method?"customSearch":"customBrowse",a=this.requestNumber++,e.next=4,Ye(this.appId,this.apiKey,this.indexName,this.server,this.userId,this.noSignature);case 4:n=e.sent,n[t](this.searchParamsWithDefaults).then(function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(s.requestNumberReceived>a)){e.next=2;break}return e.abrupt("return");case 2:if(s.requestNumberReceived=a,!(t.hits.length<=0&&s.searchParamsWithDefaults.query.length>0)){e.next=12;break}return e.prev=4,e.next=7,n.getObject(s.searchParamsWithDefaults.query);case 7:t.object=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](4);case 12:t.merge&&t.hits.length>0&&t.hits[0]._rankingInfo&&(t.hits[0]._rankingInfo.merge=t.merge),i=Object.freeze(t),s.searchResponse=i,s.$emit("onFetchHits",i),s.$emit("onUpdateError",""),s.anchor&&s.$nextTick((function(){gs(s.anchor),s.anchor=null}));case 18:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){s.requestNumberReceived>a||(s.requestNumberReceived=a,s.$emit("onFetchHits",null),s.$emit("onUpdateError",e.message),console.error(e))}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),triggerAnalyseSearch:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="search"===this.method?"customSearch":"customBrowse","customSearch"===t){e.next=4;break}return this.$emit("onFetchAnalyseHits",null),e.abrupt("return");case 4:return e.next=6,Ye(this.appId,this.apiKey,this.indexName,this.server,this.userId,this.noSignature);case 6:a=e.sent,n=this.requestNumberAnalysis++,a[t](this.searchParamsForAnalysis).then((function(e){if(!(s.requestNumberAnalysisReceived>n)){if(s.requestNumberAnalysisReceived=n,e.hits.length>1)for(var t=JSON.stringify(s.textualCriteria.map((function(t){return s.rankingInfoAnalyzer.getCriterionValue(e.hits[0],t)}))),a=function(a){var n=JSON.stringify(s.textualCriteria.map((function(t){return s.rankingInfoAnalyzer.getCriterionValue(e.hits[a],t)})));t!==n&&(t=n,e.hits[a]._rankingInfo.startsRelevanceBucket=!0)},i=1;i<e.hits.length;i++)a(i);s.$emit("onFetchAnalyseHits",Object.freeze(e))}})).catch((function(){}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},bs=ys,vs=Object($["a"])(bs,cs,ps,!1,null,null,null),xs=vs.exports;function _s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Is(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(a),!0).forEach((function(t){Object(b["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ws={name:"ClickAnalyticsEvent",components:{SearchIcon:us,Params:es,PromotedHit:ia,Pagination:os,PerformSearch:xs},props:["appId","apiKey","indexName","aa"],mixins:[kt,la],data:function(){return{query:"",page:0,hitsPerPage:8,searchResponse:null,editableParams:{},algoliaParams:{},trackQueryInAnalytics:!1}},computed:{params:function(){return Is({analytics:this.trackQueryInAnalytics,clickAnalytics:this.trackQueryInAnalytics,hitsPerPage:this.hitsPerPage,page:this.page},this.algoliaParams)}},methods:{onFetchHits:function(e){this.searchResponse=e},sendEvent:function(e,t,a){this.aa.sendEvent(e,{objectIDs:[t],positions:[a+1],eventName:"clickOnResultsFromInsightsUI",timestamp:(new Date).getTime(),index:this.indexName,queryID:this.searchResponse.queryID})},onMutate:function(){var e=this,t={};Object.keys(this.editableParams).forEach((function(a){t[a]=JSON.parse(JSON.stringify(e.editableParams[a].value))})),this.algoliaParams=t}}},ks=ws,Ss=Object($["a"])(ks,ba,va,!1,null,null,null),As=Ss.exports,Ps=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.persoEnabled?a("div",[a("h3",{staticClass:"text-solstice-blue-opacity-80 mt-8 mb-16"},[e._v("Current strategy info")]),e.strategy?a("div",{staticClass:"flex"},[a("div",{staticClass:"w-half"},[a("table",[e._m(0),e._l(e.strategy.eventsScoring,(function(t){return a("tr",{staticClass:"border-t border-proton-grey-opacity-20"},[a("td",{staticClass:"py-8 pr-32"},[a("span",{staticClass:"text-nebula-blue cursor-pointer hover:underline",on:{click:function(a){return e.$root.$emit("onSelectEvent",t)}}},[e._v("\n                            "+e._s(t.eventName)+"\n                        ")])]),a("td",{staticClass:"py-8 pr-32"},[e._v("\n                            "+e._s(t.eventType)+"\n                        ")]),a("td",{staticClass:"py-8 pr-32"},[e._v("\n                            "+e._s(t.score)+"\n                        ")])])}))],2)]),a("div",{staticClass:"w-half"},[a("table",[e._m(1),e._l(e.strategy.facetsScoring,(function(t){return a("tr",{staticClass:"border-t border-proton-grey-opacity-20"},[a("td",{staticClass:"py-8 pr-32"},[a("span",{staticClass:"text-nebula-blue cursor-pointer hover:underline",on:{click:function(a){return e.$root.$emit("onSelectFacet",t)}}},[e._v("\n                            "+e._s(t.facetName)+"\n                        ")])]),a("td",{staticClass:"py-8 pr-32"},[e._v("\n                            "+e._s(t.score)+"\n                        ")])])}))],2)])]):a("div",[e._v("\n            No perso strategy found for appId: "+e._s(e.appId)+"\n        ")])]):e._e(),e.persoEnabled?e._e():a("div",[a("div",{staticClass:"bg-mars-1-opacity-20 p-8 rounded"},[e._v("\n            Perso is not enabled on appId: "+e._s(e.appId)+"\n        ")])])])},Os=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"tracking-wide text-xs uppercase text-cosmos-black-opacity-70"},[a("td",{staticClass:"py-8 pr-32"},[e._v("Event Name")]),a("td",{staticClass:"py-8 pr-32"},[e._v("Event Type")]),a("td",{staticClass:"py-8 pr-32"},[e._v("Event score")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"tracking-wide text-xs uppercase text-cosmos-black-opacity-70"},[a("td",{staticClass:"py-8 pr-32"},[e._v("Facet Name")]),a("td",{staticClass:"py-8 pr-32"},[e._v("Facet Score")])])}],Cs={name:"Strategy",props:["appId","apiKey"],data:function(){return{strategy:null,events:[],persoEnabled:!0}},created:function(){this.initialize()},methods:{initialize:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.appId){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Xe(this.appId,this.apiKey);case 4:return t=e.sent,a=t.initRecommendation(),e.prev=6,e.next=9,a.getPersonalizationStrategy();case 9:n=e.sent,this.strategy=n,e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](6),e.t0.status&&401===e.t0.status&&(this.$root.$emit("onPersoNotEnabled"),this.persoEnabled=!1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[6,13]])})));function t(){return e.apply(this,arguments)}return t}()}},js=Cs,Ns=Object($["a"])(js,Ps,Os,!1,null,null,null),Es=Ns.exports,Ks=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"flex text-telluric-blue text-sm"},[a("div",{class:Object.keys(e.$store.state.apps).length>0?"ml-48":"ml-auto"},[e._m(0),a("div",{staticClass:"flex h-48"},[a("div",{staticClass:"h-full flex items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-16"},[a("button",{staticClass:"h-full py-8 px-16",on:{click:function(t){e.manageAppsPanel=!e.manageAppsPanel}}},[a("div",[a("box-icon",{staticClass:"w-auto h-16 fill-current",class:[e.manageAppsPanel?"text-nebula-blue":"text-cosmos-black-opacity-60"]})],1),a("div",{staticClass:"mt-4"},[e._v("\n                            Manage AppIDs\n                        ")])])])])])])])},Ts=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-8"},[a("h4",[e._v("Management")])])}],$s={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 29.94 20"},c),...p},i.concat([a("path",{attrs:{d:"M6.94 1H3a3 3 0 00-3 3v12a3 3 0 003 3h3.94a3 3 0 003-3V4a3 3 0 00-3-3zm1 15a1 1 0 01-1 1H3a1 1 0 01-1-1V4a1 1 0 011-1h3.94a1 1 0 011 1zM26.94 1H23a3 3 0 00-3 3v12a3 3 0 003 3h3.94a3 3 0 003-3V4a3 3 0 00-3-3zm1 15a1 1 0 01-1 1H23a1 1 0 01-1-1V4a1 1 0 011-1h3.94a1 1 0 011 1zM15 2.4a1 1 0 01-1-1V1a1 1 0 012 0v.4a1 1 0 01-1 1zM15 15.86a1 1 0 01-1-1v-.75a1 1 0 012 0v.75a1 1 0 01-1 1zm0-4.49a1 1 0 01-1-1v-.74a1 1 0 012 0v.74a1 1 0 01-1 1zm0-4.48a1 1 0 01-1-1v-.75a1 1 0 112 0v.75a1 1 0 01-1 1zM15 20a1 1 0 01-1-1v-.4a1 1 0 012 0v.4a1 1 0 01-1 1z"}})]))}},Ds={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:["feather feather-sliders",r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-sliders"},c),...p},i.concat([a("path",{attrs:{d:"M4 21v-7M4 10V3M12 21v-9M12 8V3M20 21v-5M20 12V3M1 14h6M9 8h6M17 16h6"}})]))}},Ms={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},c),...p},i.concat([a("circle",{attrs:{cx:"4",cy:"4",r:"3",fill:"transparent"}}),a("circle",{attrs:{cx:"20",cy:"4",r:"3",fill:"transparent"}}),a("circle",{attrs:{cx:"4",cy:"20",r:"3",fill:"transparent"}}),a("circle",{attrs:{cx:"20",cy:"20",r:"3",fill:"transparent"}}),a("path",{attrs:{d:"M8 4h8M8 20h8"}})]))}},zs={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:["feather feather-eye",r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-eye"},c),...p},i.concat([a("path",{attrs:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}}),a("circle",{attrs:{cx:"12",cy:"12",r:"3"}})]))}},Rs={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:["feather feather-eye-off",r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-eye-off"},c),...p},i.concat([a("path",{attrs:{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24M1 1l22 22"}})]))}},Fs={functional:!0,render(e,t){const{_c:a,_v:n,data:s,children:i=[]}=t,{class:r,staticClass:l,style:o,staticStyle:u,attrs:c={},...p}=s;return a("svg",{class:[r,l],style:[o,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},c),...p},i.concat([a("circle",{attrs:{cx:"18",cy:"5",r:"3"}}),a("circle",{attrs:{cx:"6",cy:"12",r:"3"}}),a("circle",{attrs:{cx:"18",cy:"19",r:"3"}}),a("path",{attrs:{d:"M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"}})]))}},Bs={name:"DisplayConfig",components:{SplitIcon:$s,Slider:Ds,CompareIcon:Ms,EyeIcon:zs,EyeOffIcon:Rs,BoxIcon:de,ShareIcon:Fs},computed:{manageAppsPanel:{get:function(){return this.$store.state.panels.manageAppsPanel},set:function(e){this.$store.commit("panels/setManageAppsPanel",e)}}}},qs=Bs,Vs=Object($["a"])(qs,Ks,Ts,!1,null,null,null),Us=Vs.exports,Js={name:"Home",components:{Strategy:Es,ClickAnalyticsEvent:As,InternalApp:q,AppHeader:G,AppSelector:ye,IndexSelector:it,PersoEvent:ya,SettingsLoader:Ot,AppManagement:ht,DisplayConfig:Us},mixins:[kt],watch:{appReady:function(e){e||(this.$store.commit("insightsui/setAppId",null),this.$store.commit("insightsui/setIndexName",null))}},computed:{appReady:function(){return this.$store.state.apps[this.appId]},appId:{get:function(){return this.$store.state.insightsui.appId},set:function(e){this.$store.commit("insightsui/setAppId",e)}},indexName:{get:function(){return this.$store.state.insightsui.indexName},set:function(e){this.$store.commit("insightsui/setIndexName",e)}},tab:{get:function(){return this.$store.state.insightsui.tab},set:function(e){this.$store.commit("insightsui/setTab",e)}},apiKey:function(){return this.$store.state.apps[this.appId]?this.$store.state.apps[this.appId].key:""},aa:function(){return Et.a.init({appId:this.appId,apiKey:this.apiKey}),Et.a}},methods:{onIndexCreated:function(e){this.indexName=e}}},Ls=Js,Hs=Object($["a"])(Ls,S,A,!1,null,null,null),Ws=Hs.exports;n["default"].config.productionTip=!1,n["default"].config.performance=!0,new n["default"]({render:function(e){return e(Ws)},store:k}).$mount("#app")}});
//# sourceMappingURL=app.afbc8c21.js.map