(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},r=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/logs/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("dde3"),n("c8a0"),n("3cdf"),n("5c85");var s=n("9869"),a=n("9ce4"),r=n("5552"),i=function(e,t,n){e=e||{},t=e.storage||window&&window.localStorage,n=e.key||"vuex";var s=500,a=null;function i(e,t,n){try{return(n=t.getItem(e))&&"undefined"!==typeof n?JSON.parse(n):void 0}catch(s){}}function o(t,n,r){window.clearTimeout(a),a=window.setTimeout((function(){var s=n;e.reducer&&(s=e.reducer(n)),r.setItem(t,JSON.stringify(s))}),s)}return function(e){var s=i(n,t);if("object"===Object(r["a"])(s)&&null!==s){var a;for(a in e.state)void 0===s[a]&&(s[a]=e.state[a]);e.replaceState(s)}e.subscribe((function(e,s){o(n,s,t)}))}},o=(n("2e73"),n("0c1f"),function(){return{namespaced:!0,state:{searchParams:{},searchParams2:{},indexSettings:{},advancedIndexSettings:{},refIndexSettings:{},imageAttributeName:null,autoTitleAttributeName:null,titleAttribute:"",ignoreImageProxy:!1,imageSize:40,imageBaseUrl:"",imageSuffixUrl:"",lastUsed:(new Date).getTime()},mutations:{replaceIndexData:function(e,t){Object.keys(t).forEach((function(n){void 0!==e[n]&&s["a"].set(e,n,t[n])}))},updateLastUsed:function(e){e.lastUsed=(new Date).getTime()},replaceIndexSettings:function(e,t){var n=t;s["a"].set(e,"indexSettings",{}),Object.keys(n).forEach((function(t){s["a"].set(e.indexSettings,t,{value:n[t],enabled:!0})})),s["a"].set(e,"refIndexSettings",JSON.parse(JSON.stringify(e.indexSettings)))},setImageSize:function(e,t){s["a"].set(e,"imageSize",t)},setIgnoreImageProxy:function(e,t){s["a"].set(e,"ignoreImageProxy",t)},setAutoTitleAttributeName:function(e,t){s["a"].set(e,"autoTitleAttributeName",t)},setTitleAttribute:function(e,t){s["a"].set(e,"titleAttribute",t)},resetIndexSettings:function(e){s["a"].set(e,"indexSettings",JSON.parse(JSON.stringify(e.refIndexSettings)))},setImageAttributeName:function(e,t){s["a"].set(e,"imageAttributeName",t)},setImageBaseUrl:function(e,t){s["a"].set(e,"imageBaseUrl",t)},setImageSuffixUrl:function(e,t){s["a"].set(e,"imageSuffixUrl",t)},restoreIndexSetting:function(e,t){var n=t.inputKey;s["a"].set(e.indexSettings,n,JSON.parse(JSON.stringify(e.refIndexSettings[n])))},setAdvancedIndexSettings:function(e,t){s["a"].set(e,"advancedIndexSettings",t)},setParamValue:function(e,t){var n=t.configKey||this.state.edit.configKey;s["a"].set(e[n],t.key,{value:t.value,enabled:!0})},setParamEnabled:function(e,t){s["a"].set(e[t.configKey][t.inputKey],"enabled",t.value)},deleteParam:function(e,t){s["a"].delete(e[t.configKey],t.inputKey)},deleteArrayElement:function(e,t){s["a"].delete(e[t.configKey][t.inputKey].value,t.positionKey)},setKeysIndexer:function(e,t){s["a"].set(e,"keysIndexer",t)},setIndexAnalyzer:function(e,t){s["a"].set(e,"indexAnalyzer",t)}}}}),c=function(e,t,n){return{namespaced:!0,state:{key:t,lastIndexName:n,userId:null,__app_name:"",__app_owner:""},mutations:{setLastIndexName:function(e,t){s["a"].set(e,n,t)},setAppName:function(e,t){s["a"].set(e,"__app_name",t)},setAppOwner:function(e,t){s["a"].set(e,"__app_owner",t)},setUserId:function(e,t){s["a"].set(e,"userId",t)},addIndex:function(t,n){var s=n,a=["apps",e,s],r=this._modules.get(a);void 0===r&&(t[s]?this.registerModule(["apps",e,s],o(),{preserveState:!0}):this.registerModule(["apps",e,s],o()),r=this._modules.get(a)),r.context.commit("updateLastUsed")}}}},l={namespaced:!0,modules:{},mutations:{addAppId:function(e,t){var n=t.appId,a=["apps",n],r=this._modules.get(a),i=t.apiKey||null;void 0!==r&&e[n]?t.apiKey&&s["a"].set(e[n],"key",i):(e[n]?this.registerModule(["apps",n],c(n,i),{preserveState:!0}):this.registerModule(["apps",n],c(n,i,null)),null===this.state.panels.leftPanel.appId&&s["a"].set(this.state.panels.leftPanel,"appId",n),null===this.state.panels.rightPanel.appId&&s["a"].set(this.state.panels.rightPanel,"appId",n))},deleteAppId:function(e,t){var n=t,a=["apps",n],r=this._modules.get(a);r&&this.unregisterModule(a),s["a"].delete(e,n);var i=null,o=Object.keys(e);o.length>0&&(i=o[0]),this.state.panels.leftPanel.appId===n&&s["a"].set(this.state.panels.leftPanel,"appId",i),this.state.panels.rightPanel.appId===n&&s["a"].set(this.state.panels.rightPanel,"appId",i)}}},u=function(e,t){return{namespaced:!0,state:{appId:e,indexName:t,server:"-dsn",displayMode:"list",currentTab:"hits",method:"search"},mutations:{setPanelConfig:function(e,t){s["a"].set(e,"appId",t.appId),s["a"].set(e,"indexName",t.indexName),s["a"].set(e,"server","-dsn"),e.indexName&&s["a"].set(this.state.apps[t.appId],"lastIndexName",e.indexName)},setMethod:function(e,t){s["a"].set(e,"method",t)},setServer:function(e,t){s["a"].set(e,"server",t)},setDisplayMode:function(e,t){s["a"].set(e,"displayMode",t)},setCurrentTab:function(e,t){s["a"].set(e,"currentTab",t)}}}},d={namespaced:!0,modules:{leftPanel:u(null,null),rightPanel:u(null,null)},state:{splitMode:!1,query:"",twoInputs:!1,displayRankingInfo:!1,showSearchableAttributes:!0,showCustomRanking:!0,showAttributesForFaceting:!0,showOnlyMatchingAttributes:!1,comparePanels:!1,manageAppsPanel:!0,expandLeftPanel:!1,analyseMaxNbPoints:100,shareStatePanel:!1,trackedObjects:[]},mutations:{setTrackedObjects:function(e,t){s["a"].set(e,"trackedObjects",t)},setTwoInputs:function(e,t){s["a"].set(e,"twoInputs",t)},replacePanels:function(e,t){Object.keys(t).forEach((function(n){void 0!==e[n]&&s["a"].set(e,n,t[n])}))},setShareStatePanel:function(e,t){s["a"].set(e,"shareStatePanel",t)},setExpandLeftPanel:function(e,t){s["a"].set(e,"expandLeftPanel",t)},setManageAppsPanel:function(e,t){s["a"].set(e,"manageAppsPanel",t)},setAnalyseMaxNbPoints:function(e,t){s["a"].set(e,"analyseMaxNbPoints",t)},setComparePanels:function(e,t){s["a"].set(e,"comparePanels",t)},setDisplayRankingInfo:function(e,t){s["a"].set(e,"displayRankingInfo",t)},setShowSearchableAttributes:function(e,t){s["a"].set(e,"showSearchableAttributes",t)},setShowCustomRanking:function(e,t){s["a"].set(e,"showCustomRanking",t)},setShowAttributesForFaceting:function(e,t){s["a"].set(e,"showAttributesForFaceting",t)},setShowOnlyMatchingAttributes:function(e,t){s["a"].set(e,"showOnlyMatchingAttributes",t)},rightFromLeft:function(e){s["a"].set(e.rightPanel,"appId",e.leftPanel.appId),s["a"].set(e.rightPanel,"indexName",e.leftPanel.indexName),s["a"].set(this.state.apps[e.rightPanel.appId],"lastIndexName",e.rightPanel.indexName)},leftFromRight:function(e){s["a"].set(e.leftPanel,"appId",e.rightPanel.appId),s["a"].set(e.leftPanel,"indexName",e.rightPanel.indexName),s["a"].set(this.state.apps[e.leftPanel.appId],"lastIndexName",e.leftPanel.indexName)},setQuery:function(e,t){s["a"].set(e,"query",t)},setSplitMode:function(e,t){s["a"].set(e,"splitMode",t)},jumpParams:function(e,t){var n=t.configKey,a="rightPanel"===t.panelKey?"leftPanel":"rightPanel",r=e[t.panelKey].appId,i=e[t.panelKey].indexName,o=e[a].appId,c=e[a].indexName,l=this.state.apps[r][i][n];"searchParams2"===n?n="searchParams":"searchParams"===n&&r===o&&i===c&&(n="searchParams2");var u=this.state.apps[o][c];Object.keys(l).forEach((function(e){-1===["replicas"].indexOf(e)&&s["a"].set(u[n],e,JSON.parse(JSON.stringify(l[e])))}))},clearParams:function(e,t){var n=t.configKey,a=e[t.panelKey].appId,r=e[t.panelKey].indexName,i=this.state.apps[a][r];s["a"].set(i,n,{})},jumpParamValue:function(e,t){var n=t.configKey,a="rightPanel"===t.panelKey?"leftPanel":"rightPanel",r=e[t.panelKey].appId,i=e[t.panelKey].indexName,o=e[a].appId,c=e[a].indexName,l=this.state.apps[r][i][n];"searchParams2"===n?n="searchParams":"searchParams"===n&&r===o&&i===c&&(n="searchParams2");var u=this.state.apps[o][c][n];s["a"].set(u,t.inputKey,JSON.parse(JSON.stringify(l[t.inputKey])))}}},p={namespaced:!0,state:{appId:null,indexName:null,server:null,logsType:null},mutations:{setAppId:function(e,t){s["a"].set(e,"appId",t)},setIndexName:function(e,t){s["a"].set(e,"indexName",t)},setServer:function(e,t){s["a"].set(e,"server",t)},setLogsType:function(e,t){s["a"].set(e,"logsType",t)}}},h={namespaced:!0,state:{leftAppId:null,leftIndexName:null,rightAppId:null,rightIndexName:null,currentTab:"settings"},mutations:{setLeftAppId:function(e,t){s["a"].set(e,"leftAppId",t)},setLeftIndexName:function(e,t){s["a"].set(e,"leftIndexName",t)},setRightAppId:function(e,t){s["a"].set(e,"rightAppId",t)},setRightIndexName:function(e,t){s["a"].set(e,"rightIndexName",t)},setCurrentTab:function(e,t){s["a"].set(e,"currentTab",t)}}},f={namespaced:!0,state:{appId:null,indexName:null},mutations:{setAppId:function(e,t){s["a"].set(e,"appId",t)},setIndexName:function(e,t){s["a"].set(e,"indexName",t)}}},g={namespaced:!0,state:{appId:null},mutations:{setAppId:function(e,t){s["a"].set(e,"appId",t)}}},m={namespaced:!0,state:{filtering:"all"},mutations:{setFiltering:function(e,t){s["a"].set(e,"filtering",t)}}},y={namespaced:!0,state:{appId:null,indexName:null,tab:"click"},mutations:{setAppId:function(e,t){s["a"].set(e,"appId",t)},setIndexName:function(e,t){s["a"].set(e,"indexName",t)},setTab:function(e,t){s["a"].set(e,"tab",t)}}},v=(n("e125"),n("ce72")),x=n("c24d");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=new Date;I.setDate(I.getDate()-7);var _=function(e){var t=e.panels,n=(t.leftPanel,t.rightPanel,t.shareStatePanel,t.manageAppsPanel,Object(x["a"])(t,["leftPanel","rightPanel","shareStatePanel","manageAppsPanel"]));return Object.keys(e).reduce((function(t,s){var a;return w({},t,(a={},Object(v["a"])(a,s,e[s]),Object(v["a"])(a,"panels",w({leftPanel:e.panels.leftPanel,rightPanel:e.panels.rightPanel},n)),Object(v["a"])(a,"apps",Object.keys(e.apps).reduce((function(t,n){var s=e.apps[n],a=s.key,r=s.lastIndexName,i=s.userId,o=s.__app_name,c=s.__app_owner,l=Object(x["a"])(s,["key","lastIndexName","userId","__app_name","__app_owner"]);return w({},t,Object(v["a"])({},n,Object.keys(l).reduce((function(t,s){var a=e.apps[n][s],r=(a.indexSettings,a.refIndexSettings,a.advancedIndexSettings,a.keysIndexer,a.indexAnalyzer,a.autoTitleAttributeName,Object(x["a"])(a,["indexSettings","refIndexSettings","advancedIndexSettings","keysIndexer","indexAnalyzer","autoTitleAttributeName"])),i=(new Date).getTime(),o=r.lastUsed||I.getTime(),c=Math.floor((i-o)/1e3/3600/24);return c>=7?t:w({},t,Object(v["a"])({},s,r))}),{key:a,lastIndexName:r,userId:i,__app_name:o,__app_owner:c})))}),{})),a))}),{})};s["a"].use(a["a"]);var O=new a["a"].Store({modules:{apps:l,panels:d,apilogs:p,indexdiffer:h,relevancetesting:m,indexmanager:g,insightsui:y,indexanalyzer:f},plugins:[i({reducer:_})]}),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("internal-app",[n("div",{staticClass:"min-h-screen pb-24"},[n("app-header",{attrs:{"app-name":"Logs"}},[n("display-config",{staticClass:"mx-16 mt-0 ml-auto"})],1),n("app-management"),e.appId?n("div",{staticClass:"max-w-960 mx-auto mt-24"},[n("div",{staticClass:"flex items-center px-16 bg-white rounded border border-proton-grey-opacity-80"},[n("search-icon",{staticClass:"block w-16 h-16 mr-16 text-telluric-blue fill-current"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"flex-1 block h-full py-8 bg-transparent text-telluric-blue leading-normal",attrs:{placeholder:"Search logs below"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}})],1),n("div",{staticClass:"flex mt-8 text-telluric-blue"},[n("span",{staticClass:"mr-8"},[e._v("Search in:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.allFieldsChecked,expression:"allFieldsChecked"}],staticClass:"mr-4",attrs:{type:"checkbox",id:"all",name:"all",checked:""},domProps:{checked:Array.isArray(e.allFieldsChecked)?e._i(e.allFieldsChecked,null)>-1:e.allFieldsChecked},on:{change:function(t){var n=e.allFieldsChecked,s=t.target,a=!!s.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);s.checked?i<0&&(e.allFieldsChecked=n.concat([r])):i>-1&&(e.allFieldsChecked=n.slice(0,i).concat(n.slice(i+1)))}else e.allFieldsChecked=a}}}),n("label",{staticClass:"mr-8",attrs:{for:"all"}},[e._v("all")]),e._l(Object.keys(e.searchFields),(function(t){return n("span",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchFields[t],expression:"searchFields[key]"}],staticClass:"mr-4",attrs:{type:"checkbox",id:t,name:t,disabled:e.allFieldsChecked,checked:""},domProps:{checked:Array.isArray(e.searchFields[t])?e._i(e.searchFields[t],null)>-1:e.searchFields[t]},on:{change:function(n){var s=e.searchFields[t],a=n.target,r=!!a.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);a.checked?o<0&&e.$set(e.searchFields,t,s.concat([i])):o>-1&&e.$set(e.searchFields,t,s.slice(0,o).concat(s.slice(o+1)))}else e.$set(e.searchFields,t,r)}}}),n("label",{staticClass:"mr-8",attrs:{for:t}},[e._v(e._s(t))])])}))],2),n("div",{staticClass:"rounded border border-proton-grey-opacity-60 mt-24"},[n("div",{staticClass:"flex bg-white p-8 pb-12 bg-proton-grey-opacity-40 text-telluric-blue"},[n("app-selector",{staticClass:"mr-16",model:{value:e.appId,callback:function(t){e.appId=t},expression:"appId"}}),n("server-selector",{staticClass:"mr-16",attrs:{"app-id":e.appId,"display-all-option":!0,"display-main-cluster":!0},model:{value:e.server,callback:function(t){e.server=t},expression:"server"}}),n("index-selector",{staticClass:"mr-16",attrs:{"app-id":e.appId,"forced-indices":[{name:"All Indices"}]},model:{value:e.indexName,callback:function(t){e.indexName=t},expression:"indexName"}}),n("custom-select",{staticClass:"text-solstice-blue text-sm border-b border-telluric-blue-opacity-60 pb-4 min-w-140",attrs:{options:Object.keys(e.logsTypes)},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option;return[e._v(e._s(e.logsTypes[n]))]}}],null,!1,424205963),model:{value:e.logsType,callback:function(t){e.logsType=t},expression:"logsType"}}),n("div",{staticClass:"ml-auto flex items-center"},[n("refresh-cw",{staticClass:"w-16 h-16",class:{"infinte-rotate":e.interval}}),n("button",{staticClass:"mx-12 border border-telluric-blue-opacity-60 p-4 rounded",on:{click:function(t){e.interval?e.stopInterval(!0):e.startInterval()}}},[e._v("\n                            "+e._s(e.interval?"Stop Refreshing":"Start Refreshing")+"\n                        ")])],1)],1),n("div",{staticClass:"bg-white text-nova-grey"},[e._l(e.paginatedLogs,(function(t,s){return n("log",{key:t.id,staticClass:"border-t border-b border-proton-grey-opacity-20",attrs:{"log-item":t,"now-date":e.nowDate},on:{onShouldStopFetching:e.onShouldStopFetching,onShouldStartFetching:e.onShouldStartFetching}})})),e.paginatedLogs.length<=0?n("div",{staticClass:"p-8"},[e._v("\n                        No logs found\n                    ")]):e._e(),e.paginatedLogs.length<=0&&e.query.length>0?n("div",{staticClass:"p-8 flex items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.stopIfFound,expression:"stopIfFound"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.stopIfFound)?e._i(e.stopIfFound,null)>-1:e.stopIfFound},on:{change:function(t){var n=e.stopIfFound,s=t.target,a=!!s.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);s.checked?i<0&&(e.stopIfFound=n.concat([r])):i>-1&&(e.stopIfFound=n.slice(0,i).concat(n.slice(i+1)))}else e.stopIfFound=a}}}),n("div",{staticClass:"ml-4"},[e._v("Stop Refreshing when found")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.shouldFoundN,expression:"shouldFoundN",modifiers:{number:!0}}],staticClass:"ml-4 input-custom inline",attrs:{type:"number",min:"1",max:"1000"},domProps:{value:e.shouldFoundN},on:{input:function(t){t.target.composing||(e.shouldFoundN=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("div",{staticClass:"ml-4"},[e._v("hits")])]):e._e(),e.logs.length>0?n("div",{staticClass:"flex justify-center pb-12"},[n("pagination",{attrs:{page:e.page,"nb-pages":Math.ceil(e.logs.length/e.hitsPerPage)},on:{onUpdatePage:function(t){e.page=t}}})],1):e._e()],2)])]):e._e()],1)])},P=[],C=(n("0e30"),n("632c"),n("08b3")),A=(n("e285"),n("0e5a")),S=(n("4f72"),n("0d9c"),n("f49d"),n("df26"),n("c8ff")),j=(n("2989"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-moon-grey text-base font-sans-alt min-h-screen",attrs:{id:"app"}},[n("algolia-proxy",{attrs:{enabled:e.isProduction||!0}},[e._t("default",null,{slot:"loggedIn"}),n("div",{staticClass:"h-screen flex justify-center items-center",attrs:{slot:"loggedOut"},slot:"loggedOut"},[n("div",{staticClass:"flex flex-col justify-center items-center"},[n("loader-icon",{staticClass:"w-48 h-48 infinte-rotate"}),n("div",{staticClass:"mt-20"},[e._v("\n                    Connecting to your Algolia account\n                ")])],1)]),n("div",{attrs:{slot:"unauthorized"},slot:"unauthorized"},[e._v("\n            This an internal algolia app.\n        ")])],2)],1)}),T=[],N={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:["feather feather-loader",i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-loader"},u),...d},r.concat([n("path",{attrs:{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"}})]))}},F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[!e.authorized||e.enabled&&!e.currentUser?e.authorized?e._t("loggedOut"):e._t("unauthorized"):e._t("loggedIn")],2)},M=[],D={name:"AlgoliaProxy",props:["enabled"],data:function(){return{currentUser:null,authorized:!0,paused:!1}},created:function(){var e=this;this.connect(),this.$root.$on("onShouldPauseProxy",(function(){e.paused=!0})),this.$root.$on("onShouldResumeProxy",(function(){e.paused=!0})),window.addEventListener("focus",(function(){e.paused||e.connect()}))},methods:{connect:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:return t="https://tools-backend.algolia.com",e.next=5,fetch("".concat(t,"/user/info?redirect_to=").concat(window.location.href),{credentials:"include",headers:{"Content-Type":"application/json"}});case 5:return n=e.sent,e.next=8,n.json();case 8:if(s=e.sent,s.error&&"not_authorized"===s.error&&(this.authorized=!1),!s.redirect_url){e.next=13;break}return window.location.href=s.redirect_url,e.abrupt("return");case 13:this.currentUser=s;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},L=D,E=n("2be6"),q=Object(E["a"])(L,F,M,!1,null,null,null),$=q.exports,R=!0,K={name:"InternalApp",components:{AlgoliaProxy:$,LoaderIcon:N},data:function(){return{isProduction:R}}},B=K,z=Object(E["a"])(B,j,T,!1,null,null,null),U=z.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex p-8 cursor-pointer",on:{click:e.toggleOpen}},[n("div",{staticClass:"mr-16 text-nova-grey w-68"},[e._v(e._s(e.timeDiff))]),n("div",{staticClass:"flex flex-1 flex-wrap"},[n("div",{staticClass:"w-70p",domProps:{innerHTML:e._s(e.logItem.operation.toStringFunc(e.logItem).replace(/<code>/g,"<span class='bg-proton-grey-opacity-50 px-4 rounded text-sm'>").replace(/<\/code>/g,"</span>"))}}),n("div",{staticClass:"w-30p ml-auto break-all"},[n("div",[n("span",{staticClass:"text-nova-grey-opacity-60"},[e._v(e._s(e.logItem.server))]),e._v("\n                    "+e._s(e.logItem.verb)+" "+e._s(e.logItem.path)+"\n                ")])])]),n("div",{staticClass:"ml-auto"},[n("div",{staticClass:"ml-12 py-2 px-4 rounded text-sm leading-none",class:"200"===e.logItem.answer_code?"text-white bg-jupiter-6":"bg-mars-1 text-white"},[e._v("\n                "+e._s(e.logItem.answer_code)+"\n            ")])])]),e.isOpen?n("div",{staticClass:"p-8"},[n("h3",{staticClass:"my-12"},[e._v("Request")]),n("div",{staticClass:"flex"},[n("div",{staticClass:"w-half pr-48"},[n("h4",{staticClass:"p-8"},[e._v("Info")]),n("table",{staticClass:"w-full"},e._l(e.infoObject,(function(t,s){return n("tr",{staticClass:"border-t border-proton-grey-opacity-50"},[n("td",{staticClass:"p-8 w-160 break-all"},[e._v(e._s(s))]),n("td",{staticClass:"p-8 break-all"},[e._v(e._s(t))])])})),0)]),n("div",{staticClass:"w-half pr-48"},[n("h4",{staticClass:"p-8"},[e._v("Url params")]),n("table",{staticClass:"w-full"},e._l(e.logItem.params.url,(function(t,s){return n("tr",{staticClass:"border-t border-proton-grey-opacity-50"},[n("td",{staticClass:"p-8 w-160 break-all"},[e._v(e._s(s))]),n("td",{staticClass:"p-8 break-all"},[e._v(e._s(decodeURIComponent(t)))])])})),0)])]),n("div",{staticClass:"mt-24"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"w-half pr-48"},[0===e.logItem.params.bodies.length?n("div",[n("h4",{staticClass:"p-8"},[e._v("Body")]),e.logItem.params.rawBody&&0!==e.logItem.params.rawBody.length?e._e():n("div",{staticClass:"border-t border-proton-grey-opacity-50 p-8"},[e._v("\n                            No body\n                        ")])]):e._e(),e._l(e.logItem.params.bodies,(function(t,s){return n("div",[n("h4",{staticClass:"p-8",class:s>0?"mt-24":""},[e._v("\n                            Body "),e.logItem.params.bodies.length>1?n("span",[e._v("(Request "+e._s(s+1)+")")]):e._e()]),n("table",e._l(t,(function(t,s){return n("tr",{staticClass:"border-t border-proton-grey-opacity-50"},[n("td",{staticClass:"p-8 w-160 break-all align-top"},[e._v(e._s(s))]),"params"!==s?n("td",[e._v(e._s(decodeURIComponent(t)))]):e._e(),"params"===s?n("td",[n("table",e._l(t,(function(t,s){return n("tr",{staticClass:"border-t border-proton-grey-opacity-50"},[n("td",{staticClass:"p-8"},[e._v(e._s(s))]),n("td",{staticClass:"p-8 break-all"},[e._v(e._s(decodeURIComponent(t)))])])})),0)]):e._e()])})),0)])})),0===e.logItem.params.bodies.length&&e.logItem.params.rawBody?n("div",{staticClass:"p-8"},[n("pre",[e._v(e._s(e.logItem.params.rawBody))])]):e._e()],2),n("div",{staticClass:"w-half pr-48"},[n("h4",{staticClass:"p-8"},[e._v("Headers")]),n("table",e._l(e.logItem.params.headers,(function(t,s){return n("tr",{staticClass:"border-t border-proton-grey-opacity-50"},[n("td",{staticClass:"p-8 w-160 break-all"},[e._v(e._s(s))]),n("td",{staticClass:"p-8 break-all"},[e._v(e._s(decodeURIComponent(t)))])])})),0)])])]),n("div",{staticClass:"mt-24 mb-24"},[n("h3",[e._v("Response")]),n("div",{staticClass:"p-8"},[n("pre",[e._v(e._s(e.logItem.response.trim()))])])])]):e._e()])},J=[],V={name:"Log",props:["logItem","nowDate"],data:function(){return{isOpen:!1}},computed:{timeDiff:function(){var e=Math.max(0,this.nowDate.getTime()/1e3-new Date(this.logItem.timestamp).getTime()/1e3);return e<60?"".concat(Math.floor(e)," sec ago"):e<3600?"".concat(Math.floor(e/60)," min ago"):e<86400?"".concat(Math.floor(e/60/60),"h ago"):e<2592e3?"".concat(Math.floor(e/60/60/24),"d ago"):"".concat(Math.floor(e/60/60/24/30),"m ago")},infoObject:function(){return{Time:this.logItem.timestamp,IP:this.logItem.ip,"NB operations":this.logItem.nb_operations,"Processing time":this.logItem.processing_time_ms}}},methods:{toggleOpen:function(){this.isOpen=!this.isOpen,this.isOpen?this.$emit("onShouldStopFetching"):this.$emit("onShouldStartFetching")}}},H=V,X=Object(E["a"])(H,G,J,!1,null,null,null),W=X.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex flex-col justify-center w-full bg-white z-10 border-b border-solid border-proton-grey-opacity-80",staticStyle:{height:"94px"}},[n("div",{staticClass:"flex px-16 py-12"},[n("div",{staticClass:"flex w-full"},[n("div",{staticClass:"flex items-center text-telluric-blue mr-16 text-lg"},[n("algolia-logo-experimental",{staticClass:"w-20 h-20 mr-8"}),e._m(0),e.appName?n("chevron-left",{staticClass:"w-12 h-12 rotate-180 mr-4"}):e._e(),e.appName?n("div",{staticClass:"mt-2 font-bold"},[e._v(e._s(e.appName))]):e._e()],1),e._t("default")],2)])])])},Y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-4 mt-2"},[n("a",{attrs:{href:"/apps"}},[e._v("Tools")])])}],Z={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 120"},u),...d},r.concat([n("path",{attrs:{fill:"#ffbb1f",d:"M104.2 0H15.8C7.1 0 0 7 0 15.8v88.4c0 8.7 7.1 15.8 15.8 15.8h88.4c8.7 0 15.8-7.1 15.8-15.8V15.8C120 7.1 112.9 0 104.2 0z"}}),n("path",{attrs:{fill:"#FFF",d:"M30.3 41.9c.1 0 .1 0 0 0 1.3-1.7 2.6-3.3 4.1-4.7 1.5-1.5 3-2.8 4.7-4 .3-.2.4-.7.2-1 0 0 0-.1-.1-.1L37.1 30c-2-2-5.3-2-7.4 0l-2.5 2.5c-2 2-2 5.3 0 7.3l2 2c.4.4.8.4 1.1.1zM50.7 27.6h.2c3.4-1 7-1.5 10.6-1.5 3.4 0 6.9.5 10.2 1.4.4.1.8-.1.8-.5v-4.3c0-2.9-2.3-5.2-5.2-5.2H55.2c-2.9 0-5.2 2.3-5.2 5.2v4.2c-.1.4.3.7.7.7zM61.4 30.3c-18.7 0-33.9 15.2-33.9 33.9s15.2 33.9 33.9 33.9 33.9-15.2 33.9-33.9-15.2-33.9-33.9-33.9zm0 57.8c-13.2-.1-23.9-10.8-23.8-24 0-13.2 10.8-23.9 23.9-23.8 13.2 0 23.9 10.8 23.8 23.9 0 13.2-10.7 23.9-23.9 23.9z"}}),n("path",{attrs:{fill:"#FFF",d:"M62.1 44.5c-.4 0-.7.3-.7.7V63c0 .4.3.7.7.7.1 0 .2 0 .3-.1l15.8-8.2c.4-.2.5-.6.3-1-3.4-5.9-9.6-9.7-16.4-9.9z"}})]))}},ee={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...d},r.concat([n("path",{attrs:{d:"M15 18l-6-6 6-6"}})]))}},te={name:"AppHeader",props:["appName"],components:{AlgoliaLogoExperimental:Z,ChevronLeft:ee}},ne=te,se=Object(E["a"])(ne,Q,Y,!1,null,null,null),ae=se.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("custom-select",{staticClass:"min-w-140 border-b border-telluric-blue-opacity-60 text-solstice-blue pb-4",attrs:{value:e.value,options:e.appIds,refine:e.refine},on:{input:e.onInput},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.option,a=t.inDropDown,r=t.isSelected,i=t.highlightString;return[n("div",[n("div",{staticClass:"flex"},[n("div",{domProps:{innerHTML:e._s(a?i(s):s)}}),a&&e.apps[s].__app_name?n("span",[e._v("\n                    Â - "),n("span",{domProps:{innerHTML:e._s(i(e.apps[s].__app_name))}})]):e._e()]),a&&e.apps[s].__app_owner?n("div",{class:r?"":"text-solstice-blue-opacity-60",domProps:{innerHTML:e._s(i(e.apps[s].__app_owner))}}):e._e()])]}}])},[n("template",{slot:"icon"},[n("box-icon",{staticClass:"block w-12 h-12 -mt-1 mr-8 fill-current"})],1)],2)},ie=[],oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"relative focus:outline-none",attrs:{tabindex:"-1"},on:{keyup:e.onKeyUp,keydown:e.onKeyDown,blur:e.fakeBlur}},[e.dropdownOpened&&e.refine?e._e():n("div",{staticClass:"flex items-center py-4 cursor-pointer text-sm leading-none",on:{click:e.openDropDown}},[e._t("icon"),e._t("default",null,{option:e.value,inDropDown:!1}),n("span",{staticClass:"ml-auto"}),n("chevron-down-icon",{staticClass:"block ml-24 w-8 h-8 fill-current"})],2),e.dropdownOpened&&e.refine?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"px-8 py-4 text-solstice-blue rounded text-base bg-moon-grey w-full",domProps:{value:e.query},on:{keyup:e.onKeyUp,keydown:e.onKeyDown,blur:e.onBlur,input:function(t){t.target.composing||(e.query=t.target.value)}}}):e._e(),e.dropdownOpened?n("div",{staticClass:"shadow absolute z-10 bg-white dropdown mt-4 max-h-312 min-w-full overflow-y-scroll"},e._l(e.options,(function(t,s){return n("div",{staticClass:"flex p-8 cursor-pointer",class:e.selectedIndex===s?"bg-nebula-blue text-white hover:bg-nebula-blue hover:text-white":"",on:{mousedown:function(t){e.allowBlur=!1},mousemove:function(t){e.selectedIndex=s},mouseleave:function(t){e.selectedIndex=-1},click:function(t){e.selectedIndex=s,e.onSelected(t),e.allowBlur=!0}}},[e._t("default",null,{option:t,inDropDown:!0,isSelected:e.selectedIndex===s,highlightString:e.highlightString})],2)})),0):e._e()])])},ce=[],le={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 8",fill:"currentColor"},u),...d},r.concat([n("path",{attrs:{d:"M7 8a1 1 0 01-.71-.29l-6-6A1 1 0 011.71.29L7 5.59l5.29-5.3a1 1 0 111.42 1.42l-6 6A1 1 0 017 8z"}})]))}};n("a7e1"),n("4fb0"),n("ae66");function ue(e,t){if(t.length<=0)return e;for(var n=t.toLowerCase().split(" ").sort((function(e,t){return t.length-e.length})).filter((function(e){return e.trim().length>0})),s="",a=0;a<e.length;a++){for(var r=!1,i=0;i<n.length;i++)if(e.toLowerCase().startsWith(n[i].toLowerCase(),a)){s+="<em>".concat(e.slice(a,a+n[i].length),"</em>"),a+=n[i].length-1,r=!0;break}r||(s+=e[a])}return s}var de={name:"CustomSelect",props:["value","options","displayEmptyQuery","refine","stringValueAttribute","allowFreeText"],components:{ChevronDownIcon:le},data:function(){var e=this.stringValueAttribute&&this.value?this.value[this.stringValueAttribute]:this.value;return{allowBlur:!0,selectedIndex:-1,dropdownOpened:!1,query:e||""}},watch:{query:function(){if(this.refine){this.selectedIndex=-1;var e=this.query===this.stringValue?"":this.query;this.refine(e)}},value:function(){this.refine&&(this.query=this.stringValue)}},computed:{stringValue:function(){return this.stringValueAttribute&&this.value?this.value[this.stringValueAttribute]:this.value||""}},methods:{highlightString:function(e){return ue(e,this.query)},fakeBlur:function(){this.refine||this.onBlur()},onBlur:function(){this.allowBlur&&(this.dropdownOpened=!1,this.selectedIndex=-1)},onKeyDown:function(e){13!==e.which&&38!==e.which&&40!==e.which||e.preventDefault()},onKeyUp:function(e){var t;if(13===e.which||38===e.which||40===e.which)return e.preventDefault(),e.stopImmediatePropagation(),13===e.which&&this.onSelected(e),38===e.which&&(t=this.selectedIndex-1,t<0&&(t=this.options.length-1),this.selectedIndex=t),40===e.which&&(t=this.selectedIndex+1,t>this.options.length-1&&(t=0),this.selectedIndex=t),!1},onSelected:function(e){this.allowBlur=!1,-1!==this.selectedIndex&&this.options.length>0?this.$emit("input",this.options[this.selectedIndex]):this.allowFreeText&&this.query.length>0?this.$emit("input",{name:this.query}):this.$emit("onSelected",this.query,e),this.selectedIndex=0!==this.query.length||this.displayEmptyQuery?0:-1,this.allowBlur=!0,this.dropdownOpened=!1},openDropDown:function(){var e=this;this.dropdownOpened=!0,this.query=this.stringValue,this.refine&&s["a"].nextTick((function(){e.$refs.input.focus(),e.$refs.input.setSelectionRange(0,e.$refs.input.value.length)}))}}},pe=de,he=Object(E["a"])(pe,oe,ce,!1,null,null,null),fe=he.exports,ge={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 23.53"},u),...d},r.concat([n("path",{attrs:{d:"M20.34 4.31l-8-4a3.07 3.07 0 00-2.68 0l-8 4A3 3 0 000 7v9.51a3 3 0 001.65 2.7l8 4a3 3 0 002.69 0l8-4A3 3 0 0022 16.53V7a3 3 0 00-1.66-2.69zM10.56 2.1A1 1 0 0111 2a1 1 0 01.44.1l7.32 3.66L11 9.64 3.24 5.76zm-8 15.32a1 1 0 01-.55-.9V7.37l8 4v9.78zm16.89 0L12 21.14v-9.77l8-4v9.16a1 1 0 01-.56.89z"}})]))}},me=(n("0572"),{methods:{ownedByAlgolia:function(e){var t=this.$store.state.apps[e];return"MySuperApp"===e||e.endsWith(".local")||e.endsWith(".test")||t&&t.__app_owner&&t.__app_owner.length>0&&t.__app_owner.endsWith("@algolia.com")}}}),ye={name:"AppSelector",components:{CustomSelect:fe,BoxIcon:ge},props:["value","onlyAlgolia"],data:function(){return{query:""}},mixins:[me],computed:{apiKey:function(){return this.$store.state.apps[this.appId]?this.$store.state.apps[this.appId].key:""},apps:function(){return this.$store.state.apps},appIds:function(){var e=this,t=Object.keys(this.apps).filter((function(t){return!e.onlyAlgolia||e.ownedByAlgolia(t)}));if(0===this.query.length)return t;var n=this.query.toLowerCase();return t.filter((function(t){return!(!e.apps[t].__app_name||!e.apps[t].__app_name.toLowerCase().includes(n))||(!(!e.apps[t].__app_owner||!e.apps[t].__app_owner.toLowerCase().includes(n))||t.toLowerCase().includes(n))}))}},created:function(){this.value?this.$store.commit("apps/addAppId",{appId:this.value}):this.appIds.length>0&&(this.$emit("input",this.appIds[0]),this.$store.commit("apps/addAppId",{appId:this.appIds[0]}))},methods:{refine:function(e){this.query=e},onInput:function(e){this.query="",this.$emit("input",e),this.$store.commit("apps/addAppId",{appId:e})}}},ve=ye,xe=Object(E["a"])(ve,re,ie,!1,null,null,null),be=xe.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("custom-select",{staticClass:"min-w-140 border-b border-telluric-blue-opacity-60 text-solstice-blue pb-4",attrs:{"string-value-attribute":"name",options:e.indicesWithForced,refine:e.refine,"allow-free-text":e.allowFreeText},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.option,a=t.inDropDown,r=t.isSelected,i=t.highlightString;return[n("div",{domProps:{innerHTML:e._s(a?i(s.name):s.name)}}),a?n("div",{staticClass:"ml-auto"}):e._e(),a&&void 0!==s.entries?n("div",{staticClass:"ml-16",class:r?"text-white":"text-solstice-blue-opacity-50"},[e._v("\n            "+e._s(s.entries)+" records\n        ")]):e._e()]}}]),model:{value:e.indexInfo,callback:function(t){e.indexInfo=t},expression:"indexInfo"}},[n("template",{slot:"icon"},[n("list-icon",{staticClass:"block w-12 h-12 mr-8 -mt-1 fill-current"})],1)],2)},Ie=[],_e=(n("c880"),{functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 14",fill:"currentColor"},u),...d},r.concat([n("path",{attrs:{d:"M19 2H6a1 1 0 010-2h13a1 1 0 010 2zM19 8H6a1 1 0 010-2h13a1 1 0 010 2zM19 14H6a1 1 0 010-2h13a1 1 0 010 2zM1 2H.8a.64.64 0 01-.18-.06.76.76 0 01-.18-.09 1.58 1.58 0 01-.15-.12l-.12-.17a.76.76 0 01-.09-.18A.64.64 0 010 1.2 1.5 1.5 0 010 1 1 1 0 01.08.62 1.15 1.15 0 01.29.29 1 1 0 011.38.08a1 1 0 01.33.21A1.05 1.05 0 012 1a1.5 1.5 0 010 .2.64.64 0 01-.06.18.76.76 0 01-.09.18l-.12.15A1.05 1.05 0 011 2zM1 8H.81a.6.6 0 01-.19-.06.76.76 0 01-.18-.09l-.15-.14A1 1 0 010 7a1 1 0 01.08-.38 1 1 0 01.21-.33l.15-.12a.76.76 0 01.18-.09A.6.6 0 01.81 6a1 1 0 01.9.27 1 1 0 01.21.33A1 1 0 012 7a1.5 1.5 0 010 .2.64.64 0 01-.06.18.76.76 0 01-.09.18l-.12.15A1.05 1.05 0 011 8zM1 14a1 1 0 01-.38-.08 1.15 1.15 0 01-.33-.21 1 1 0 01-.21-1.09 1 1 0 01.21-.33 1 1 0 011.09-.21 1.15 1.15 0 01.33.21 1.15 1.15 0 01.21.33.94.94 0 010 .76 1.15 1.15 0 01-.21.33A1 1 0 011 14z"}})]))}}),Oe=n("9ebc"),ke=n.n(Oe),Pe=n("b137"),Ce=n("f9d9"),Ae=n("1f39");function Se(e){return new Promise((function(t){return setTimeout(t,e)}))}var je={},Te={},Ne=function(e){return Fe.apply(this,arguments)};function Fe(){return Fe=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Te[t]){e.next=5;break}return e.next=3,Se(10);case 3:e.next=0;break;case 5:if(!je[t]){e.next=7;break}return e.abrupt("return",je[t]);case 7:return Te[t]=!0,n="https://tools-backend.algolia.com",e.next=11,fetch("".concat(n,"/signature/").concat(t),{credentials:"include",headers:{"Content-Type":"application/json"}});case 11:return s=e.sent,e.next=14,s.json();case 14:return a=e.sent,r=a.signature?a.signature:"",je[t]=r,Te[t]=!1,e.abrupt("return",r);case 19:case"end":return e.stop()}}),e)}))),Fe.apply(this,arguments)}n("06ef");var Me=n("f10a");function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=function(e){var t=Le({},e);return e["optionalWords=query"]&&e.query&&(t.optionalWords=e.query),delete t["optionalWords=query"],delete t["extraChartsAttributes"],t},qe=function(e,t){return e.map((function(e){var n=Array.isArray(e)?e:[e];return n.filter((function(e){return!e.startsWith(t)}))})).filter((function(e){return e.length>0}))},$e=function(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n},Re=function(e,t){if(void 0===e||null===e)return t;for(var n in e)null!==n&&void 0!==e[n]&&e.hasOwnProperty(n)&&(t+=""===t?"":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?$e(e[n]):e[n]));return t},Ke=function(e,t,n,s){var a=[];return a.push({indexName:e,params:Re(Le({},s,{facets:t}),"")}),n.forEach((function(t){var n=qe(s.facetFilters||[],"".concat(t,":")),r={facetFilters:n,facets:[t],analytics:!1,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],hitsPerPage:1,page:0,explain:void 0};a.push({indexName:e,params:Re(Object.assign({},s,r),"")})})),a},Be=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,s,a,r,i,o,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.disjunctiveFacets,s=Object(x["a"])(t,["disjunctiveFacets"]),a=s.facetFilters||[],r={},n.forEach((function(e){return a.forEach((function(t){r[e]=[];var n=Array.isArray(t)?t:[t];n.forEach((function(t){t.startsWith("".concat(e,":"))&&r[e].push(t.replace("".concat(e,":"),""))}))}))})),i=Object.keys(r).filter((function(e){return r[e].length>0})),o=Ke(this.indexName,n,i,s),c={},void 0!==this.userId()&&(c.headers={"X-Algolia-User-ID":this.userId()}),e.next=10,this.transporter.read({method:"POST",path:"1/indexes/*/queries",data:{requests:o,strategy:"none"}},c);case 10:return l=e.sent,u=l.results[0],u.disjunctiveFacets=JSON.parse(JSON.stringify(u.facets||{})),i.forEach((function(e,t){u.disjunctiveFacets[e]=l.results[t+1].facets[e],r[e].forEach((function(t){u.disjunctiveFacets[e]&&void 0===u.disjunctiveFacets[e][t]&&(u.disjunctiveFacets[e][t]=null)}))})),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),ze=function(e){var t=Ee(e);return t.disjunctiveFacets&&t.disjunctiveFacets.length>0?this.disjunctiveSearch(t):(delete t.disjunctiveFacets,void 0!==this.userId()&&(t.headers={"X-Algolia-User-ID":this.userId()}),this.search(t.query||"",t))},Ue=function(e){var t=Ee(e),n=t.cursor||null;delete t.disjunctiveFacets,delete t.cursor;var s={params:Object(Me["a"])(t)};n&&(s.cursor=n);var a={};return void 0!==this.userId()&&(a.headers={"X-Algolia-User-ID":this.userId()}),this.transporter.read({method:"POST",path:Object(Ae["b"])("/1/indexes/%s/browse",this.indexName),data:s},a)},Ge=function(e){var t=Ee(e),n=t.facetName,s=t.facetQuery,a=Object(x["a"])(t,["facetName","facetQuery"]);return void 0!==this.userId()&&(a.headers={"X-Algolia-User-ID":this.userId()}),this.searchForFacetValues(n,s,a)},Je={customSearch:ze,customBrowse:Ue,disjunctiveSearch:Be,customSearchForFacetValues:Ge,buildFacetFilters:qe};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=function(e){return"MySuperApp"===e||e.endsWith(".local")||e.endsWith(".test")},We={};function Qe(e,t,n){if(Xe(e))return[{url:"localhost-1.algolia.io:8080",accept:3}];if(void 0===n||"dsn"===n||"-dsn"===n)return[{url:e+"-1.algolianet.com",accept:3},{url:e+"-2.algolianet.com",accept:3},{url:e+"-3.algolianet.com",accept:3}];var s=null;switch(n){case"-1":s={url:"".concat(e,"-1.algolianet.com"),accept:3};break;case"-2":s={url:"".concat(e,"-2.algolianet.com"),accept:3};break;case"-3":s={url:"".concat(e,"-3.algolianet.com"),accept:3};break;default:s={url:"".concat(n,"-1.algolia.net"),accept:3}}return[s,s,s]}function Ye(e,t,n,s,a){return Ze.apply(this,arguments)}function Ze(){return Ze=Object(S["a"])(regeneratorRuntime.mark((function e(t,n,s,a,r){var i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i="".concat(t,"-").concat(n,"-").concat(s,"-").concat(a,"-").concat(r),!We[i]){e.next=3;break}return e.abrupt("return",We[i]);case 3:if(o={},Xe(t)||!n||!0===r){e.next=9;break}return e.next=7,Ne(t);case 7:c=e.sent,o["X-Algolia-Signature"]=c;case 9:return l=Object(Ce["a"])(1),u=Object(Pe["a"])(),d=ke()(t,n||" ",{requestsCache:u,responsesCache:u,hostsCache:u,logger:l,hosts:Qe(t,n,s),headers:o}),p=Object(Ae["a"])(d,{customInitIndex:function(e){return function(t){var n=["saveObjects","deleteObject","getObject","getObjects","waitTask","setSettings"],s=e.initIndex(t);return n.forEach((function(e){var t=s[e];s[e]=function(n,s){var a=s||{},r=a.headers||{};void 0!==this.userId()&&(r["X-Algolia-User-ID"]=this.userId()),"setSettings"!==e&&(a.headers=r);var i=t(n,a),o=i.wait;return i.wait=function(){return o({headers:r})},i}})),He({},s,{},Je,{userId:function(){return a||void 0}})}}}),We[i]=p,e.abrupt("return",p);case 15:case"end":return e.stop()}}),e)}))),Ze.apply(this,arguments)}var et={name:"IndexSelector",components:{AppSelector:be,CustomSelect:fe,BoxIcon:ge,ListIcon:_e},props:["appId","value","forcedIndices","allowFreeText"],data:function(){return{allIndices:[],indices:[],indexInfo:{name:this.value},nbPages:1,maxNbPagesInMemory:5}},created:function(){this.registerIndex(),this.updateIndices(!1)},computed:{indicesWithForced:function(){var e=this.forcedIndices?this.forcedIndices:[];return[].concat(Object(C["a"])(e),Object(C["a"])(this.indices))},indexName:{get:function(){return this.indexInfo.name},set:function(e){s["a"].set(this.indexInfo,"name",e)}},adminAPIKey:function(){return this.$store.state.apps[this.appId]?this.$store.state.apps[this.appId].key:null}},watch:{value:function(){this.indexInfo.name=this.value},appId:function(){this.indexName=this.value,this.$emit("input",null),this.updateIndices(!0)},indexName:function(){this.indexInfo.name!==this.value&&this.$emit("input",this.indexInfo.name),this.registerIndex(),this.updateIndices(!1)},adminAPIKey:function(){this.updateIndices(!0)}},methods:{registerIndex:function(){var e=this;this.appId&&this.indexInfo.name&&(this.$store.commit("apps/".concat(this.appId,"/addIndex"),this.indexName),["searchParams","searchParams2"].forEach((function(t){e.$store.commit("apps/".concat(e.appId,"/").concat(e.indexName,"/deleteParam"),{configKey:t,inputKey:"page"})})))},refine:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.appId&&this.adminAPIKey){e.next=2;break}return e.abrupt("return");case 2:if(!(t.length<=0)){e.next=5;break}return this.indices=this.allIndices,e.abrupt("return");case 5:if(!(this.nbPages>this.maxNbPagesInMemory)){e.next=15;break}return e.next=8,Ye(this.appId,this.adminAPIKey);case 8:return n=e.sent,e.next=11,n.listIndices({queryParameters:{page:0,prefix:encodeURIComponent(t)}});case 11:s=e.sent,this.indices=s.items.sort((function(e,t){return e.updatedAt<t.updatedAt?1:e.updatedAt>t.updatedAt?-1:0})),e.next=17;break;case 15:a=t.split(" "),this.indices=this.allIndices.filter((function(e){return a.every((function(t){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}))})).sort((function(e,n){return e.name===t?-1:n.name===t?1:0}));case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),updateIndices:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.appId&&this.adminAPIKey){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ye(this.appId,this.adminAPIKey);case 4:return n=e.sent,e.next=7,n.listIndices({queryParameters:{page:0}});case 7:if(s=e.sent,this.nbPages=s.nbPages,!(this.nbPages>1&&this.nbPages<=this.maxNbPagesInMemory)){e.next=13;break}return e.next=12,n.listIndices();case 12:s=e.sent;case 13:if(this.allIndices=s.items.sort((function(e,t){return e.updatedAt<t.updatedAt?1:e.updatedAt>t.updatedAt?-1:0})),this.indices=this.allIndices,!(this.indices.length<=0)){e.next=17;break}return e.abrupt("return");case 17:(t&&this.indexInfo.name!==this.value||null===this.value)&&(this.indexInfo.name=this.value?this.value:this.$store.state.apps[this.appId].lastIndexName||this.indices[0].name,this.$emit("input",this.indexInfo.name));case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},tt=et,nt=Object(E["a"])(tt,we,Ie,!1,null,null,null),st=nt.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("custom-select",{staticClass:"text-solstice-blue text-sm border-b border-telluric-blue-opacity-60 pb-4",attrs:{value:e.value,options:e.options},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option;return[e._v(e._s(n))]}}])},[n("template",{slot:"icon"},[n("server-icon",{staticClass:"block -mt-1 mr-8 w-12 h-12"})],1)],2)},rt=[],it={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...d},r.concat([n("rect",{attrs:{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}}),n("rect",{attrs:{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}}),n("path",{attrs:{d:"M6 6h0M6 18h0"}})]))}},ot={},ct={},lt=null;function ut(){return dt.apply(this,arguments)}function dt(){return dt=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="https://tools-backend.algolia.com",e.next=3,fetch("".concat(t,"/applications-search-key"),{credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return s=e.sent,e.abrupt("return",s.key);case 8:case"end":return e.stop()}}),e)}))),dt.apply(this,arguments)}var pt=function(e,t){return ht.apply(this,arguments)};function ht(){return ht=Object(S["a"])(regeneratorRuntime.mark((function e(t,n){var s,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!ct[t]){e.next=5;break}return e.next=3,Se(10);case 3:e.next=0;break;case 5:if(!ot[t]){e.next=7;break}return e.abrupt("return",ot[t]);case 7:if(ct[t]=!0,null!==lt){e.next=12;break}return e.next=11,ut();case 11:lt=e.sent;case 12:return s=ke()("X20GSLY1CL",lt),a=s.initIndex("applications_production"),e.next=16,a.search("",{filters:"application_id:".concat(t)});case 16:return r=e.sent,r.hits.length>0&&r.hits[0].clusters_and_replicas_names&&r.hits[0].clusters_and_replicas_names.length>=0?n?ot[t]=r.hits[0].clusters_and_replicas_names:(i=r.hits[0].clusters_and_replicas_names.slice(1),ot[t]=["-dsn"].concat(Object(C["a"])(i))):ot[t]=["-dsn"],ct[t]=!1,e.abrupt("return",ot[t]);case 20:case"end":return e.stop()}}),e)}))),ht.apply(this,arguments)}var ft={name:"ServerSelector",components:{ServerIcon:it,CustomSelect:fe},props:["appId","value","displayMainCluster","displayMainClusterMachines","displayAllOption","displayDsn","displayAllClusters","resetOnChangeAppId"],data:function(){return{options:[]}},created:function(){this.loadClusterList()},watch:{appId:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.resetOnChangeAppId&&this.$emit("input",null),e.next=3,this.loadClusterList();case 3:null===this.value&&this.options.length>0&&this.$emit("input",this.options[0]);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},methods:{loadClusterList:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],this.displayAllOption&&t.push("all"),this.displayMainCluster&&t.push("main cluster"),this.displayDsn&&t.push("-dsn"),this.displayMainClusterMachines&&t.push("-1","-2","-3"),e.next=7,pt(this.appId,!0);case 7:n=e.sent,this.displayAllClusters?this.options=[].concat(t,Object(C["a"])(n)):this.options=[].concat(t,Object(C["a"])(n.slice(1)));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},gt=ft,mt=Object(E["a"])(gt,at,rt,!1,null,null,null),yt=mt.exports,vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$store.state.panels.manageAppsPanel||Object.keys(e.$store.state.apps).length<=0?n("div",{staticClass:"flex"},[n("div",{staticClass:"rounded bg-white m-16 mr-64 border border-solid border-proton-grey-opacity-60"},[n("div",{staticClass:"text-telluric-blue text-xs uppercase tracking-wide flex items-center border-b border-t-0 border-proton-grey bg-white p-8 bg-proton-grey-opacity-80"},[n("div",[e._v("Manage AppIDs")]),n("close-icon",{staticClass:"cursor-pointer ml-auto w-12 h-12",on:{click:function(t){return e.$store.commit("panels/setManageAppsPanel",!1)}}})],1),n("div",[n("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 m-8 p-8"},[e._v("\n                To function this app requires Algolia credentials. You must provide the Admin API Key for every feature to work properly.\n            ")]),n("table",[e._m(0),e._l(e.apps,(function(t,s){return n("tr",[n("td",{staticClass:"p-8"},[e._v(e._s(s))]),n("td",{staticClass:"p-8"},[t.key?n("span",[e._v("\n                            "+e._s(t.key.substring(0,4)+t.key.substring(4).replace(/./g,"*"))+"\n                        ")]):e._e()]),n("td",{staticClass:"p-8"},[e._v(e._s(t.__app_name))]),n("td",{staticClass:"p-8"},[e._v(e._s(t.__app_owner))]),n("td",{staticClass:"p-8"},[n("trash-icon",{staticClass:"w-12 h-12 cursor-pointer",on:{click:function(t){return e.deleteApp(s)}}})],1)])})),n("tr",[n("td",{staticClass:"p-8 pt-32"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newAppId,expression:"newAppId"}],staticClass:"w-full bg-proton-grey-opacity-20 p-4",attrs:{placeholder:"appId"},domProps:{value:e.newAppId},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAppId(t)},input:function(t){t.target.composing||(e.newAppId=t.target.value)}}})]),n("td",{staticClass:"p-8 pt-32"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newApiKey,expression:"newApiKey"}],staticClass:"w-full bg-proton-grey-opacity-20 p-4",attrs:{placeholder:"apiKey"},domProps:{value:e.newApiKey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAppId(t)},input:function(t){t.target.composing||(e.newApiKey=t.target.value)}}})]),n("td",{staticClass:"p-8 pt-32"},[n("button",{on:{click:e.addAppId}},[e._v("Add")])])])],2)])])]):e._e()},xt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"text-left"},[n("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("App ID")]),n("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("API Key")]),n("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("App name")]),n("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("App owner")]),n("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"})])}],bt={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},u),...d},r.concat([n("path",{attrs:{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}})]))}},wt={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...d},r.concat([n("path",{attrs:{d:"M18 6L6 18M6 6l12 12"}})]))}},It={name:"AppManagement",components:{TrashIcon:bt,CloseIcon:wt},data:function(){return{newAppId:"",newApiKey:""}},created:function(){var e=this;this.appIds.length>0&&!this.apps[this.appIds[0]].__app_owner&&this.fetchAppsInfo(),this.$root.$on("onFetchAppsInfo",(function(){return e.fetchAppsInfo()}))},computed:{apps:function(){return this.$store.state.apps},appIds:function(){return Object.keys(this.apps)}},methods:{addAppId:function(){this.newAppId.length>0&&this.newApiKey.length>0&&(this.$store.commit("apps/addAppId",{appId:this.newAppId,apiKey:this.newApiKey}),this.newAppId="",this.newApiKey="",this.fetchAppsInfo())},deleteApp:function(e){this.$store.commit("apps/deleteAppId",e)},fetchAppsInfo:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,s,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object.keys(this.apps),n="https://tools-backend.algolia.com",e.next=4,fetch("".concat(n,"/apps/").concat(t.join(",")),{credentials:"include",headers:{"Content-Type":"application/json"}});case 4:return s=e.sent,e.next=7,s.json();case 7:a=e.sent,a.forEach((function(e){r.$store.commit("apps/addAppId",{appId:e.application_id,apiKey:r.apps[e.application_id].key}),r.$store.commit("apps/".concat(e.application_id,"/setAppName"),e.name),r.$store.commit("apps/".concat(e.application_id,"/setAppOwner"),e.user.email)}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},_t=It,Ot=Object(E["a"])(_t,vt,xt,!1,null,null,null),kt=Ot.exports,Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.cursor?e._e():n("ul",{staticClass:"flex mt-24 mb-12 pl-0"},[e.page>0?n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(e.page-1)}}},[n("chevron-left-icon",{staticClass:"w-12 h-12"})],1):e._e(),e.pages[0]>0?[n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(0)}}},[e._v("1")]),n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer"},[e._v("...")])]:e._e(),e._l(e.pages,(function(t){return n("li",{key:t,staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",class:t===e.page?"border border-telluric-blue-opacity-80":"",on:{click:function(n){return e.setPage(t)}}},[n("span",[e._v(e._s(t+1))])])})),e.pages[e.pages.length-1]<e.nbPages-1?[n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer"},[e._v("...")]),n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(e.nbPages-1)}}},[e._v(e._s(e.nbPages))])]:e._e(),e.page<e.nbPages-1?n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(e.page+1)}}},[n("chevron-left-icon",{staticClass:"w-12 h-12 rotate-180"})],1):e._e()],2),e.cursor?n("ul",{staticClass:"flex mt-24 mb-12 pl-0"},[n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.$emit("onDeleteParam","cursor")}}},[e._v("\n            First page\n        ")]),n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.$emit("onSetParamValue","cursor",e.cursor)}}},[e._v("\n            Next page\n        ")])]):e._e()])},Ct=[];function At(e,t){for(var n=[],s=e;s<t;s++)n.push(s);return n}var St=function(e,t){this.currentPage=e,this.total=t,this.padding=3,this.pages=function(){var e=this.total,t=this.currentPage,n=this.padding;if(0===e)return[0];var s=this.nbPagesDisplayed(n,e);if(s===e)return At(0,e);var a=this.calculatePaddingLeft(t,n,e,s),r=s-a,i=t-a,o=t+r;return At(i,o)},this.nbPagesDisplayed=function(e,t){return Math.min(2*e+1,t)},this.calculatePaddingLeft=function(e,t,n,s){return e<=t?e:e>=n-t?s-(n-e):t},this.isLastPage=function(){return this.currentPage===this.total-1},this.isFirstPage=function(){return 0===this.currentPage}},jt={name:"Pagination",props:["page","nbPages","cursor"],components:{ChevronLeftIcon:ee},computed:{pages:function(){return this.paginator.pages()},paginator:function(){return new St(this.page,this.nbPages)}},methods:{setPage:function(e){this.page>=0&&this.page<this.nbPages&&this.$emit("onUpdatePage",e)}}},Tt=jt,Nt=Object(E["a"])(Tt,Pt,Ct,!1,null,null,null),Ft=Nt.exports,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex text-telluric-blue text-sm"},[n("div",{class:Object.keys(e.$store.state.apps).length>0?"ml-48":"ml-auto"},[e._m(0),n("div",{staticClass:"flex h-48"},[n("div",{staticClass:"h-full flex items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-16"},[n("button",{staticClass:"h-full py-8 px-16",on:{click:function(t){e.manageAppsPanel=!e.manageAppsPanel}}},[n("div",[n("box-icon",{staticClass:"w-auto h-16 fill-current",class:[e.manageAppsPanel?"text-nebula-blue":"text-cosmos-black-opacity-60"]})],1),n("div",{staticClass:"mt-4"},[e._v("\n                            Manage AppIDs\n                        ")])])])])])])])},Dt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-8"},[n("h4",[e._v("Management")])])}],Lt={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 29.94 20"},u),...d},r.concat([n("path",{attrs:{d:"M6.94 1H3a3 3 0 00-3 3v12a3 3 0 003 3h3.94a3 3 0 003-3V4a3 3 0 00-3-3zm1 15a1 1 0 01-1 1H3a1 1 0 01-1-1V4a1 1 0 011-1h3.94a1 1 0 011 1zM26.94 1H23a3 3 0 00-3 3v12a3 3 0 003 3h3.94a3 3 0 003-3V4a3 3 0 00-3-3zm1 15a1 1 0 01-1 1H23a1 1 0 01-1-1V4a1 1 0 011-1h3.94a1 1 0 011 1zM15 2.4a1 1 0 01-1-1V1a1 1 0 012 0v.4a1 1 0 01-1 1zM15 15.86a1 1 0 01-1-1v-.75a1 1 0 012 0v.75a1 1 0 01-1 1zm0-4.49a1 1 0 01-1-1v-.74a1 1 0 012 0v.74a1 1 0 01-1 1zm0-4.48a1 1 0 01-1-1v-.75a1 1 0 112 0v.75a1 1 0 01-1 1zM15 20a1 1 0 01-1-1v-.4a1 1 0 012 0v.4a1 1 0 01-1 1z"}})]))}},Et={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:["feather feather-sliders",i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-sliders"},u),...d},r.concat([n("path",{attrs:{d:"M4 21v-7M4 10V3M12 21v-9M12 8V3M20 21v-5M20 12V3M1 14h6M9 8h6M17 16h6"}})]))}},qt={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},u),...d},r.concat([n("circle",{attrs:{cx:"4",cy:"4",r:"3",fill:"transparent"}}),n("circle",{attrs:{cx:"20",cy:"4",r:"3",fill:"transparent"}}),n("circle",{attrs:{cx:"4",cy:"20",r:"3",fill:"transparent"}}),n("circle",{attrs:{cx:"20",cy:"20",r:"3",fill:"transparent"}}),n("path",{attrs:{d:"M8 4h8M8 20h8"}})]))}},$t={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:["feather feather-eye",i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-eye"},u),...d},r.concat([n("path",{attrs:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}}),n("circle",{attrs:{cx:"12",cy:"12",r:"3"}})]))}},Rt={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:["feather feather-eye-off",i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-eye-off"},u),...d},r.concat([n("path",{attrs:{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24M1 1l22 22"}})]))}},Kt={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...d},r.concat([n("circle",{attrs:{cx:"18",cy:"5",r:"3"}}),n("circle",{attrs:{cx:"6",cy:"12",r:"3"}}),n("circle",{attrs:{cx:"18",cy:"19",r:"3"}}),n("path",{attrs:{d:"M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"}})]))}},Bt={name:"DisplayConfig",components:{SplitIcon:Lt,Slider:Et,CompareIcon:qt,EyeIcon:$t,EyeOffIcon:Rt,BoxIcon:ge,ShareIcon:Kt},computed:{manageAppsPanel:{get:function(){return this.$store.state.panels.manageAppsPanel},set:function(e){this.$store.commit("panels/setManageAppsPanel",e)}}}},zt=Bt,Ut=Object(E["a"])(zt,Mt,Dt,!1,null,null,null),Gt=Ut.exports,Jt={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...d},r.concat([n("path",{attrs:{d:"M23 4v6h-6M1 20v-6h6"}}),n("path",{attrs:{d:"M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"}})]))}},Vt={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:r=[]}=t,{class:i,staticClass:o,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[i,o],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u),...d},r.concat([n("path",{attrs:{d:"M19.71 18.29L16 14.61A9 9 0 1014.61 16l3.68 3.68a1 1 0 001.42 0 1 1 0 000-1.39zM2 9a7 7 0 1112 4.93A7 7 0 012 9z"}})]))}},Ht=n("d45a"),Xt=n.n(Ht),Wt=(n("3658"),n("04f7"),n("87bb")),Qt=n("b52d"),Yt=function(){function e(t,n,s){var a=this;Object(Wt["a"])(this,e),this.verb=t,this.path=n,this.regex=new RegExp(n.replace(/\/\*/g,"/\\*").replace(/(\/:[a-zA-Z]*)/g,"/(.*?)")+"$"),this.toStringFunc=function(e){var t=a.regex.exec(e.path);return t.shift(),s.apply(void 0,[e].concat(Object(C["a"])(t)))}}return Object(Qt["a"])(e,[{key:"match",value:function(e){return e.verb===this.verb&&this.regex.test(e.path)}}]),e}(),Zt=[new Yt("GET","/1/isalive",(function(){return"Is alive"})),new Yt("GET","/1/logs",(function(){return"Get logs"})),new Yt("GET","/1/indexes/:idx/task/:id",(function(e,t,n){return"Get <code>status of task</code> ".concat(n," for index <code>").concat(t,"</code>")})),new Yt("GET","/1/version",(function(){return"Get version of the engine"})),new Yt("GET","/1/recommendation/personalization/strategy",(function(){return"<code>Get perso strategy</code>"})),new Yt("POST","/1/recommendation/personalization/strategy",(function(){return"<code>Set perso strategy</code>"})),new Yt("GET","/1/recommendation/personalization/users/:userID",(function(e,t){return"<code>get perso profile</code> of user <code>".concat(t,"</code>")})),new Yt("PUT","/1/keys/:key",(function(e,t){return"<code>Update API key</code> ".concat(t)})),new Yt("POST","/1/keys/:key/restore",(function(e,t){return"<code>Restore API key</code> ".concat(t)})),new Yt("GET","/1/keys",(function(){return"<code>List API keys</code>"})),new Yt("POST","/1/keys",(function(e){var t=JSON.parse(e.response),n=t.key?" ".concat(t.key):"";return"<code>Add API key</code>".concat(n)})),new Yt("DELETE","/1/keys/:key",(function(e,t){return"<code>Delete API key</code> ".concat(t)})),new Yt("GET","/1/keys/:key",(function(e,t){return"<code>Get API key</code> ".concat(t)})),new Yt("POST","/1/indexes/:idx/keys",(function(e,t){var n=JSON.parse(e.response),s=n.key?" ".concat(n.key):"";return"<code>Add index (".concat(t,") API key</code>").concat(s)})),new Yt("GET","/1/indexes/:idx/keys",(function(e,t){return"<code>List index API keys</code> for index <code>".concat(t,"</code>")})),new Yt("GET","/1/indexes/:idx/keys/:key",(function(e,t,n){return"<code>Get index (".concat(t,") API key</code> ").concat(n)})),new Yt("PUT","/1/indexes/:idx/keys/:key",(function(e,t,n){return"<code>Update index (".concat(t,") API key</code> ").concat(n)})),new Yt("DELETE","/1/indexes/:idx/keys/:key",(function(e,t,n){return"<code>Delete index (".concat(t,") API key</code> ").concat(n)})),new Yt("GET","/1/indexes/*/keys",(function(){return"<code>List index API keys</code> for index *"})),new Yt("GET","/1/security/sources",(function(){return"<code>List allowed sources</code>"})),new Yt("DELETE","/1/security/sources/:source",(function(){return"<code>Delete one allowed source</code>"})),new Yt("PUT","/1/security/sources",(function(){return"<code>Replace the list of allowed sources</code>"})),new Yt("POST","/1/security/sources/append",(function(){return"<code>Add a source to the allowed sources</code>"})),new Yt("POST","/1/clusters/mapping",(function(){return"<code>Assign userID to MCM cluster</code>"})),new Yt("POST","/1/clusters/mapping/search",(function(){return"<code>Search userIDs</code>"})),new Yt("GET","/1/clusters",(function(){return"<code>List MCM clusters</code>"})),new Yt("GET","/1/clusters/mapping/top",(function(){return"<code>Get top userIDs</code>"})),new Yt("GET","/1/clusters/mapping",(function(){return"<code>List userIDs</code>"})),new Yt("DELETE","/1/clusters/mapping",(function(){return"<code>Delete userID</code>"})),new Yt("GET","/1/clusters/mapping/:userID",(function(e,t){return"<code>Get userID</code> <code>".concat(t,"</code>")})),new Yt("GET","/1/indexes/:idx/settings",(function(e,t){return"<code>Get settings</code> for index <code>".concat(t,"</code>")})),new Yt("PUT","/1/indexes/:idx/settings",(function(e,t){return"<code>Set settings</code> for index <code>".concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/operation",(function(e,t){return"<code>Copy/Move index</code> ".concat(t)})),new Yt("GET","/1/indexes",(function(){return"List indices"})),new Yt("DELETE","/1/indexes/:idx/synonyms/:id",(function(e,t,n){return"<code>Delete synonym</code> ".concat(n," for index <code>").concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/synonyms/clear",(function(e,t){return"<code>Clear synonyms</code> for index <code>".concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/synonyms/batch",(function(e,t){return"<code>Batch ".concat(e.nb_operations," synonyms</code> for index <code>").concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/synonyms/search",(function(e,t){return"Search synonyms in index <code>".concat(t,"</code>")})),new Yt("GET","/1/indexes/:idx/synonyms/:id",(function(e,t,n){return"<code>Get synonym</code> ".concat(n," for index <code>").concat(t,"</code>")})),new Yt("PUT","/1/indexes/:idx/synonyms/:id",(function(e,t,n){return"<code>Add/Update synonym</code> ".concat(n," for index <code>").concat(t,"</code>")})),new Yt("DELETE","/1/indexes/:idx/rules/:id",(function(e,t,n){return"<code>Delete rule</code> ".concat(n," for index <code>").concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/rules/batch",(function(e,t){return"<code>Batch ".concat(e.nb_operations," rules</code> for index <code>").concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/rules/clear",(function(e,t){return"<code>Clear rules</code> for index <code>".concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/rules/search",(function(e,t){return"Search rules in index <code>".concat(t,"</code>")})),new Yt("GET","/1/indexes/:idx/rules/:id",(function(e,t,n){return"<code>Get rule</code> ".concat(n," for index <code>").concat(t,"</code>")})),new Yt("PUT","/1/indexes/:idx/rules/:id",(function(e,t,n){return"<code>Add/Update rule</code> ".concat(n," for index <code>").concat(t,"</code>")})),new Yt("POST","/1/indexes/*/objects",(function(){return"Multiple Get objects"})),new Yt("POST","/1/indexes/:idx/clear",(function(e,t){return"<code>Clear objects</code> for index <code>".concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/batch",(function(e,t){return"<code>Batch</code> ".concat(e.nb_operations," objects in index <code>").concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/deleteByQuery",(function(e,t){return"<code>Delete by query</code> for index <code>".concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/:id/partial",(function(e,t,n){return"<code>Partial update object</code> ".concat(n," for index <code>").concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/query",(function(e,t){var n="<code>Search</code> in index <code>".concat(t,'</code> for objects containing <code>"').concat(e.getQueries()[0],'"</code>');return e.queryID&&(n+="<br><br>queryID=<code>".concat(e.queryID,"</code>")),n})),new Yt("POST","/1/indexes/*/queries",(function(e){var t=e.params.bodies.map((function(e){return e.indexName})),n="<code>Search</code> in indices ".concat(t.map((function(e){return"<code>".concat(e,"</code>")})).join(", ")," for objects containing ").concat(e.getQueries().map((function(e){return"<code>".concat(e,"</code>")})).join(", "));return e.queryID&&(n+="<br><br>queryID=<code>".concat(e.queryID,"</code>")),n})),new Yt("POST","/1/indexes/:idx/analyze",(function(e,t){return"<code>Analyse index</code> <code>".concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/browse",(function(e,t){return"Browse records for index <code>".concat(t,"</code>")})),new Yt("GET","/1/indexes/:idx/browse",(function(e,t){return"Browse records for index <code>".concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx/facets/:facet/query",(function(e,t,n){return"<code>Search for facet values</code> <code>".concat(n,"</code> in index <code>").concat(t,"</code>")})),new Yt("GET","/1/indexes/*",(function(){return"Multiple search queries"})),new Yt("DELETE","/1/indexes/:idx/:id",(function(e,t,n){return"<code>Delete object</code> ".concat(n," in index <code>").concat(t,"</code>")})),new Yt("DELETE","/1/indexes/:idx",(function(e,t){return"<code>Delete index</code> <code>".concat(t,"</code>")})),new Yt("GET","/1/indexes/:idx/:id",(function(e,t,n){return"<code>Get object</code> ".concat(n," in index <code>").concat(t,"</code>")})),new Yt("GET","/1/indexes/:idx",(function(e,t){return"Search objects in index <code>".concat(t,"</code>")})),new Yt("PUT","/1/indexes/:idx/:id",(function(e,t,n){return"<code>Update object</code> ".concat(n," in index <code>").concat(t,"</code>")})),new Yt("POST","/1/indexes/:idx",(function(e,t){return"<code>Add/update object</code> in index <code>".concat(t,"</code>")}))],en=function(e){var t;for(t=0;t<Zt.length;t++)if(Zt[t].match(e))return Zt[t];return new Yt(e.verb,e.path,(function(){return"Unknown operation"}))};Date.prototype.addSeconds=function(e){return this.setTime(this.getTime()+1e3*e),this};var tn=function(e,t,n){this.appId=e,this.apiKey=t,this.region="us",this.indexName=n,this.fetchLogs=function(){var s=Object(S["a"])(regeneratorRuntime.mark((function s(a){var r,i,o,c,l,u,d,p=this;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=(new Date).addSeconds(-43200),i=(new Date).addSeconds(3),o="?startDate=".concat(r.toISOString(),"&endDate=").concat(i.toISOString()),c="https://insights.".concat(this.region,".algolia.io/1/events"),s.next=6,fetch("".concat(c).concat(o),{headers:{"Content-Type":"application/json","X-Algolia-Application-Id":this.appId,"X-Algolia-Api-Key":this.apiKey}});case 6:return l=s.sent,s.next=9,l.json();case 9:if(u=s.sent,d=u.events.filter((function(e){return a||e.event.index===p.indexName})).slice(0,1e3).map((function(e){return{server:"",rawLog:e,rawLogString:JSON.stringify(e),id:e.requestID,params:{bodies:e.event?[e.event]:[],rawBody:JSON.stringify(e.event),url:{},headers:{},all:{}},verb:"POST",path:e.path,timestamp:e.receivedAt,date:new Date(e.receivedAt),url:"https://insights.".concat(p.region,".algolia.io/1/events"),ip:"",answer_code:e.status.toString(),nb_operations:1,processing_time_ms:"",response:e.errors.join(" "),operation:new Yt("POST",e.path,(function(){if(!e.event)return"Failing insights event";var t=e.event.eventType;t||(e.path.endsWith("/click")&&(t="click"),e.path.endsWith("/conversion")&&(t="conversion"));var n="Report ";return n+="<code>".concat(t,"</code> "),e.event.eventName&&(n+="<code>".concat(e.event.eventName,"</code> ")),e.event.objectIDs&&(n+="on ".concat(e.event.objectIDs.length," objectIDs ")),e.event.filters&&(n+="on ".concat(e.event.filters.length," filters ")),e.event.userToken&&(n+="<br><br>userToken=<code>".concat(e.event.userToken,"</code> ")),e.event.index&&(n+="index=<code>".concat(e.event.index,"</code> ")),e.event.queryID&&(n+="queryID=<code>".concat(e.event.queryID,"</code> ")),n})),getQueries:function(){return[]}}})),!(d.length<=0)){s.next=15;break}if("us"!==this.region){s.next=15;break}return this.region="de",s.abrupt("return",this.fetchLogs(e,t,n));case 15:return s.abrupt("return",d);case 16:case"end":return s.stop()}}),s,this)})));return function(e){return s.apply(this,arguments)}}()};function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var an=function(e){var t={bodies:[],rawBody:null,url:{},headers:{},all:{}};if(e.query_body&&e.query_body.length>0){var n;try{n=JSON.parse(e.query_body)}catch(i){t.rawBody=e.query_body}if(n){var s=[];n.requests&&(s=n.requests),n.params&&(s=[n]),s.length>0?s.forEach((function(e){var s=sn({},e);if(s.params){var a={};s.params.split("&").forEach((function(e){var n=e.split("=");a[n[0]]=n[1],t.all[n[0]]=n[1]})),s.params=a,t.bodies.push(s)}else t.rawBody=JSON.stringify(n,null,2)})):n&&"object"===Object(r["a"])(n)&&n.constructor===Object&&n.query?(Object.keys(n).forEach((function(e){t.all[e]=n[e]})),t.bodies.push(n)):t.rawBody=JSON.stringify(n,null,2)}}var a=e.url.split("?");return a.length>1&&a[1].split("&").forEach((function(e){var n=e.split("=");t.url[n[0]]=n[1],t.all[n[0]]=n[1]})),e.query_headers.trim().split("\n").map((function(e){var n=e.split(": ");t.headers[n[0]]=n[1],t.all[n[0]]=n[1]})),t},rn=function(e,t){var n=this;this.server=t||"-dsn",this.rawLog=e,this.rawLogString=JSON.stringify(e),this.id=e.sha1,this.params=an(e),this.verb=e.method,this.path=e.url.replace(/([^?]*)\??.*/,"$1"),this.timestamp=e.timestamp,this.date=new Date(e.timestamp),this.url=e.url,this.ip=e.ip,this.answer_code=e.answer_code,this.nb_operations=e.nb_api_calls,this.processing_time_ms=e.processing_time_ms,this.queryID=e.inner_queries&&e.inner_queries.length>0&&e.inner_queries[0].query_id?e.inner_queries[0].query_id:null,this.response=e.answer,this.operation=en(this),this.getQueries=function(){var e=[];return n.params.bodies&&n.params.bodies.length>0?e.push.apply(e,Object(C["a"])(n.params.bodies.map((function(e){return e.params?decodeURIComponent(e.params.query)||"&lt;empty&gt;":e.query||"&lt;empty&gt;"})))):n.params.all.query&&n.params.all.query.length>0?e.push(Xt()(n.params.all.query)):e.push("&lt;empty&gt;"),e}},on=function(e,t){this.appId=e,this.apiKey=t,this.servers=["-1"],this.fetchLogs=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,n){var s,a,r,i,o,c,l,u,d,p=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n&&(this.logs=[]),this.appId){e.next=3;break}return e.abrupt("return");case 3:if(s=[],"all"!==this.server){e.next=22;break}a=[],r=0;case 7:if(!(r<this.servers.length)){e.next=15;break}return e.next=10,Ye(this.appId,this.apiKey,this.servers[r]);case 10:i=e.sent,a.push(i.getLogs({queryParameters:t}));case 12:r++,e.next=7;break;case 15:return e.next=17,Promise.all(a);case 17:o=e.sent,o.forEach((function(e,t){s.push.apply(s,Object(C["a"])(e.logs.map((function(e){return new rn(e,p.servers[t])}))))})),s.sort((function(e,t){return t.timestamp.localeCompare(e.timestamp)})),e.next=31;break;case 22:return c=this.servers.length>0?this.servers[0]:-1,l="main cluster"===this.server?c:this.server,e.next=26,Ye(this.appId,this.apiKey,l);case 26:return u=e.sent,e.next=29,u.getLogs({queryParameters:t});case 29:d=e.sent,s.push.apply(s,Object(C["a"])(d.logs.map((function(e){return new rn(e,l)}))));case 31:return e.abrupt("return",s);case 32:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),this.updateServerList=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pt(this.appId,!0);case 2:this.servers=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),this.updateServerList()},cn={name:"ApiLogs",components:{InternalApp:U,DisplayConfig:Gt,AppHeader:ae,AppSelector:be,Log:W,AppManagement:kt,RefreshCw:Jt,SearchIcon:Vt,IndexSelector:st,ServerSelector:yt,CustomSelect:fe,Pagination:Ft},data:function(){return{query:"",logs:[],mergedLogs:[],logsTypes:{all:"Search API + Insights API","all search":"Search API","all insights":"Insights API",query:"Search API query logs",build:"Search API build logs",error:"Search API error logs"},interval:null,manuallyStop:!1,stopIfFound:!1,shouldFoundN:1,page:0,hitsPerPage:100,nowDate:new Date,fetchIsOn:!0,searchFields:{query:!0,body:!0,response:!0,userAgent:!0,apiKey:!0,url:!0,ip:!0,userToken:!0},servers:["-1"],isStopBecauseOfOpen:!1,requestNumber:0,requestNumberReceived:0}},watch:{logsType:function(e,t){e!==t&&(this.mergedLogs=Object.freeze([]),this.logs=Object.freeze([]),this.fetchLogs(!0))},logs:function(e){this.stopIfFound&&e.length>0&&this.logs.length>=Math.min(1e3,this.shouldFoundN)&&(this.stopInterval(!0),this.stopIfFound=!1)},page:function(){this.page>0&&this.stopInterval()},query:function(){this.logs=this.filterLogs(this.mergedLogs)},searchFields:{deep:!0,handler:function(){this.logs=this.filterLogs(this.mergedLogs)}},allFieldsChecked:function(){this.logs=this.filterLogs(this.mergedLogs)},insightsFetcher:function(){this.mergedLogs=Object.freeze([]),this.logs=Object.freeze([]),this.fetchLogs(!0)}},created:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:!this.appId&&Object.keys(this.$store.state.apps).length>0&&(this.appId=Object.keys(this.$store.state.apps)[0]),this.fetchLogs(),this.startInterval();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:{allIndices:function(){return!this.indexName||"All Indices"===this.indexName},appId:{get:function(){return this.$store.state.apilogs.appId},set:function(e){var t=this;this.fetchIsOn=!1,this.$store.commit("apilogs/setAppId",e),this.$nextTick((function(){t.fetchIsOn=!0,t.indexName="All Indices"}))}},indexName:{get:function(){return this.$store.state.apilogs.indexName||null},set:function(e){this.$store.commit("apilogs/setIndexName",e),this.fetchIsOn&&this.fetchLogs(!0)}},server:{get:function(){return this.$store.state.apilogs.server||"all"},set:function(e){this.$store.commit("apilogs/setServer",e),this.fetchIsOn&&this.fetchLogs(!0)}},logsType:{get:function(){return this.$store.state.apilogs.logsType||"all"},set:function(e){this.$store.commit("apilogs/setLogsType",e),this.fetchIsOn&&this.fetchLogs(!0)}},allFieldsChecked:{get:function(){var e=this;return Object.keys(this.searchFields).every((function(t){return e.searchFields[t]}))},set:function(e){var t=this;e?Object.keys(this.searchFields).forEach((function(e){return t.searchFields[e]=!0})):Object.keys(this.searchFields).forEach((function(e){return t.searchFields[e]=!1}))}},apiKey:function(){return this.$store.state.apps[this.appId].key},searchLogsOption:function(){var e={offset:0,length:1e3,type:this.logsType.startsWith("all")?"all":this.logsType};return this.allIndices||(e.indexName=this.indexName),e},paginatedLogs:function(){return this.logs.slice(this.page*this.hitsPerPage,(this.page+1)*this.hitsPerPage)},insightsFetcher:function(){return new tn(this.appId,this.apiKey,this.indexName)},searchFetcher:function(){return new on(this.appId,this.apiKey)}},methods:{onShouldStopFetching:function(){this.stopInterval(),this.isStopBecauseOfOpen=!0},onShouldStartFetching:function(){this.isStopBecauseOfOpen&&!this.manuallyStop&&this.startInterval()},startInterval:function(){var e=this;this.manuallyStop=!1,this.interval=window.setInterval(Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.nowDate=new Date,e.fetchLogs();case 2:case"end":return t.stop()}}),t)}))),3e3)},stopInterval:function(e){e&&(this.manuallyStop=!0),window.clearInterval(this.interval),this.interval=null},fetchLogs:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t){var n,s,a,r,i,o,c,l,u,d,p,h,f,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="all insights"!==this.logsType?this.searchFetcher.fetchLogs(this.searchLogsOption,t):Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})))(),s=["all","all insights"].includes(this.logsType)?this.insightsFetcher.fetchLogs(this.allIndices):Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})))(),e.next=4,n;case 4:return e.t0=e.sent,e.next=7,s;case 7:return e.t1=e.sent,a=[e.t0,e.t1],r=this.requestNumber++,e.next=12,Promise.all(a);case 12:if(i=e.sent,o=Object(A["a"])(i,2),c=o[0],l=o[1],!(this.requestNumberReceived>r)){e.next=18;break}return e.abrupt("return");case 18:this.requestNumberReceived=r,u=[].concat(Object(C["a"])(c),Object(C["a"])(l)),u.sort((function(e,t){return t.date-e.date})),this.mergedLogs=Object.freeze(u),d=this.filterLogs(u),d.length>0&&(p=d[d.length-1],h=this.logs.findIndex((function(e){return e.id===p.id})),f=1e3*this.servers.length,g=this.logs.slice(),g.splice.apply(g,[0,h+1].concat(Object(C["a"])(d))),g.splice(f),this.logs=Object.freeze(g));case 24:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),filterLogs:function(e){var t=this,n=encodeURIComponent(this.query);if(0===n.length)return e;var s=this.allFieldsChecked;return e.filter((function(e){return s?e.rawLogString.includes(n):!(!t.searchFields.query||!e.getQueries().some((function(e){return e.includes(e)})))||(!!(t.searchFields.body&&e.params.rawBody&&e.params.rawBody.includes(n))||(!!(t.searchFields.response&&e.response&&e.response.includes(n))||(!!(t.searchFields.userAgent&&e.params.all["x-algolia-agent"]&&e.params.all["x-algolia-agent"].includes(n))||(!!(t.searchFields.userAgent&&e.params.all["user-agent"]&&e.params.all["user-agent"].includes(n))||(!!(t.searchFields.userAgent&&e.params.all["X-Algolia-Agent"]&&e.params.all["X-Algolia-Agent"].includes(n))||(!!(t.searchFields.userAgent&&e.params.all["User-Agent"]&&e.params.all["User-Agent"].includes(n))||(!!(t.searchFields.userToken&&e.params.all.userToken&&e.params.all.userToken.includes(n))||(!!(t.searchFields.userToken&&e.params.all["X-Algolia-UserToken"]&&e.params.all["X-Algolia-UserToken"].includes(n))||(!!(t.searchFields.userToken&&e.params.all["x-algolia-usertoken"]&&e.params.all["x-algolia-usertoken"].includes(n))||(!!(t.searchFields.apiKey&&e.params.headers["X-Algolia-Api-Key"]&&e.params.headers["X-Algolia-Api-Key"].includes(n))||(!!(t.searchFields.apiKey&&e.params.all["x-algolia-api-key"]&&e.params.all["x-algolia-api-key"].includes(n))||(!(!t.searchFields.url||!e.url.includes(n))||(!!(t.searchFields.ip&&e.params.headers["X-Forwarded-For"]&&e.params.headers["X-Forwarded-For"].includes(n))||(!!(t.searchFields.ip&&e.params.all["x-forwarded-for"]&&e.params.all["x-forwarded-for"].includes(n))||t.searchFields.ip&&e.ip.includes(n)))))))))))))))}))}}},ln=cn,un=Object(E["a"])(ln,k,P,!1,null,null,null),dn=un.exports;s["a"].config.productionTip=!1,s["a"].config.performance=!0,new s["a"]({render:function(e){return e(dn)},store:O}).$mount("#app")}});
//# sourceMappingURL=app.df765c0f.js.map