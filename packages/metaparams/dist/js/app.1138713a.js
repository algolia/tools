(function(e){function t(t){for(var a,i,o=t[0],l=t[1],c=t[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/metaparams/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"27dd":function(e,t){const n=[{query:{scope:["search"],value_type:"string",default:""},extraChartsAttributes:{scope:["search"],value_type:"attributes_list",default:[]},searchableAttributes:{scope:"settings",value_type:"attributes_list",modifiers:["","unordered"],default:[],settings_default:null},attributesToIndex:{scope:"settings",value_type:"attributes_list",default:[],ignore_value:null},attributesForFaceting:{scope:"settings",value_type:"attributes_list",modifiers:["","searchable","filterOnly"],default:[],settings_default:null},unretrievableAttributes:{scope:"settings",value_type:"attributes_list",default:[],settings_default:null},attributesToRetrieve:{scope:["settings","search"],value_type:"attributes_list",default:[],settings_default:null},attributesToTransliterate:{scope:["settings"],value_type:"attributes_list",default:[],settings_defaut:null,values:["*"]},restrictSearchableAttributes:{scope:["search"],value_type:"attributes_list",default:[]},ranking:{scope:"settings",value_type:"string_list",modifiers:["asc","desc"],values:["typo","geo","words","filters","proximity","attribute","exact","custom"],default:["typo","geo","words","filters","proximity","attribute","exact","custom"],settings_default:["typo","geo","words","filters","proximity","attribute","exact","custom"]},customRanking:{scope:"settings",value_type:"attributes_list",modifiers:["asc","desc"],default:[],settings_default:null},replicas:{scope:"settings",value_type:"string_list",default:[],settings_default:null},filters:{scope:["search"],value_type:"filters",default:""},facetFilters:{scope:["search"],value_type:"string_list",default:[]},optionalFilters:{scope:["search"],value_type:"string_list",default:[]},personalizationFilters:{scope:["search"],value_type:"string_list",default:[]},numericFilters:{scope:["search"],value_type:"string_list",default:[]},numericAttributesToIndex:{scope:"settings",value_type:"attributes_list",default:[],settings_default:null},tagFilters:{scope:["search"],value_type:"string_list",default:[]},sumOrFiltersScores:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},facets:{scope:["settings","search"],value_type:"attributes_list",default:[],values:["*"]},maxValuesPerFacet:{scope:["settings","search"],value_type:"integer",min:0,max:1e3,default:10,settings_default:100},facetingAfterDistinct:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},sortFacetValuesBy:{scope:["settings","search"],value_type:"enum",values:["count","alpha"],default:"count"},attributesToHighlight:{scope:["settings","search"],value_type:"attributes_list",default:[],settings_default:null,values:["*"]},attributesToSnippet:{scope:["settings","search"],value_type:"attributes_list",default:[],settings_default:null,values:["*"]},highlightPreTag:{scope:["settings","search"],value_type:"string",default:"<em>",settings_default:"<em>"},highlightPostTag:{scope:["settings","search"],value_type:"string",default:"</em>",settings_default:"</em>"},snippetEllipsisText:{scope:["settings","search"],value_type:"string",default:"…",settings_default:"…"},restrictHighlightAndSnippetArrays:{scope:["settings","search"],value_type:"boolean",values:[!0,!1],default:!1},page:{scope:["search"],value_type:"integer",min:0,default:0},offset:{scope:["search"],value_type:"integer",min:0,default:0},length:{scope:["search"],value_type:"integer",min:0,default:20},cursor:{scope:["search"],value_type:"string",default:""},hitsPerPage:{scope:["settings","search"],value_type:"integer",min:0,max:1e3,default:20,settings_default:20},paginationLimitedTo:{scope:"settings",value_type:"integer",min:0,default:1e3,settings_default:1e3},minWordSizefor1Typo:{scope:["settings","search"],value_type:"integer",min:1,default:4,settings_default:4},minWordSizefor2Typos:{scope:["settings","search"],value_type:"integer",min:1,default:8,settings_default:8},typoTolerance:{scope:["settings","search"],value_type:"enum",values:[!0,!1,"min","strict"],default:!0,settings_default:null},allowTyposOnNumericTokens:{scope:["settings","search"],value_type:"boolean",values:[!0,!1],default:!0,settings_default:null},disableTypoToleranceOnAttributes:{scope:["settings","search"],value_type:"attributes_list",default:[],settings_default:null},disableTypoToleranceOnWords:{scope:"settings",value_type:"string_list",default:[],settings_default:null},separatorsToIndex:{scope:"settings",value_type:"string",default:"",settings_default:""},aroundLatLng:{scope:["search"],value_type:"string",default:""},aroundLatLngViaIP:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},aroundRadius:{scope:["search"],value_type:"integer",values:["all"],default:1e3},aroundPrecision:{scope:["search"],value_type:"integer",min:1,default:1},minimumAroundRadius:{scope:["search"],value_type:"integer",min:0,default:1e3},insideBoundingBox:{scope:["search"],value_type:"string",default:[]},insidePolygon:{scope:["search"],value_type:"string",default:[]},ignorePlurals:{scope:["settings","search"],value_type:"enum",values:[!0,!1,{name:"af",label:"Afrikaans"},{name:"ar",label:"Arabic"},{name:"az",label:"Azerbaijani"},{name:"bg",label:"Bulgarian"},{name:"ca",label:"Catalan"},{name:"cs",label:"Czech"},{name:"cy",label:"Welsh"},{name:"da",label:"Danish"},{name:"de",label:"German"},{name:"en",label:"English"},{name:"eo",label:"Esperanto"},{name:"es",label:"Spanish"},{name:"et",label:"Estonian"},{name:"eu",label:"Basque"},{name:"fi",label:"Finnish"},{name:"fo",label:"Faroese"},{name:"fr",label:"French"},{name:"gl",label:"Galician"},{name:"he",label:"Hebrew"},{name:"hi",label:"Hindi"},{name:"hu",label:"Hungarian"},{name:"hy",label:"Armenian"},{name:"id",label:"Indonesian"},{name:"is",label:"Icelandic"},{name:"it",label:"Italian"},{name:"ja",label:"Japanese"},{name:"ka",label:"Georgian"},{name:"kk",label:"Kazakh"},{name:"ko",label:"Korean"},{name:"ky",label:"Kirghiz"},{name:"lt",label:"Lithuanian"},{name:"mi",label:"Maori"},{name:"mn",label:"Mongolian"},{name:"mr",label:"Marathi"},{name:"ms",label:"Malay"},{name:"mt",label:"Maltese"},{name:"nb",label:"Norwegian Bokmål"},{name:"nl",label:"Dutch"},{name:"no",label:"Norwegian"},{name:"ns",label:"Northern Sotho"},{name:"pl",label:"Polish"},{name:"ps",label:"Pashto"},{name:"pt",label:"Portuguese"},{name:"qu",label:"Quechua"},{name:"ro",label:"Romanian"},{name:"ru",label:"Russian"},{name:"sk",label:"Slovak"},{name:"sq",label:"Albanian"},{name:"sv",label:"Swedish"},{name:"sw",label:"Swahili"},{name:"ta",label:"Tamil"},{name:"te",label:"Telugu"},{name:"tl",label:"Tagalog"},{name:"tn",label:"Tswana"},{name:"tr",label:"Turkish"},{name:"tt",label:"Tatar"},{name:"uk",label:"Ukrainian"},{name:"ur",label:"Urdu"},{name:"uz",label:"Uzbek"},{name:"zh",label:"Chinese"}],default:!0,settings_default:null},ignoreConjugations:{scope:["settings","search"],value_type:"enum",values:[!0,!1,{name:"af",label:"Afrikaans"},{name:"ar",label:"Arabic"},{name:"az",label:"Azerbaijani"},{name:"bg",label:"Bulgarian"},{name:"ca",label:"Catalan"},{name:"cs",label:"Czech"},{name:"cy",label:"Welsh"},{name:"da",label:"Danish"},{name:"de",label:"German"},{name:"en",label:"English"},{name:"eo",label:"Esperanto"},{name:"es",label:"Spanish"},{name:"et",label:"Estonian"},{name:"eu",label:"Basque"},{name:"fi",label:"Finnish"},{name:"fo",label:"Faroese"},{name:"fr",label:"French"},{name:"gl",label:"Galician"},{name:"he",label:"Hebrew"},{name:"hi",label:"Hindi"},{name:"hu",label:"Hungarian"},{name:"hy",label:"Armenian"},{name:"id",label:"Indonesian"},{name:"is",label:"Icelandic"},{name:"it",label:"Italian"},{name:"ja",label:"Japanese"},{name:"ka",label:"Georgian"},{name:"kk",label:"Kazakh"},{name:"ko",label:"Korean"},{name:"ky",label:"Kirghiz"},{name:"lt",label:"Lithuanian"},{name:"mi",label:"Maori"},{name:"mn",label:"Mongolian"},{name:"mr",label:"Marathi"},{name:"ms",label:"Malay"},{name:"mt",label:"Maltese"},{name:"nb",label:"Norwegian Bokmål"},{name:"nl",label:"Dutch"},{name:"no",label:"Norwegian"},{name:"ns",label:"Northern Sotho"},{name:"pl",label:"Polish"},{name:"ps",label:"Pashto"},{name:"pt",label:"Portuguese"},{name:"qu",label:"Quechua"},{name:"ro",label:"Romanian"},{name:"ru",label:"Russian"},{name:"sk",label:"Slovak"},{name:"sq",label:"Albanian"},{name:"sv",label:"Swedish"},{name:"sw",label:"Swahili"},{name:"ta",label:"Tamil"},{name:"te",label:"Telugu"},{name:"tl",label:"Tagalog"},{name:"tn",label:"Tswana"},{name:"tr",label:"Turkish"},{name:"tt",label:"Tatar"},{name:"uk",label:"Ukrainian"},{name:"ur",label:"Urdu"},{name:"uz",label:"Uzbek"},{name:"zh",label:"Chinese"}],default:!0,settings_default:null},removeStopWords:{scope:["settings","search"],value_type:"enum",values:[!0,!1,{name:"ar",label:"Arabic"},{name:"bg",label:"Bulgarian"},{name:"bn",label:"Bengali"},{name:"ca",label:"Catalan"},{name:"cs",label:"Czech"},{name:"da",label:"Danish"},{name:"de",label:"German"},{name:"el",label:"Greek"},{name:"en",label:"English"},{name:"es",label:"Spanish"},{name:"eu",label:"Basque"},{name:"fa",label:"Persian (Farsi)"},{name:"fi",label:"Finnish"},{name:"fr",label:"French"},{name:"ga",label:"Irish"},{name:"gl",label:"Galician"},{name:"hi",label:"Hindi"},{name:"hu",label:"Hungarian"},{name:"hy",label:"Armenian"},{name:"id",label:"Indonesian"},{name:"it",label:"Italian"},{name:"ja",label:"Japanese"},{name:"ko",label:"Korean"},{name:"ku",label:"Kurdish"},{name:"lt",label:"Lithuanian"},{name:"lv",label:"Latvian"},{name:"mr",label:"Marathi"},{name:"nl",label:"Dutch"},{name:"no",label:"Norwegian"},{name:"pl",label:"Polish"},{name:"pt",label:"Portuguese"},{name:"pt-br",label:"Brazilian"},{name:"ro",label:"Romanian"},{name:"ru",label:"Russian"},{name:"sk",label:"Slovak"},{name:"sv",label:"Swedish"},{name:"th",label:"Thai"},{name:"tr",label:"Turkish"},{name:"uk",label:"Ukranian"},{name:"ur",label:"Urdu"},{name:"zh",label:"Chinese"}],default:!0,settings_default:null},camelCaseAttributes:{scope:"settings",value_type:"attributes_list",default:[]},keepDiacriticsOnCharacters:{scope:"settings",value_type:"string",default:""},indexLanguages:{scope:["settings"],value_type:"enum_list",values:[{name:"ja",label:"Japanese"}],default:["ja"],settings_default:null},queryLanguages:{scope:["settings","search"],value_type:"enum",values:[{name:"af",label:"Afrikaans"},{name:"ar",label:"Arabic"},{name:"az",label:"Azerbaijani"},{name:"bg",label:"Bulgarian"},{name:"bn",label:"Bengali"},{name:"ca",label:"Catalan"},{name:"cs",label:"Czech"},{name:"cy",label:"Welsh"},{name:"da",label:"Danish"},{name:"de",label:"German"},{name:"el",label:"Greek"},{name:"en",label:"English"},{name:"eo",label:"Esperanto"},{name:"es",label:"Spanish"},{name:"et",label:"Estonian"},{name:"eu",label:"Basque"},{name:"fa",label:"Persian (Farsi)"},{name:"fi",label:"Finnish"},{name:"fo",label:"Faroese"},{name:"fr",label:"French"},{name:"ga",label:"Irish"},{name:"gl",label:"Galician"},{name:"he",label:"Hebrew"},{name:"hi",label:"Hindi"},{name:"hu",label:"Hungarian"},{name:"hy",label:"Armenian"},{name:"id",label:"Indonesian"},{name:"is",label:"Icelandic"},{name:"it",label:"Italian"},{name:"ja",label:"Japanese"},{name:"ka",label:"Georgian"},{name:"kk",label:"Kazakh"},{name:"ko",label:"Korean"},{name:"ku",label:"Kurdish"},{name:"ky",label:"Kirghiz"},{name:"lt",label:"Lithuanian"},{name:"lv",label:"Latvian"},{name:"mi",label:"Maori"},{name:"mn",label:"Mongolian"},{name:"mr",label:"Marathi"},{name:"ms",label:"Malay"},{name:"mt",label:"Maltese"},{name:"nb",label:"Norwegian Bokmål"},{name:"nl",label:"Dutch"},{name:"no",label:"Norwegian"},{name:"ns",label:"Northern Sotho"},{name:"pl",label:"Polish"},{name:"ps",label:"Pashto"},{name:"pt",label:"Portuguese"},{name:"pt-br",label:"Brazilian"},{name:"qu",label:"Quechua"},{name:"ro",label:"Romanian"},{name:"ru",label:"Russian"},{name:"sk",label:"Slovak"},{name:"sq",label:"Albanian"},{name:"sv",label:"Swedish"},{name:"sw",label:"Swahili"},{name:"ta",label:"Tamil"},{name:"te",label:"Telugu"},{name:"th",label:"Thai"},{name:"tl",label:"Tagalog"},{name:"tn",label:"Tswana"},{name:"tr",label:"Turkish"},{name:"tt",label:"Tatar"},{name:"uk",label:"Ukranian"},{name:"ur",label:"Urdu"},{name:"uz",label:"Uzbek"},{name:"zh",label:"Chinese"}],default:[],settings_default:null},enableRules:{scope:["settings","search"],value_type:"boolean",values:[!0,!1],default:!0},ruleContexts:{scope:["search"],value_type:"string_list",default:[]},enablePersonalization:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},enableExperimentalBlendPersonalization:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},experimentalDecompoundQuery:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},queryType:{scope:["settings","search"],value_type:"enum",values:["prefixLast","prefixAll","prefixNone"],default:"prefixLast",settings_default:"prefixLast"},removeWordsIfNoResults:{scope:["settings","search"],value_type:"enum",values:["none","lastWords","firstWords","allOptional"],default:"none",settings_default:"none"},advancedSyntax:{scope:["settings","search"],value_type:"boolean",values:[!0,!1],default:!1,settings_default:null},optionalWords:{scope:["settings","search"],value_type:"string_list",default:[],settings_default:null},"optionalWords=query":{scope:["search"],value_type:"boolean",default:!0,values:[!0,!1]},disablePrefixOnAttributes:{scope:"settings",value_type:"attributes_list",default:[]},disableExactOnAttributes:{scope:["settings","search"],value_type:"attributes_list",default:[],settings_default:null},exactOnSingleWordQuery:{scope:["settings","search"],value_type:"enum",values:["attribute","none","word"],default:"attribute",settings_default:"attribute"},alternativesAsExact:{scope:["settings","search"],value_type:"enum_list",values:["ignorePlurals","singleWordSynonym","multiWordsSynonym"],default:[],settings_default:["ignorePlurals","singleWordSynonym"]},numericAttributesForFiltering:{scope:"settings",value_type:"attributes_list",modifiers:["equalOnly"],default:[]},allowCompressionOfIntegerArray:{scope:"settings",value_type:"boolean",values:[!0,!1],default:!1},attributeForDistinct:{scope:"settings",value_type:"attribute",default:"",settings_default:null},distinct:{scope:["settings","search"],value_type:"integer",min:0,max:1e3,default:0,settings_default:null},nbShards:{scope:["settings"],value_type:"integer",min:1,max:8,default:1},getRankingInfo:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},clickAnalytics:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!1},analytics:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},analyticsTags:{scope:["search"],value_type:"string_list",default:[]},synonyms:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},replaceSynonymsInHighlight:{scope:["settings","search"],value_type:"boolean",values:[!0,!1],default:!0,settings_default:null},minProximity:{scope:["settings","search"],value_type:"integer",min:1,max:8,default:1,settings_default:null},maxFacetHits:{scope:["settings","search"],value_type:"integer",min:1,max:100,default:10},percentileComputation:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},userToken:{scope:["search"],value_type:"string",default:""},personalizationImpact:{scope:["search"],value_type:"integer_slider",max:100,min:0,default:100},processingTimeoutMS:{scope:["search"],value_type:"integer",default:50,min:1,max:6e4,admin_only:1},attributeCriteriaComputedByMinProximity:{scope:["search","settings"],value_type:"boolean",values:[!0,!1],default:!1},scanDistinctHitsUntilPaginationLimitedTo:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},enableABTest:{scope:["search"],value_type:"boolean",values:[!0,!1],default:!0},decompoundedAttributes:{scope:["settings"],value_type:"object",object_type:"decompounded_attributes",values:["nl","de","fi"],value:{value_type:"attributes_list"},default:{"":[]},settings_default:null}}];e.exports=n.length<=1?n[0]:n},3113:function(e,t,n){var a={"./af":"f064","./af.js":"f064","./ar":"35c3","./ar-dz":"d68a","./ar-dz.js":"d68a","./ar-kw":"49cd","./ar-kw.js":"49cd","./ar-ly":"1b3b","./ar-ly.js":"1b3b","./ar-ma":"847d","./ar-ma.js":"847d","./ar-sa":"bb68","./ar-sa.js":"bb68","./ar-tn":"e4cc","./ar-tn.js":"e4cc","./ar.js":"35c3","./az":"6555","./az.js":"6555","./be":"9106","./be.js":"9106","./bg":"fa7e","./bg.js":"fa7e","./bm":"4d38","./bm.js":"4d38","./bn":"6881","./bn.js":"6881","./bo":"4166","./bo.js":"4166","./br":"890a","./br.js":"890a","./bs":"10be","./bs.js":"10be","./ca":"bddf","./ca.js":"bddf","./cs":"2bed","./cs.js":"2bed","./cv":"26dd","./cv.js":"26dd","./cy":"b168","./cy.js":"b168","./da":"61c1","./da.js":"61c1","./de":"04a6","./de-at":"3aaf","./de-at.js":"3aaf","./de-ch":"8476","./de-ch.js":"8476","./de.js":"04a6","./dv":"c3c1","./dv.js":"c3c1","./el":"b526","./el.js":"b526","./en-SG":"706c","./en-SG.js":"706c","./en-au":"1e0c","./en-au.js":"1e0c","./en-ca":"6724","./en-ca.js":"6724","./en-gb":"7b16","./en-gb.js":"7b16","./en-ie":"c8ac","./en-ie.js":"c8ac","./en-il":"4c1e","./en-il.js":"4c1e","./en-nz":"883c","./en-nz.js":"883c","./eo":"e1bb","./eo.js":"e1bb","./es":"18d3","./es-do":"47b9","./es-do.js":"47b9","./es-us":"36cb","./es-us.js":"36cb","./es.js":"18d3","./et":"64e8","./et.js":"64e8","./eu":"9050","./eu.js":"9050","./fa":"f028","./fa.js":"f028","./fi":"bdc3","./fi.js":"bdc3","./fo":"f188","./fo.js":"f188","./fr":"63c2","./fr-ca":"b7e6","./fr-ca.js":"b7e6","./fr-ch":"48f5","./fr-ch.js":"48f5","./fr.js":"63c2","./fy":"4f73","./fy.js":"4f73","./ga":"368c","./ga.js":"368c","./gd":"1896","./gd.js":"1896","./gl":"31d0","./gl.js":"31d0","./gom-latn":"e63d","./gom-latn.js":"e63d","./gu":"7d8d","./gu.js":"7d8d","./he":"0020","./he.js":"0020","./hi":"dd6a","./hi.js":"dd6a","./hr":"3a73","./hr.js":"3a73","./hu":"1109","./hu.js":"1109","./hy-am":"30d7","./hy-am.js":"30d7","./id":"d32a","./id.js":"d32a","./is":"4e63","./is.js":"4e63","./it":"c43f","./it-ch":"7e84","./it-ch.js":"7e84","./it.js":"c43f","./ja":"8ce9","./ja.js":"8ce9","./jv":"94eb","./jv.js":"94eb","./ka":"0403","./ka.js":"0403","./kk":"88d8","./kk.js":"88d8","./km":"4d4c","./km.js":"4d4c","./kn":"850c","./kn.js":"850c","./ko":"64d6","./ko.js":"64d6","./ku":"4b44","./ku.js":"4b44","./ky":"24ef","./ky.js":"24ef","./lb":"be7f","./lb.js":"be7f","./lo":"8272","./lo.js":"8272","./lt":"e8f0","./lt.js":"e8f0","./lv":"60a7","./lv.js":"60a7","./me":"7774","./me.js":"7774","./mi":"8539","./mi.js":"8539","./mk":"7df5","./mk.js":"7df5","./ml":"7a32","./ml.js":"7a32","./mn":"448b","./mn.js":"448b","./mr":"08f2","./mr.js":"08f2","./ms":"7791","./ms-my":"b784","./ms-my.js":"b784","./ms.js":"7791","./mt":"d4a5","./mt.js":"d4a5","./my":"2ec3","./my.js":"2ec3","./nb":"87e5","./nb.js":"87e5","./ne":"d894","./ne.js":"d894","./nl":"8ec6","./nl-be":"fa1e","./nl-be.js":"fa1e","./nl.js":"8ec6","./nn":"9a1d","./nn.js":"9a1d","./pa-in":"3ba6","./pa-in.js":"3ba6","./pl":"f017","./pl.js":"f017","./pt":"0c38","./pt-br":"b879","./pt-br.js":"b879","./pt.js":"0c38","./ro":"6da0","./ro.js":"6da0","./ru":"79cb","./ru.js":"79cb","./sd":"7bd2","./sd.js":"7bd2","./se":"0994","./se.js":"0994","./si":"4cee","./si.js":"4cee","./sk":"2be2","./sk.js":"2be2","./sl":"40ae","./sl.js":"40ae","./sq":"bf74","./sq.js":"bf74","./sr":"35dc","./sr-cyrl":"3c6b","./sr-cyrl.js":"3c6b","./sr.js":"35dc","./ss":"d81f","./ss.js":"d81f","./sv":"585e","./sv.js":"585e","./sw":"e15b","./sw.js":"e15b","./ta":"770d","./ta.js":"770d","./te":"e0c0","./te.js":"e0c0","./tet":"fe18","./tet.js":"fe18","./tg":"3e85","./tg.js":"3e85","./th":"398d","./th.js":"398d","./tl-ph":"502f","./tl-ph.js":"502f","./tlh":"7162","./tlh.js":"7162","./tr":"12a6","./tr.js":"12a6","./tzl":"7cdf","./tzl.js":"7cdf","./tzm":"e9c6","./tzm-latn":"a5d0","./tzm-latn.js":"a5d0","./tzm.js":"e9c6","./ug-cn":"27e4","./ug-cn.js":"27e4","./uk":"e8e9","./uk.js":"e8e9","./ur":"40d1","./ur.js":"40d1","./uz":"84bc","./uz-latn":"2aa3","./uz-latn.js":"2aa3","./uz.js":"84bc","./vi":"1272","./vi.js":"1272","./x-pseudo":"5bb7","./x-pseudo.js":"5bb7","./yo":"4038","./yo.js":"4038","./zh-cn":"6e33","./zh-cn.js":"6e33","./zh-hk":"2450","./zh-hk.js":"2450","./zh-tw":"c410","./zh-tw.js":"c410"};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id="3113"},"56d7":function(e,t,n){"use strict";n.r(t);n("dde3"),n("c8a0"),n("3cdf"),n("5c85");var a=n("9869"),s=n("9ce4"),r=n("5552"),i=function(e,t,n){e=e||{},t=e.storage||window&&window.localStorage,n=e.key||"vuex";var a=500,s=null;function i(e,t,n){try{return(n=t.getItem(e))&&"undefined"!==typeof n?JSON.parse(n):void 0}catch(a){}}function o(t,n,r){window.clearTimeout(s),s=window.setTimeout((function(){var a=n;e.reducer&&(a=e.reducer(n)),r.setItem(t,JSON.stringify(a))}),a)}return function(e){var a=i(n,t);if("object"===Object(r["a"])(a)&&null!==a){var s;for(s in e.state)void 0===a[s]&&(a[s]=e.state[s]);e.replaceState(a)}e.subscribe((function(e,a){o(n,a,t)}))}},o=(n("2e73"),n("0c1f"),function(){return{namespaced:!0,state:{searchParams:{},searchParams2:{},indexSettings:{},advancedIndexSettings:{},refIndexSettings:{},imageAttributeName:null,autoTitleAttributeName:null,titleAttribute:"",ignoreImageProxy:!1,imageSize:40,imageBaseUrl:"",imageSuffixUrl:"",lastUsed:(new Date).getTime()},mutations:{replaceIndexData:function(e,t){Object.keys(t).forEach((function(n){void 0!==e[n]&&a["default"].set(e,n,t[n])}))},updateLastUsed:function(e){e.lastUsed=(new Date).getTime()},replaceIndexSettings:function(e,t){var n=t;a["default"].set(e,"indexSettings",{}),Object.keys(n).forEach((function(t){a["default"].set(e.indexSettings,t,{value:n[t],enabled:!0})})),a["default"].set(e,"refIndexSettings",JSON.parse(JSON.stringify(e.indexSettings)))},setImageSize:function(e,t){a["default"].set(e,"imageSize",t)},setIgnoreImageProxy:function(e,t){a["default"].set(e,"ignoreImageProxy",t)},setAutoTitleAttributeName:function(e,t){a["default"].set(e,"autoTitleAttributeName",t)},setTitleAttribute:function(e,t){a["default"].set(e,"titleAttribute",t)},resetIndexSettings:function(e){a["default"].set(e,"indexSettings",JSON.parse(JSON.stringify(e.refIndexSettings)))},setImageAttributeName:function(e,t){a["default"].set(e,"imageAttributeName",t)},setImageBaseUrl:function(e,t){a["default"].set(e,"imageBaseUrl",t)},setImageSuffixUrl:function(e,t){a["default"].set(e,"imageSuffixUrl",t)},restoreIndexSetting:function(e,t){var n=t.inputKey;a["default"].set(e.indexSettings,n,JSON.parse(JSON.stringify(e.refIndexSettings[n])))},setAdvancedIndexSettings:function(e,t){a["default"].set(e,"advancedIndexSettings",t)},setParamValue:function(e,t){var n=t.configKey||this.state.edit.configKey;a["default"].set(e[n],t.key,{value:t.value,enabled:!0})},setParamEnabled:function(e,t){a["default"].set(e[t.configKey][t.inputKey],"enabled",t.value)},deleteParam:function(e,t){a["default"].delete(e[t.configKey],t.inputKey)},deleteArrayElement:function(e,t){a["default"].delete(e[t.configKey][t.inputKey].value,t.positionKey)},setKeysIndexer:function(e,t){a["default"].set(e,"keysIndexer",t)},setIndexAnalyzer:function(e,t){a["default"].set(e,"indexAnalyzer",t)}}}}),l=function(e,t,n){return{namespaced:!0,state:{key:t,lastIndexName:n,userId:null,__app_name:"",__app_owner:""},mutations:{setLastIndexName:function(e,t){a["default"].set(e,n,t)},setAppName:function(e,t){a["default"].set(e,"__app_name",t)},setAppOwner:function(e,t){a["default"].set(e,"__app_owner",t)},setUserId:function(e,t){a["default"].set(e,"userId",t)},addIndex:function(t,n){var a=n,s=["apps",e,a],r=this._modules.get(s);void 0===r&&(t[a]?this.registerModule(["apps",e,a],o(),{preserveState:!0}):this.registerModule(["apps",e,a],o()),r=this._modules.get(s)),r.context.commit("updateLastUsed")}}}},c={namespaced:!0,modules:{},mutations:{addAppId:function(e,t){var n=t.appId,s=["apps",n],r=this._modules.get(s),i=t.apiKey||null;void 0!==r&&e[n]?t.apiKey&&a["default"].set(e[n],"key",i):(e[n]?this.registerModule(["apps",n],l(n,i),{preserveState:!0}):this.registerModule(["apps",n],l(n,i,null)),null===this.state.panels.leftPanel.appId&&a["default"].set(this.state.panels.leftPanel,"appId",n),null===this.state.panels.rightPanel.appId&&a["default"].set(this.state.panels.rightPanel,"appId",n))},deleteAppId:function(e,t){var n=t,s=["apps",n],r=this._modules.get(s);r&&this.unregisterModule(s),a["default"].delete(e,n);var i=null,o=Object.keys(e);o.length>0&&(i=o[0]),this.state.panels.leftPanel.appId===n&&a["default"].set(this.state.panels.leftPanel,"appId",i),this.state.panels.rightPanel.appId===n&&a["default"].set(this.state.panels.rightPanel,"appId",i)}}},u=function(e,t){return{namespaced:!0,state:{appId:e,indexName:t,server:"-dsn",displayMode:"list",currentTab:"hits",method:"search"},mutations:{setPanelConfig:function(e,t){a["default"].set(e,"appId",t.appId),a["default"].set(e,"indexName",t.indexName),a["default"].set(e,"server","-dsn"),e.indexName&&a["default"].set(this.state.apps[t.appId],"lastIndexName",e.indexName)},setMethod:function(e,t){a["default"].set(e,"method",t)},setServer:function(e,t){a["default"].set(e,"server",t)},setDisplayMode:function(e,t){a["default"].set(e,"displayMode",t)},setCurrentTab:function(e,t){a["default"].set(e,"currentTab",t)}}}},p={namespaced:!0,modules:{leftPanel:u(null,null),rightPanel:u(null,null)},state:{splitMode:!1,query:"",twoInputs:!1,displayRankingInfo:!1,showSearchableAttributes:!0,showCustomRanking:!0,showAttributesForFaceting:!0,showOnlyMatchingAttributes:!1,comparePanels:!1,manageAppsPanel:!0,expandLeftPanel:!1,analyseMaxNbPoints:100,shareStatePanel:!1,trackedObjects:[]},mutations:{setTrackedObjects:function(e,t){a["default"].set(e,"trackedObjects",t)},setTwoInputs:function(e,t){a["default"].set(e,"twoInputs",t)},replacePanels:function(e,t){Object.keys(t).forEach((function(n){void 0!==e[n]&&a["default"].set(e,n,t[n])}))},setShareStatePanel:function(e,t){a["default"].set(e,"shareStatePanel",t)},setExpandLeftPanel:function(e,t){a["default"].set(e,"expandLeftPanel",t)},setManageAppsPanel:function(e,t){a["default"].set(e,"manageAppsPanel",t)},setAnalyseMaxNbPoints:function(e,t){a["default"].set(e,"analyseMaxNbPoints",t)},setComparePanels:function(e,t){a["default"].set(e,"comparePanels",t)},setDisplayRankingInfo:function(e,t){a["default"].set(e,"displayRankingInfo",t)},setShowSearchableAttributes:function(e,t){a["default"].set(e,"showSearchableAttributes",t)},setShowCustomRanking:function(e,t){a["default"].set(e,"showCustomRanking",t)},setShowAttributesForFaceting:function(e,t){a["default"].set(e,"showAttributesForFaceting",t)},setShowOnlyMatchingAttributes:function(e,t){a["default"].set(e,"showOnlyMatchingAttributes",t)},rightFromLeft:function(e){a["default"].set(e.rightPanel,"appId",e.leftPanel.appId),a["default"].set(e.rightPanel,"indexName",e.leftPanel.indexName),a["default"].set(this.state.apps[e.rightPanel.appId],"lastIndexName",e.rightPanel.indexName)},leftFromRight:function(e){a["default"].set(e.leftPanel,"appId",e.rightPanel.appId),a["default"].set(e.leftPanel,"indexName",e.rightPanel.indexName),a["default"].set(this.state.apps[e.leftPanel.appId],"lastIndexName",e.leftPanel.indexName)},setQuery:function(e,t){a["default"].set(e,"query",t)},setSplitMode:function(e,t){a["default"].set(e,"splitMode",t)},jumpParams:function(e,t){var n=t.configKey,s="rightPanel"===t.panelKey?"leftPanel":"rightPanel",r=e[t.panelKey].appId,i=e[t.panelKey].indexName,o=e[s].appId,l=e[s].indexName,c=this.state.apps[r][i][n];"searchParams2"===n?n="searchParams":"searchParams"===n&&r===o&&i===l&&(n="searchParams2");var u=this.state.apps[o][l];Object.keys(c).forEach((function(e){-1===["replicas"].indexOf(e)&&a["default"].set(u[n],e,JSON.parse(JSON.stringify(c[e])))}))},clearParams:function(e,t){var n=t.configKey,s=e[t.panelKey].appId,r=e[t.panelKey].indexName,i=this.state.apps[s][r];a["default"].set(i,n,{})},jumpParamValue:function(e,t){var n=t.configKey,s="rightPanel"===t.panelKey?"leftPanel":"rightPanel",r=e[t.panelKey].appId,i=e[t.panelKey].indexName,o=e[s].appId,l=e[s].indexName,c=this.state.apps[r][i][n];"searchParams2"===n?n="searchParams":"searchParams"===n&&r===o&&i===l&&(n="searchParams2");var u=this.state.apps[o][l][n];a["default"].set(u,t.inputKey,JSON.parse(JSON.stringify(c[t.inputKey])))}}},d={namespaced:!0,state:{appId:null,indexName:null,server:null,logsType:null},mutations:{setAppId:function(e,t){a["default"].set(e,"appId",t)},setIndexName:function(e,t){a["default"].set(e,"indexName",t)},setServer:function(e,t){a["default"].set(e,"server",t)},setLogsType:function(e,t){a["default"].set(e,"logsType",t)}}},h={namespaced:!0,state:{leftAppId:null,leftIndexName:null,rightAppId:null,rightIndexName:null,currentTab:"settings"},mutations:{setLeftAppId:function(e,t){a["default"].set(e,"leftAppId",t)},setLeftIndexName:function(e,t){a["default"].set(e,"leftIndexName",t)},setRightAppId:function(e,t){a["default"].set(e,"rightAppId",t)},setRightIndexName:function(e,t){a["default"].set(e,"rightIndexName",t)},setCurrentTab:function(e,t){a["default"].set(e,"currentTab",t)}}},m={namespaced:!0,state:{appId:null,indexName:null},mutations:{setAppId:function(e,t){a["default"].set(e,"appId",t)},setIndexName:function(e,t){a["default"].set(e,"indexName",t)}}},f={namespaced:!0,state:{appId:null},mutations:{setAppId:function(e,t){a["default"].set(e,"appId",t)}}},y={namespaced:!0,state:{filtering:"all"},mutations:{setFiltering:function(e,t){a["default"].set(e,"filtering",t)}}},g={namespaced:!0,state:{appId:null,indexName:null,tab:"click"},mutations:{setAppId:function(e,t){a["default"].set(e,"appId",t)},setIndexName:function(e,t){a["default"].set(e,"indexName",t)},setTab:function(e,t){a["default"].set(e,"tab",t)}}},v=(n("e125"),n("ce72")),b=n("c24d");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=new Date;w.setDate(w.getDate()-7);var k=function(e){var t=e.panels,n=(t.leftPanel,t.rightPanel,t.shareStatePanel,t.manageAppsPanel,Object(b["a"])(t,["leftPanel","rightPanel","shareStatePanel","manageAppsPanel"]));return Object.keys(e).reduce((function(t,a){var s;return _({},t,(s={},Object(v["a"])(s,a,e[a]),Object(v["a"])(s,"panels",_({leftPanel:e.panels.leftPanel,rightPanel:e.panels.rightPanel},n)),Object(v["a"])(s,"apps",Object.keys(e.apps).reduce((function(t,n){var a=e.apps[n],s=a.key,r=a.lastIndexName,i=a.userId,o=a.__app_name,l=a.__app_owner,c=Object(b["a"])(a,["key","lastIndexName","userId","__app_name","__app_owner"]);return _({},t,Object(v["a"])({},n,Object.keys(c).reduce((function(t,a){var s=e.apps[n][a],r=(s.indexSettings,s.refIndexSettings,s.advancedIndexSettings,s.keysIndexer,s.indexAnalyzer,s.autoTitleAttributeName,Object(b["a"])(s,["indexSettings","refIndexSettings","advancedIndexSettings","keysIndexer","indexAnalyzer","autoTitleAttributeName"])),i=(new Date).getTime(),o=r.lastUsed||w.getTime(),l=Math.floor((i-o)/1e3/3600/24);return l>=7?t:_({},t,Object(v["a"])({},a,r))}),{key:s,lastIndexName:r,userId:i,__app_name:o,__app_owner:l})))}),{})),s))}),{})};a["default"].use(s["a"]);var I=new s["a"].Store({modules:{apps:c,panels:p,apilogs:d,indexdiffer:h,relevancetesting:y,indexmanager:f,insightsui:g,indexanalyzer:m},plugins:[i({reducer:k})]}),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("internal-app",[n("div",{staticClass:"overflow-hidden flex flex-col"},[n("app-header",{attrs:{"app-name":"Metaparams"}},[n("display-config",{staticClass:"mx-16 mt-0"})],1),!e.loadingSharingLink&&e.$store.state.panels.shareStatePanel?n("share-view",{on:{onShouldClose:function(t){return e.$store.commit("panels/setShareStatePanel",!1)}}}):e._e(),n("app-management"),e.loadingSharingLink?e._e():n("div",{staticClass:"w-full"},[e.$store.state.panels.splitMode&&!e.$store.state.panels.twoInputs&&Object.keys(e.$store.state.apps).length>0?n("search-box",{staticClass:"mt-16 mx-16 lg:mx-auto xl:mx-auto lg:max-w-half xl:max-w-half",attrs:{"panel-key":"leftPanel"}}):e._e()],1),!e.loadingSharingLink&&Object.keys(e.$store.state.apps).length?n("div",{staticClass:"w-full flex flex-1 items-start"},[n("div",{staticClass:"min-w-0 flex-1"},[n("dashboard",{attrs:{"panel-key":"leftPanel"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.panels.comparePanels,expression:"$store.state.panels.comparePanels"}],staticClass:"min-w-240 max-w-240 flex-1"},[n("compare-hits",{staticClass:"m-8 mr-8",attrs:{enabled:e.$store.state.panels.comparePanels},on:{onGoToHit:e.onGoToHit}})],1),e.$store.state.panels.splitMode||!e.$store.state.panels.expandLeftPanel?n("div",{class:e.$store.state.panels.splitMode?"min-w-0 flex-1":"min-w-0"},[e.$store.state.panels.splitMode?n("dashboard",{attrs:{"panel-key":"rightPanel"}}):n("div",{staticClass:"flex justify-center h-full text-solstice-blue-opacity-60"},[n("div",{staticClass:"max-w-300 mx-48 px-auto mt-156 leading-normal"},[n("div",[n("p",[e._v("\n                                Click on Split Mode\n                                "),n("split-icon",{staticClass:"w-auto h-16 fill-current"}),e._v("\n                                to open a second explorer.\n                            ")],1),n("p",[e._v("In split mode:")]),n("ul",[n("li",{staticClass:"ml-8"},[e._v("- if you have the same index on both explorer you are able to compare search params effect")]),n("li",{staticClass:"ml-8"},[e._v("- if you have two differents indices you are able to compare the impact of change to search params and index settings")])])]),n("div",{staticClass:"mt-32"},[e._v("\n                            Click on Compare Hits\n                            "),n("compare-icon",{staticClass:"w-auto h-16 fill-current"}),e._v("\n                            to visualize the diff between the two explorers. It is also useful to track specific objectIDs over several queries.\n                        ")],1),n("div",{staticClass:"mt-32"},[n("p",[e._v("\n                                The ranking of a query can be visualized globally by switching the Charts\n                                "),n("bar-chart-icon",{staticClass:"w-auto h-16 stroke-current mr-4"}),e._v(" view.\n                            ")],1),n("p",[e._v("This is useful for:")]),n("ul",[n("li",{staticClass:"ml-8"},[e._v("- identify weird pattern on any of the ranking criteria")]),n("li",{staticClass:"ml-8"},[e._v("- checking where the ties are broken")]),n("li",{staticClass:"ml-8"},[e._v("- ensure that the custom ranking is well defined")]),n("li",{staticClass:"ml-8"},[e._v("- and things we didn't imagine yet")])])])])])],1):e._e()]):e._e()],1)])},A=[],P=(n("df26"),n("c8ff")),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-moon-grey text-base font-sans-alt min-h-screen",attrs:{id:"app"}},[n("algolia-proxy",{attrs:{enabled:e.isProduction||!0}},[e._t("default",null,{slot:"loggedIn"}),n("div",{staticClass:"h-screen flex justify-center items-center",attrs:{slot:"loggedOut"},slot:"loggedOut"},[n("div",{staticClass:"flex flex-col justify-center items-center"},[n("loader-icon",{staticClass:"w-48 h-48 infinte-rotate"}),n("div",{staticClass:"mt-20"},[e._v("\n                    Connecting to your Algolia account\n                ")])],1)]),n("div",{attrs:{slot:"unauthorized"},slot:"unauthorized"},[e._v("\n            This an internal algolia app.\n        ")])],2)],1)},O=[],j={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:["feather feather-loader",i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-loader"},u),...p},r.concat([n("path",{attrs:{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"}})]))}},R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[!e.authorized||e.enabled&&!e.currentUser?e.authorized?e._t("loggedOut"):e._t("unauthorized"):e._t("loggedIn")],2)},N=[],$={name:"AlgoliaProxy",props:["enabled"],data:function(){return{currentUser:null,authorized:!0,paused:!1}},created:function(){var e=this;this.connect(),this.$root.$on("onShouldPauseProxy",(function(){e.paused=!0})),this.$root.$on("onShouldResumeProxy",(function(){e.paused=!0})),window.addEventListener("focus",(function(){e.paused||e.connect()}))},methods:{connect:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:return t=Object({NODE_ENV:"production",BASE_URL:"/metaparams/"}).VUE_APP_METAPARAMS_BACKEND_ENDPOINT||"https://tools-backend.algolia.com",e.next=5,fetch("".concat(t,"/user/info?redirect_to=").concat(window.location.href),{credentials:"include",headers:{"Content-Type":"application/json"}});case 5:return n=e.sent,e.next=8,n.json();case 8:if(a=e.sent,a.error&&"not_authorized"===a.error&&(this.authorized=!1),!a.redirect_url){e.next=13;break}return window.location.href=a.redirect_url,e.abrupt("return");case 13:this.currentUser=a;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},T=$,D=n("2be6"),K=Object(D["a"])(T,R,N,!1,null,null,null),E=K.exports,M=!0,F={name:"InternalApp",components:{AlgoliaProxy:E,LoaderIcon:j},data:function(){return{isProduction:M}}},z=F,q=Object(D["a"])(z,S,O,!1,null,null,null),H=q.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-16",class:"leftPanel"===e.panelKey?"mr-8":"ml-8"},[!e.$store.state.panels.splitMode||e.$store.state.panels.twoInputs?n("search-box",{attrs:{"panel-key":e.panelKey}}):e._e(),n("div",{staticClass:"mt-16 rounded bg-white border border-solid border-proton-grey-opacity-60"},[n("div",{staticClass:"px-8 py-8 pb-12 border-b border-nova-grey-opacity-20",class:{"bg-proton-grey-opacity-80":e.ownedByAlgolia(e.appId),"bg-saturn-5":!e.ownedByAlgolia(e.appId)&&!e.forceWrite,"bg-mars-1-opacity-50":!e.ownedByAlgolia(e.appId)&&e.forceWrite}},[n("div",{staticClass:"flex flex-wrap justify-start items-center"},[n("app-selector",{staticClass:"mb-12",model:{value:e.appId,callback:function(t){e.appId=t},expression:"appId"}}),n("index-selector",{staticClass:"ml-12 mb-12",attrs:{"app-id":e.appId},model:{value:e.indexName,callback:function(t){e.indexName=t},expression:"indexName"}}),n("user-selector",{staticClass:"ml-12 mb-12",attrs:{"app-id":e.appId},model:{value:e.panelUserId,callback:function(t){e.panelUserId=t},expression:"panelUserId"}}),e.canWrite?n("index-new",{staticClass:"mb-12 pb-4",attrs:{"app-id":e.panelAppId,"api-key":e.panelAdminAPIKey},on:{onIndexCreated:e.onIndexCreated}}):e._e(),e.canWrite&&!e.isReplica?n("index-delete",{staticClass:"mb-12 pb-4",attrs:{"panel-key":e.panelKey,"user-id":e.panelUserId}}):e._e(),e.$store.state.panels.splitMode&&!e.sameIndexOnEachPanel&&"leftPanel"===e.panelKey?n("button",{staticClass:"block ml-8 mb-12 pb-4 relative group",on:{click:function(t){return e.$store.commit("panels/rightFromLeft")}}},[n("flip-right-icon",{staticClass:"block w-16 h-16 text-solstice-blue fill-current"}),n("tooltip",[e._v("Open this index in the right panel")])],1):e._e(),e.$store.state.panels.splitMode&&!e.sameIndexOnEachPanel&&"rightPanel"===e.panelKey?n("button",{staticClass:"block ml-8 mb-12 pb-4 relative group",on:{click:function(t){return e.$store.commit("panels/leftFromRight")}}},[n("flip-left-icon",{staticClass:"block w-16 h-16 text-solstice-blue fill-current"}),n("tooltip",[e._v("Open this index in the left panel")])],1):e._e(),n("server-selector",{staticClass:"mb-12 ml-auto",attrs:{appId:e.appId,"display-main-cluster":!1,"display-dsn":!0,"display-main-cluster-machines":!0},model:{value:e.panelServer,callback:function(t){e.panelServer=t},expression:"panelServer"}}),e.$store.state.panels.splitMode||"leftPanel"!==e.panelKey?e._e():n("button",{staticClass:"mb-12 block px-8 ml-8 py-4 border border-telluric-blue-opacity-60 rounded relative group",on:{click:function(t){return e.$store.commit("panels/setExpandLeftPanel",!e.$store.state.panels.expandLeftPanel)}}},[e.$store.state.panels.expandLeftPanel?e._e():n("maximize-icon",{staticClass:"block w-16 h-16 text-cosmos-black-opacity-70 fill-current"}),e.$store.state.panels.expandLeftPanel?n("minimize-icon",{staticClass:"block w-16 h-16 text-cosmos-black-opacity-70 fill-current"}):e._e(),n("tooltip",[e._v(e._s(e.$store.state.panels.expandLeftPanel?"Shrink the panel":"Expand the panel"))])],1)],1),n("div",{staticClass:"flex flex-wrap"},[e.ownedByAlgolia(e.appId)?e._e():n("div",{staticClass:"text-sm text-solstice-blue-opacity-80 mr-24"},[e._v("\n                    Read-Only "),n("input",{attrs:{type:"checkbox"},domProps:{checked:!e.forceWrite},on:{input:function(t){e.forceWrite=!t.target.checked}}})]),e.indexData?n("index-info",{attrs:{"panel-key":e.panelKey}}):e._e()],1)]),e.indexData?n("div",[n("div",{staticClass:"flex"},["leftPanel"===e.panelKey?n("div",{staticClass:"w-300 max-w-300 min-w-300"},[n("queries",{attrs:{"panel-key":e.panelKey}}),n("dashboard-config",{attrs:{"panel-key":e.panelKey,"read-only":!e.canWrite}})],1):e._e(),n("div",{staticClass:"flex",class:("leftPanel"===e.panelKey?"border-l":"border-r")+" border-proton-grey ",staticStyle:{width:"calc(100% - 300px)"}},[e.panelIndexName?n("explorer",{staticClass:"bg-white flex-1 min-w-0",attrs:{"panel-key":e.panelKey,"read-only":!e.canWrite}}):e._e(),n("facets",{directives:[{name:"show",rawName:"v-show",value:!e.$store.state.panels.splitMode,expression:"!$store.state.panels.splitMode"}],staticClass:"xxl:min-w-260 xxl:max-w-260 min-w-152 max-w-152 border-l border-proton-grey",attrs:{"panel-key":e.panelKey,"app-id":e.panelAppId,"index-name":e.panelIndexName,"search-params":e.searchParams,query:void 0!==e.searchParams.query?e.searchParams.query:e.$store.state.panels.query,"index-settings":e.refIndexSettings,"config-key":e.searchConfigKey}})],1),"leftPanel"!==e.panelKey?n("div",{staticClass:"w-300 max-w-300 min-w-300"},[n("queries",{attrs:{"panel-key":e.panelKey}}),n("dashboard-config",{attrs:{"panel-key":e.panelKey,"read-only":!e.canWrite}})],1):e._e()])]):e._e()])],1)},L=[],U=(n("4f72"),n("0d9c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex border-b border-proton-grey text-xs uppercase tracking-wide bg-proton-grey-opacity-40 text-telluric-blue"},[n("div",{staticClass:"mx-8 p-8",class:"hits"===e.panelCurrentTab?"-mb-2 border-b-2 border-nebula-blue-opacity-80":"cursor-pointer",on:{click:function(t){e.panelCurrentTab="hits"}}},[e._v("\n            Hits "),isNaN(e.nbHits)?e._e():n("span",[e._v("("+e._s(e.formatHumanNumber(e.nbHits))+")")])]),n("div",{staticClass:"mx-8 p-8",class:"synonyms"===e.panelCurrentTab?"-mb-2 border-b-2 border-nebula-blue-opacity-80":"cursor-pointer",on:{click:function(t){e.panelCurrentTab="synonyms"}}},[e._v("\n            Synonyms ("+e._s(e.formatHumanNumber(this.nbSynonyms))+")\n        ")]),n("div",{staticClass:"mx-8 p-8",class:"rules"===e.panelCurrentTab?"-mb-2 border-b-2 border-nebula-blue-opacity-80":"cursor-pointer",on:{click:function(t){e.panelCurrentTab="rules"}}},[e._v("\n            Rules ("+e._s(e.formatHumanNumber(this.nbRules))+")\n        ")]),n("div",{staticClass:"mx-8 p-8",class:"checks"===e.panelCurrentTab?"-mb-2 border-b-2 border-nebula-blue-opacity-80":"cursor-pointer",on:{click:function(t){e.panelCurrentTab="checks"}}},[e._v("\n            Checks ("+e._s(e.formatHumanNumber(e.nbChecks))+")\n        ")]),e.panelUserId?n("div",{staticClass:"mx-8 p-8",class:"mcm"===e.panelCurrentTab?"-mb-2 border-b-2 border-nebula-blue-opacity-80":"cursor-pointer",on:{click:function(t){e.panelCurrentTab="mcm"}}},[e._v("\n            MCM\n        ")]):e._e()]),n("div",{staticClass:"p-8"},[n("perform-search",{attrs:{"search-params":e.searchParams,"app-id":e.panelAppId,"api-key":e.panelAdminAPIKey,server:e.panelServer,"index-name":e.panelIndexName,method:e.panelMethod,"user-id":e.panelUserId,query:e.$store.state.panels.query,"title-attribute-name":e.indexTitleAttribute,"fetch-explain":e.$store.state.panels.displayRankingInfo,"analyse-hits-per-page":e.$store.state.panels.analyseMaxNbPoints,"fetch-facets":!0},on:{onUpdateAutoTitleAttributeName:function(t){e.indexAutoTitleAttributeName=t},onFetchHits:e.onFetchHits,onFetchAnalyseHits:e.onFetchAnalyseHits,onUpdateError:function(t){e.errorMessage=t}}}),e.errorMessage?n("error-message",{attrs:{"error-message":e.errorMessage,"app-id":e.panelAppId,"api-key":e.panelAdminAPIKey},on:{onUpdateApiKey:function(t){e.panelAdminAPIKey=t}}}):e._e(),n("results",{directives:[{name:"show",rawName:"v-show",value:"hits"===e.panelCurrentTab,expression:"panelCurrentTab === 'hits'"}],staticClass:"w-full",attrs:{"panel-key":e.panelKey,"search-response":e.algoliaResponse,"analyse-response":e.analyseAlgoliaResponse,"search-params":e.searchParams,"index-settings":e.refIndexSettings,"analyse-max-nb-points":e.analyseMaxNbPoints,"read-only":e.readOnly,"is-replica":e.isReplica,"app-id":e.panelAppId,"api-key":e.panelAdminAPIKey,"index-name":e.panelIndexName,server:e.panelServer,"user-id":e.panelUserId,method:e.panelMethod,query:void 0!==e.searchParams.query?e.searchParams.query:e.$store.state.panels.query,"display-mode":e.displayMode,showSearchableAttributes:e.$store.state.panels.showSearchableAttributes,showCustomRanking:e.$store.state.panels.showCustomRanking,showAttributesForFaceting:e.$store.state.panels.showAttributesForFaceting,showOnlyMatchingAttributes:e.$store.state.panels.showOnlyMatchingAttributes,"can-jump-rules":e.canJumpRules,"can-jump-records":e.canJumpRecords,"jump-to":e.otherPanelKey,"ignore-image-proxy":e.indexIgnoreImageProxy,"image-size":e.indexImageSize,"image-attribute":e.indexImageAttributeName,"image-base-url":e.indexImageBaseUrl,"image-suffix-url":e.indexImageSuffixUrl,"title-attribute-name":e.indexTitleAttribute,"auto-title-attribute-name":e.indexAutoTitleAttributeName,"keys-indexer":e.indexKeysIndexer,"display-ranking-info":e.$store.state.panels.displayRankingInfo},on:{onUpdateAnalyseMaxNbPoint:function(t){e.analyseMaxNbPoints=t},onUpdateDisplayMode:function(t){e.displayMode=t},onUpdatePage:function(t){return e.onSetParamValue("page",t)},onSetParamValue:e.onSetParamValue,onDeleteParam:e.onDeleteParam,onUpdateIgnoreImageProxy:function(t){e.indexIgnoreImageProxy=t},onUpdateImageAttribute:function(t){e.indexImageAttributeName=t},onUpdateImageBaseUrl:function(t){e.indexImageBaseUrl=t},onUpdateImageSuffixUrl:function(t){e.indexImageSuffixUrl=t},onUpdateImageSize:function(t){e.indexImageSize=t},onUpdateTitleAttributeName:function(t){e.indexTitleAttribute=t},onUpdateAutoTitleAttributeName:function(t){e.indexAutoTitleAttributeName=t},onShouldUpdateQuery:function(t){return e.onShouldUpdateQuery(t)}}}),n("fetcher",{directives:[{name:"show",rawName:"v-show",value:"synonyms"===e.panelCurrentTab,expression:"panelCurrentTab === 'synonyms'"}],attrs:{"method-name":"searchSynonyms","panel-key":e.panelKey,"app-id":e.panelAppId,"api-key":e.panelAdminAPIKey,"index-name":e.panelIndexName,server:e.panelServer,"user-id":e.panelUserId,"ignore-image-proxy":e.indexIgnoreImageProxy,"image-size":e.indexImageSize,"image-attribute":e.indexImageAttributeName,"image-base-url":e.indexImageBaseUrl,"image-suffix-url":e.indexImageSuffixUrl,"title-attribute-name":e.indexTitleAttribute,"auto-title-attribute-name":e.indexAutoTitleAttributeName,"read-only":e.readOnly,"can-jump-synonyms":e.canJumpSynonyms,"jump-to":e.otherPanelKey},on:{onFetch:e.onFetchSynonyms}}),n("fetcher",{directives:[{name:"show",rawName:"v-show",value:"rules"===e.panelCurrentTab,expression:"panelCurrentTab === 'rules'"}],attrs:{"method-name":"searchRules","panel-key":e.panelKey,"app-id":e.panelAppId,"api-key":e.panelAdminAPIKey,"index-name":e.panelIndexName,server:e.panelServer,"user-id":e.panelUserId,"ignore-image-proxy":e.indexIgnoreImageProxy,"image-size":e.indexImageSize,"image-attribute":e.indexImageAttributeName,"image-base-url":e.indexImageBaseUrl,"image-suffix-url":e.indexImageSuffixUrl,"title-attribute-name":e.indexTitleAttribute,"auto-title-attribute-name":e.indexAutoTitleAttributeName,"read-only":e.readOnly,"can-jump-rules":e.canJumpRules,"jump-to":e.otherPanelKey},on:{onFetch:e.onFetchRules}}),n("checks",{directives:[{name:"show",rawName:"v-show",value:"checks"===e.panelCurrentTab,expression:"panelCurrentTab === 'checks'"}],attrs:{"index-analyser":e.indexData.indexAnalyzer,searchParams:e.searchParams,indexSettings:e.indexSettings},on:{onUpdateCount:e.onUpdateChecksCount}}),"mcm"===e.panelCurrentTab?n("mcm",{attrs:{"panel-key":e.panelKey}}):e._e()],1)])}),V=[];n("f49d"),n("632c"),n("a7e1"),n("4fb0"),n("ae66");function W(e,t,n,a){if(0===e)return"0";n=n||["","K","M","B","T"],a=a||1e3,t=t||0;var s=Math.min(Math.max(0,Math.floor(Math.log(Math.abs(e))/Math.log(a))),n.length-1),r=e/Math.pow(a,s);return(Math.abs(r)>1e3?Q(r,t):r.toFixed(t))+n[s]}function Q(e,t){return"number"!==typeof e?e:(e||0).toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")}var J=/^.*\(([^()]+)\)+(:.*)?$/g,G=/^(.*)(:.*)$/g;function X(e){return e.trim().replace(J,"$1").replace(G,"$1")}function Z(e,t,n,a){var s=isFinite(+e)?+e:0,r=isFinite(+t)?Math.abs(t):0,i="undefined"===typeof a?",":a,o="undefined"===typeof n?".":n,l=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},c=(r?l(s,r):Math.round(s)).toString().split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(c[1]||"").length<r&&(c[1]=c[1]||"",c[1]+=new Array(r-c[1].length+1).join("0")),c.join(o)}function Y(e){return e.split(".")[0]}var ee=null;function te(e){return ee=null===ee?document.createElement("div"):ee,ee.textContent=e,ee.innerHTML}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/<(\/)?ais-highlight-(\d+)>/g,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=e.replace(t,"{{{$1ais-highlight-$2}}}");return te(a).replace(/{{{(\/?)ais-highlight-[^}]*}}}/g,""===n?"<$1em>":'<$1em class="'.concat(n,'">'))}function ae(e){return e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="json-token '+t+'">'+ne(e)+"</span>"}))}function se(e){return ae(JSON.stringify(e,null,2))}function re(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&lt;b&gt;/g,"<em>").replace(/&lt;\/b&gt;/g,"</em>")}function ie(e,t){if(t.length<=0)return e;for(var n=t.toLowerCase().split(" ").sort((function(e,t){return t.length-e.length})).filter((function(e){return e.trim().length>0})),a="",s=0;s<e.length;s++){for(var r=!1,i=0;i<n.length;i++)if(e.toLowerCase().startsWith(n[i].toLowerCase(),s)){a+="<em>".concat(e.slice(s,s+n[i].length),"</em>"),s+=n[i].length-1,r=!0;break}r||(a+=e[s])}return a}var oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("settings-loader",{attrs:{"app-id":e.appId,"index-name":e.indexName,"api-key":e.apiKey,"user-id":e.userId},on:{onFetchSettings:function(t){e.indexSettings=t}}})},le=[],ce=(n("5c32"),n("2989"),n("08b3")),ue=function(e){if("string"!==typeof e)return e;var t=[];return e.split(".").forEach((function(e){e.split(/\[([^}]+)\]/g).forEach((function(e){e.length>0&&t.push(e)}))})),t};function pe(e,t,n){t=ue(t);for(var a=e,s=0;s<t.length;s++){if(void 0===a[t[s]])return n;a=a[t[s]],Array.isArray(a)&&(a=a[a.length-1])}return a}function de(e,t){if("typo"===t)return e._rankingInfo.nbTypos;if("geo"===t)return e._geoloc?e._rankingInfo.geoDistance*e._rankingInfo.geoPrecision:null;if("words"===t)return e._rankingInfo.words;if("filters"===t)return e._rankingInfo.filters;if("proximity"===t)return e._rankingInfo.proximityDistance;if("attribute"===t)return Math.floor(e._rankingInfo.firstMatchedWord/1e3);if("position"===t)return e._rankingInfo.firstMatchedWord%1e3+1;if("exact"===t)return e._rankingInfo.nbExactWords;if("perso"===t)return e._rankingInfo&&e._rankingInfo.personalization?e._rankingInfo.personalization.score:null;if("perso.filtersScore"===t)return e._rankingInfo&&e._rankingInfo.personalization?e._rankingInfo.personalization.filtersScore:null;if("perso.rankingScore"===t)return e._rankingInfo&&e._rankingInfo.personalization?e._rankingInfo.personalization.rankingScore:null;var n=t.replace(/^(asc|desc)\((.*)\)$/,"$2");return pe(e,n,"<not present>")}var he=n("27dd"),me=n.n(he),fe=me.a,ye=function(e){this.indexSettings=e,this.ranking=e.ranking?e.ranking:fe.ranking.settings_default,this.customRanking=e.customRanking?e.customRanking:fe.customRanking.default,this.isTypoStrictOrMin=function(e){return e&&void 0!==e.typoTolerance?-1!==["strict","min"].indexOf(e.typoTolerance):-1!==["strict","min"].indexOf(this.indexSettings.typoTolerance)},this.getActualCriteria=function(e,t){var n=this,a=[],s=Object(ce["a"])(this.ranking);this.isTypoStrictOrMin(e)&&a.push("typo");var r=!1;return s.forEach((function(e){if("custom"===e){if(t)return;r=!0,a.push("perso"),a.push("perso.rankingScore"),a.push("perso.filtersScore"),n.customRanking.forEach((function(e){a.push(e)}))}else"typo"===e?-1===a.indexOf("typo")&&a.push("typo"):"attribute"===e?(a.push("attribute"),a.push("position")):a.push(e)})),r||(a.push("perso"),a.push("perso.rankingScore"),a.push("perso.filtersScore")),a},this.getCriterionValue=function(e,t){return de(e,t)}},ge=(n("0572"),n("9ebc")),ve=n.n(ge),be=n("b137"),xe=n("f9d9"),_e=n("1f39");function we(e){return new Promise((function(t){return setTimeout(t,e)}))}var ke={},Ie={},Ce=function(e){return Ae.apply(this,arguments)};function Ae(){return Ae=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Ie[t]){e.next=5;break}return e.next=3,we(10);case 3:e.next=0;break;case 5:if(!ke[t]){e.next=7;break}return e.abrupt("return",ke[t]);case 7:return Ie[t]=!0,n=Object({NODE_ENV:"production",BASE_URL:"/metaparams/"}).VUE_APP_METAPARAMS_BACKEND_ENDPOINT||"https://tools-backend.algolia.com",e.next=11,fetch("".concat(n,"/signature/").concat(t),{credentials:"include",headers:{"Content-Type":"application/json"}});case 11:return a=e.sent,e.next=14,a.json();case 14:return s=e.sent,r=s.signature?s.signature:"",ke[t]=r,Ie[t]=!1,e.abrupt("return",r);case 19:case"end":return e.stop()}}),e)}))),Ae.apply(this,arguments)}n("06ef");var Pe=n("f10a");function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=function(e){var t=Oe({},e);return e["optionalWords=query"]&&e.query&&(t.optionalWords=e.query),delete t["optionalWords=query"],delete t["extraChartsAttributes"],t},Re=function(e,t){return e.map((function(e){var n=Array.isArray(e)?e:[e];return n.filter((function(e){return!e.startsWith(t)}))})).filter((function(e){return e.length>0}))},Ne=function(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n},$e=function(e,t){if(void 0===e||null===e)return t;for(var n in e)null!==n&&void 0!==e[n]&&e.hasOwnProperty(n)&&(t+=""===t?"":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?Ne(e[n]):e[n]));return t},Te=function(e,t,n,a){var s=[];return s.push({indexName:e,params:$e(Oe({},a,{facets:t}),"")}),n.forEach((function(t){var n=Re(a.facetFilters||[],"".concat(t,":")),r={facetFilters:n,facets:[t],analytics:!1,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],hitsPerPage:1,page:0,explain:void 0};s.push({indexName:e,params:$e(Object.assign({},a,r),"")})})),s},De=function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,r,i,o,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.disjunctiveFacets,a=Object(b["a"])(t,["disjunctiveFacets"]),s=a.facetFilters||[],r={},n.forEach((function(e){return s.forEach((function(t){r[e]=[];var n=Array.isArray(t)?t:[t];n.forEach((function(t){t.startsWith("".concat(e,":"))&&r[e].push(t.replace("".concat(e,":"),""))}))}))})),i=Object.keys(r).filter((function(e){return r[e].length>0})),o=Te(this.indexName,n,i,a),l={},void 0!==this.userId()&&(l.headers={"X-Algolia-User-ID":this.userId()}),e.next=10,this.transporter.read({method:"POST",path:"1/indexes/*/queries",data:{requests:o,strategy:"none"}},l);case 10:return c=e.sent,u=c.results[0],u.disjunctiveFacets=JSON.parse(JSON.stringify(u.facets||{})),i.forEach((function(e,t){u.disjunctiveFacets[e]=c.results[t+1].facets[e],r[e].forEach((function(t){u.disjunctiveFacets[e]&&void 0===u.disjunctiveFacets[e][t]&&(u.disjunctiveFacets[e][t]=null)}))})),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(e){var t=je(e);return t.disjunctiveFacets&&t.disjunctiveFacets.length>0?this.disjunctiveSearch(t):(delete t.disjunctiveFacets,void 0!==this.userId()&&(t.headers={"X-Algolia-User-ID":this.userId()}),this.search(t.query||"",t))},Ee=function(e){var t=je(e),n=t.cursor||null;delete t.disjunctiveFacets,delete t.cursor;var a={params:Object(Pe["a"])(t)};n&&(a.cursor=n);var s={};return void 0!==this.userId()&&(s.headers={"X-Algolia-User-ID":this.userId()}),this.transporter.read({method:"POST",path:Object(_e["b"])("/1/indexes/%s/browse",this.indexName),data:a},s)},Me=function(e){var t=je(e),n=t.facetName,a=t.facetQuery,s=Object(b["a"])(t,["facetName","facetQuery"]);return void 0!==this.userId()&&(s.headers={"X-Algolia-User-ID":this.userId()}),this.searchForFacetValues(n,a,s)},Fe={customSearch:Ke,customBrowse:Ee,disjunctiveSearch:De,customSearchForFacetValues:Me,buildFacetFilters:Re};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=function(e){return"MySuperApp"===e||e.endsWith(".local")||e.endsWith(".test")},Be={},Le={};function Ue(e,t,n){if(He(e))return[{url:"localhost-1.algolia.io:8080",accept:3}];if(void 0===n||"dsn"===n||"-dsn"===n)return[{url:e+"-1.algolianet.com",accept:3},{url:e+"-2.algolianet.com",accept:3},{url:e+"-3.algolianet.com",accept:3}];var a=null;switch(n){case"-1":a={url:"".concat(e,"-1.algolianet.com"),accept:3};break;case"-2":a={url:"".concat(e,"-2.algolianet.com"),accept:3};break;case"-3":a={url:"".concat(e,"-3.algolianet.com"),accept:3};break;default:a={url:"".concat(n,"-1.algolia.net"),accept:3}}return[a,a,a]}function Ve(e,t,n,a,s){return We.apply(this,arguments)}function We(){return We=Object(P["a"])(regeneratorRuntime.mark((function e(t,n,a,s,r){var i,o,l,c,u,p,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i="".concat(t,"-").concat(n,"-").concat(a,"-").concat(s,"-").concat(r),!Be[i]){e.next=3;break}return e.abrupt("return",Be[i]);case 3:if(o={},He(t)||!n||!0===r){e.next=9;break}return e.next=7,Ce(t);case 7:l=e.sent,o["X-Algolia-Signature"]=l;case 9:return c=Object(xe["a"])(1),u=Object(be["a"])(),p=ve()(t,n||" ",{requestsCache:u,responsesCache:u,hostsCache:u,logger:c,hosts:Ue(t,n,a),headers:o}),d=Object(_e["a"])(p,{customInitIndex:function(e){return function(t){var n=["saveObjects","deleteObject","getObject","getObjects","waitTask","setSettings"],a=e.initIndex(t);return n.forEach((function(e){var t=a[e];a[e]=function(n,a){var s=a||{},r=s.headers||{};void 0!==this.userId()&&(r["X-Algolia-User-ID"]=this.userId()),"setSettings"!==e&&(s.headers=r);var i=t(n,s),o=i.wait;return i.wait=function(){return o({headers:r})},i}})),qe({},a,{},Fe,{userId:function(){return s||void 0}})}}}),Be[i]=d,e.abrupt("return",d);case 15:case"end":return e.stop()}}),e)}))),We.apply(this,arguments)}function Qe(e,t,n,a,s,r){return Je.apply(this,arguments)}function Je(){return Je=Object(P["a"])(regeneratorRuntime.mark((function e(t,n,a,s,r,i){var o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o="".concat(t,"-").concat(n,"-").concat(a,"-").concat(s,"-").concat(r,"-").concat(i),!Le[o]){e.next=3;break}return e.abrupt("return",Le[o]);case 3:return e.next=5,Ve(t,n,s,r,i);case 5:return l=e.sent,c=l.customInitIndex(a),Le[o]=c,e.abrupt("return",Le[o]);case 9:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}function Ge(e){var t={};return Object.keys(e).forEach((function(n){e[n].enabled&&(t[n]=e[n].value)})),JSON.parse(JSON.stringify(t))}function Xe(e){var t=window.location.href;window.location.href=e,window.history.replaceState(null,null,t)}function Ze(e){return"string"===typeof e||e instanceof String}var Ye={watch:{titleAttribute:function(){this.$emit("onUpdateAutoTitleAttributeName",this.titleAttribute)}},props:["titleAttributeName","autoTitleAttributeName"],computed:{titleAttribute:function(){var e=this.titleAttributeName||this.autoTitleAttributeName;if(!e&&this.searchResponse){var t=this.indexSettings.searchableAttributes||this.indexSettings.attributesToIndex||[],n=this.searchResponse.hits.length>0?this.searchResponse.hits[0]:{};for(var a in t){var s=X(Y(t[a].split(",")[0]));if(Ze(n[s])){e=s;break}}}return e||"objectID"}}},et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},tt=[],nt=(n("cd05"),n("e285"),n("9ebb"),function(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))}))}),at=function(){var e=this;this.tokens={},this.tokenize=function(e){return e.split(/\s/).map((function(e){return e.toLowerCase()})).filter((function(e){return e}))},this.addString=function(t){e.tokenize(t).forEach((function(n){e.tokens[n]=e.tokens[n]||[],e.tokens[n].push(t)}))},this.search=function(t,n){if(t.length<=0)return Object.keys(e.tokens).slice(0,n);var a=e.tokenize(t).map((function(t){return Object.keys(e.tokens).reduce((function(n,a){return a.includes(t)&&n.push.apply(n,Object(ce["a"])(e.tokens[a])),n}),[])}));return 0===a.length?[]:Array.from(new Set(nt.apply(void 0,Object(ce["a"])(a)).slice(0,50))).slice(0,n).sort((function(e,n){return e===t?-1:n===t?1:0}))}},st=at,rt=n("0d7b"),it=Object(rt["a"])((function(e,t,n,a,s){return new Promise((function(r,i){if("MySuperApp"===e||e.endsWith(".local")||e.endsWith(".test"))r([],{},[]);else{var o=function(e){return"[object Object]"===Object.prototype.toString.call(e)},l=function(e){var t={};function n(e,a){o(e)?Object.keys(e).forEach((function(t){var s=a.length<=0?t:"".concat(a,".").concat(t);n(e[t],s)})):Array.isArray(e)&&e.length>0?e.slice(0,100).forEach((function(e){n(e,a)})):(t[a]=t[a]||[],Array.isArray(e)||-1===t[a].indexOf(e)&&t[a].push(e))}return e.forEach((function(e){n(e,"")})),t};self.importScripts("https://cdn.jsdelivr.net/npm/algoliasearch@3.33.0/dist/algoliasearchLite.min.js");var c=algoliasearch(e,t);c.setExtraHeader("X-Algolia-Signature",s),a&&c.setExtraHeader("X-Algolia-User-ID",a);var u=c.initIndex(n);u.search("",{page:0,hitsPerPage:1e3,attributesToHighlight:[],attributesToSnippet:[]}).then((function(e){var t=e.hits,n=l(t),a=Object.keys(n).filter((function(e){return!e.startsWith("_highlightResult")&&(!e.startsWith("_snippetResult")&&(!e.startsWith("_rankingInfo")&&!e.startsWith("_distinctSeqID")))}));r(Object.freeze({records:t,flattenRecord:n,keys:a}))}))}}))})),ot={computed:{indexCommitPrefix:function(){return"apps/".concat(this.appId,"/").concat(this.indexName)},indexData:function(){return this.$store.state.apps[this.appId]?this.$store.state.apps[this.appId][this.indexName]:null},indexKeysIndexer:function(){return this.indexData.keysIndexer?this.indexData.keysIndexer:null},indexAutoTitleAttributeName:{get:function(){return this.indexData.autoTitleAttributeName},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setAutoTitleAttributeName"),e)}},indexTitleAttribute:{get:function(){return this.indexData.titleAttribute||""},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setTitleAttribute"),e)}},indexImageSize:{get:function(){return this.indexData.imageSize||40},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setImageSize"),e)}},indexIgnoreImageProxy:{get:function(){return this.indexData.ignoreImageProxy||!1},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setIgnoreImageProxy"),e)}},indexImageAttributeName:{get:function(){return this.indexData.imageAttributeName},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setImageAttributeName"),e)}},indexImageBaseUrl:{get:function(){return this.indexData.imageBaseUrl||""},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setImageBaseUrl"),e)}},indexImageSuffixUrl:{get:function(){return this.indexData.imageSuffixUrl||""},set:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/setImageSuffixUrl"),e)}},searchParams:function(){return Ge(this.indexData[this.searchConfigKey])},indexSettings:function(){return Ge(this.indexData.indexSettings||{})},refIndexSettings:function(){return Ge(this.indexData.refIndexSettings||{})},advancedIndexSettings:function(){return this.indexData&&this.indexData.advancedIndexSettings?this.indexData.advancedIndexSettings:{}},indexSettingsRaw:function(){return this.indexData.indexSettings||{}},refIndexSettingsRaw:function(){return this.indexData.refIndexSettings||{}},searchParamsRaw:function(){return this.indexData[this.searchConfigKey]},isIndexSettingsDirty:function(){return JSON.stringify(this.indexSettings)!==JSON.stringify(this.refIndexSettings)},isReplica:function(){return this.indexData&&this.refIndexSettings&&this.refIndexSettings.primary&&this.refIndexSettings.primary.length>0}}},lt={name:"SettingsLoader",props:["appId","indexName","apiKey","userId"],mixins:[ot],data:function(){return{advancedIndexSettingsNames:["indexingGeolocPrecision","maxNbHits","nbShardsAuto","approxSubstIsBetter","maxApproxIVSizeForEachWord","maxApproxWords"]}},watch:{appId:function(){this.init()},indexName:function(){this.init()},apiKey:function(){this.init()}},created:function(){this.appId&&this.indexName&&this.apiKey&&this.init()},methods:{init:function(){this.loadIndexSettings(),this.loadKeysIndexer()},loadIndexSettings:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ve(this.appId,this.apiKey);case 2:return t=e.sent,n=t.customInitIndex(this.indexName),e.next=6,n.getSettings({queryParameters:{advanced:1}});case 6:a=e.sent,s={},r={},e.t0=regeneratorRuntime.keys(a);case 10:if((e.t1=e.t0()).done){e.next=24;break}if(i=e.t1.value,"version"!==i){e.next=14;break}return e.abrupt("continue",10);case 14:if("userData"!==i){e.next=16;break}return e.abrupt("continue",10);case 16:if("nbShards"!==i||1!==a[i]){e.next=18;break}return e.abrupt("continue",10);case 18:if(-1===this.advancedIndexSettingsNames.indexOf(i)){e.next=21;break}return r[i]=a[i],e.abrupt("continue",10);case 21:void 0!==fe[i]&&void 0!==fe[i].settings_default&&JSON.stringify(a[i])===JSON.stringify(fe[i].settings_default)||void 0!==fe[i]&&void 0!==fe[i].ignore_value&&JSON.stringify(a[i])===JSON.stringify(fe[i].ignore_value)||(s[i]=a[i]),e.next=10;break;case 24:this.$emit("onFetchSettings",Object.freeze(s)),this.$store.commit("apps/".concat(this.appId,"/").concat(this.indexName,"/replaceIndexSettings"),Object.freeze(s)),this.$store.commit("apps/".concat(this.appId,"/").concat(this.indexName,"/setAdvancedIndexSettings"),Object.freeze(r));case 27:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadKeysIndexer:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return!this.appId||this.apiKey,e.next=3,Ce(this.appId);case 3:return t=e.sent,e.next=6,it(this.appId,this.apiKey,this.indexName,this.userId,t);case 6:n=e.sent,a=new st,n.keys.forEach((function(e){a.addString(e)})),this.$store.commit("apps/".concat(this.appId,"/").concat(this.indexName,"/setIndexAnalyzer"),n),this.$store.commit("apps/".concat(this.appId,"/").concat(this.indexName,"/setKeysIndexer"),a);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},ct=lt,ut=Object(D["a"])(ct,et,tt,!1,null,null,null),pt=ut.exports,dt={components:{SettingsLoader:pt},props:["appId","indexName","apiKey","server","query","method","userId","noSignature","searchParams","titleAttributeName","fetchExplain","analyseHitsPerPage","fetchFacets"],mixins:[Ye],data:function(){return{anchor:null,searchResponse:null,indexSettings:{},requestNumber:0,requestNumberReceived:0,requestNumberAnalysis:0,requestNumberAnalysisReceived:0}},created:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init(),this.$root.$on("shouldTriggerSearch",(function(e){e===t.indexName&&(t.triggerSearch(),t.triggerAnalyseSearch())})),this.$root.$on("wantsToGoToAnchorAtNext",(function(e){t.anchor=e}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{query:function(){var e=this;["searchParams","searchParams2"].forEach((function(t){e.$store.commit("apps/".concat(e.appId,"/").concat(e.indexName,"/deleteParam"),{configKey:t,inputKey:"page"})}))},server:function(e,t){e!==t&&this.init()},method:function(e,t){e!==t&&this.init()},searchParamsWithDefaults:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&this.triggerSearch()},searchParamsForAnalysis:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&this.triggerAnalyseSearch()},appId:function(e,t){e!==t&&this.init()},indexName:function(e,t){e!==t&&this.init()},apiKey:function(e,t){e!==t&&this.init()},userId:function(e,t){e!==t&&this.init()}},computed:{rankingInfoAnalyzer:function(){return new ye(this.indexSettings)},criteria:function(){return this.rankingInfoAnalyzer.getActualCriteria()},textualCriteria:function(){return this.rankingInfoAnalyzer.getActualCriteria(this.searchParamsWithDefaults,!0).filter((function(e){return!["perso","perso.filtersScore","perso.rankingScore"].includes(e)}))},searchParamsWithDefaults:function(){var e={hitsPerPage:8,query:this.query,attributesToSnippet:["*:10"],snippetEllipsisText:"…",attributesToRetrieve:["*"],analytics:!1,enableABTest:!1};this.fetchExplain&&(e["explain"]="match.alternatives,params.*");var t={getRankingInfo:!0,highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"};if(this.fetchFacets){var n=this.indexSettings&&this.indexSettings.attributesForFaceting?this.indexSettings.attributesForFaceting:[],a=(this.searchParams.facets||n||[]).slice(0,50);a.some((function(e){return"*"===e}))&&(a=n),t.disjunctiveFacets=a.map(X)}return Object.assign(e,this.searchParams,t)},searchParamsForAnalysis:function(){return Object.assign({query:this.query},this.searchParams,{page:0,analytics:!1,enableABTest:!1,getRankingInfo:!0,hitsPerPage:this.analyseHitsPerPage,attributesToSnippet:[],attributesToHighlight:[],attributesToRetrieve:["*"]})}},methods:{init:function(){this.appId&&this.indexName?(this.triggerSearch(),this.triggerAnalyseSearch()):this.$emit("onFetchHits",null)},triggerSearch:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="search"===this.method?"customSearch":"customBrowse",n=this.requestNumber++,e.next=4,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId,this.noSignature);case 4:a=e.sent,a[t](this.searchParamsWithDefaults).then(function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(s.requestNumberReceived>n)){e.next=2;break}return e.abrupt("return");case 2:if(s.requestNumberReceived=n,!(t.hits.length<=0&&s.searchParamsWithDefaults.query.length>0)){e.next=12;break}return e.prev=4,e.next=7,a.getObject(s.searchParamsWithDefaults.query);case 7:t.object=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](4);case 12:t.merge&&t.hits.length>0&&t.hits[0]._rankingInfo&&(t.hits[0]._rankingInfo.merge=t.merge),r=Object.freeze(t),s.searchResponse=r,s.$emit("onFetchHits",r),s.$emit("onUpdateError",""),s.anchor&&s.$nextTick((function(){Xe(s.anchor),s.anchor=null}));case 18:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){s.requestNumberReceived>n||(s.requestNumberReceived=n,s.$emit("onFetchHits",null),s.$emit("onUpdateError",e.message),console.error(e))}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),triggerAnalyseSearch:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="search"===this.method?"customSearch":"customBrowse","customSearch"===t){e.next=4;break}return this.$emit("onFetchAnalyseHits",null),e.abrupt("return");case 4:return e.next=6,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId,this.noSignature);case 6:n=e.sent,a=this.requestNumberAnalysis++,n[t](this.searchParamsForAnalysis).then((function(e){if(!(s.requestNumberAnalysisReceived>a)){if(s.requestNumberAnalysisReceived=a,e.hits.length>1)for(var t=JSON.stringify(s.textualCriteria.map((function(t){return s.rankingInfoAnalyzer.getCriterionValue(e.hits[0],t)}))),n=function(n){var a=JSON.stringify(s.textualCriteria.map((function(t){return s.rankingInfoAnalyzer.getCriterionValue(e.hits[n],t)})));t!==a&&(t=a,e.hits[n]._rankingInfo.startsRelevanceBucket=!0)},r=1;r<e.hits.length;r++)n(r);s.$emit("onFetchAnalyseHits",Object.freeze(e))}})).catch((function(){}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},ht=dt,mt=Object(D["a"])(ht,oe,le,!1,null,null,null),ft=mt.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.searchResponse?n("div",{staticClass:"flex mt-4"},[n("small-tabs",{attrs:{value:e.displayMode,tabs:[{value:"list",name:"List",icon:e.ListIcon},{value:"images",name:"Images",icon:e.GridIcon},{value:"raw",name:"Raw",icon:e.CodeIcon},{value:"charts",name:"Charts",icon:e.BarChartIcon}]},on:{input:function(t){return e.$emit("onUpdateDisplayMode",t)}}}),e.readOnly||e.isReplica||"list"!==e.displayMode?e._e():n("div",{staticClass:"ml-auto flex items-center"},[n("button",{staticClass:"relative group"},[n("plus-circle-icon",{staticClass:"w-16 h-16 text-nova-grey-opacity-60 cursor-pointer hover:text-telluric-blue",on:{click:function(t){e.isAddingRecord=!0}}}),n("tooltip",[e._v("Add record(s)")])],1)])],1):e._e(),e.jumpedToReadOnly?n("div",{staticClass:"my-12 bg-saturn-5 rounded text-solstice-blue-opacity-80 p-8"},[e._v("\n        This panel is in readonly mode\n    ")]):e._e(),e.isAddingRecord?n("hit-edit",e._g(e._b({staticClass:"mt-16",attrs:{"allow-save-without-edit":null!==e.jumpedHit,hit:e.jumpedHit},on:{onStopEdit:function(t){e.isAddingRecord=!1,e.jumpedHit=null}}},"hit-edit",e.$props,!1),e.$listeners)):e._e(),n("div",[e.searchResponse&&!e.searchResponse.cursor?n("results-info",e._g(e._b({},"results-info",e.$props,!1),e.$listeners)):e._e(),!e.searchResponse||"list"!==e.displayMode&&"images"!==e.displayMode?e._e():n("results-list",e._g(e._b({},"results-list",e.$props,!1),e.$listeners)),"raw"===e.displayMode?n("export-params",e._b({},"export-params",e.$props,!1)):e._e(),e.searchResponse&&"raw"===e.displayMode?n("raw-response",e._b({},"raw-response",e.$props,!1)):e._e(),e.analyseResponse&&"charts"===e.displayMode?n("ranking-charts",e._g(e._b({},"ranking-charts",e.$props,!1),e.$listeners)):e._e(),"charts"===e.displayMode&&"browse"===e.method?n("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 mt-16 p-8"},[e._v("\n            Not available in browse mode.\n        ")]):e._e()],1)],1)},gt=[],vt={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 14",fill:"currentColor"},u),...p},r.concat([n("path",{attrs:{d:"M19 2H6a1 1 0 010-2h13a1 1 0 010 2zM19 8H6a1 1 0 010-2h13a1 1 0 010 2zM19 14H6a1 1 0 010-2h13a1 1 0 010 2zM1 2H.8a.64.64 0 01-.18-.06.76.76 0 01-.18-.09 1.58 1.58 0 01-.15-.12l-.12-.17a.76.76 0 01-.09-.18A.64.64 0 010 1.2 1.5 1.5 0 010 1 1 1 0 01.08.62 1.15 1.15 0 01.29.29 1 1 0 011.38.08a1 1 0 01.33.21A1.05 1.05 0 012 1a1.5 1.5 0 010 .2.64.64 0 01-.06.18.76.76 0 01-.09.18l-.12.15A1.05 1.05 0 011 2zM1 8H.81a.6.6 0 01-.19-.06.76.76 0 01-.18-.09l-.15-.14A1 1 0 010 7a1 1 0 01.08-.38 1 1 0 01.21-.33l.15-.12a.76.76 0 01.18-.09A.6.6 0 01.81 6a1 1 0 01.9.27 1 1 0 01.21.33A1 1 0 012 7a1.5 1.5 0 010 .2.64.64 0 01-.06.18.76.76 0 01-.09.18l-.12.15A1.05 1.05 0 011 8zM1 14a1 1 0 01-.38-.08 1.15 1.15 0 01-.33-.21 1 1 0 01-.21-1.09 1 1 0 01.21-.33 1 1 0 011.09-.21 1.15 1.15 0 01.33.21 1.15 1.15 0 01.21.33.94.94 0 010 .76 1.15 1.15 0 01-.21.33A1 1 0 011 14z"}})]))}},bt={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("path",{attrs:{d:"M18 20V10M12 20V4M6 20v-6"}})]))}},xt={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:["feather feather-code",i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-code"},u),...p},r.concat([n("path",{attrs:{d:"M16 18l6-6-6-6M8 6l-6 6 6 6"}})]))}},_t={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("path",{attrs:{d:"M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z"}})]))}},wt={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),n("path",{attrs:{d:"M12 8v8M8 12h8"}})]))}},kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["list"===e.displayMode?n("div",{staticClass:"w-full"},[n("applied-params",{attrs:{"algolia-response":e.searchResponse,"search-params":e.searchParams}}),n("applied-alternatives",{attrs:{"algolia-response":e.searchResponse}}),n("applied-rules",e._g(e._b({},"applied-rules",e.$props,!1),e.$listeners))],1):e._e(),e.searchResponse.hits.length>0?n("div",["list"===e.displayMode&&e.needTitleAttribute||"images"===e.displayMode?n("div",{staticClass:"mt-24 text-solstice-blue-opacity-70"},[n("div",[e._v("\n                Extra attribute to display:\n                "),n("input",{staticClass:"w-128 bg-proton-grey-opacity-20 text-xs p-4",attrs:{placeholder:"attribute_name"},domProps:{value:e.titleAttributeName},on:{input:function(t){return e.$emit("onUpdateTitleAttributeName",t.target.value)}}})]),n("div",[e._v("(default to first string attribute in searchableAttribute)")])]):e._e(),n("div",{staticClass:"w-full",class:"list"===e.displayMode?"":"flex flex-wrap"},e._l(e.searchResponse.hits,(function(t,a){return n("hit",e._g(e._b({key:t.objectID,attrs:{hit:t,"hit-position":a,"previous-hit":a>0?e.searchResponse.hits[a-1]:t,"top-attributes":e.topAttributes,"searchable-attributes":e.searchableAttributes,"title-attribute":e.autoTitleAttributeName}},"hit",e.$props,!1),e.$listeners))})),1),e.disablePagination?e._e():n("div",{staticClass:"flex justify-center"},[n("pagination",e._g({attrs:{page:e.searchResponse.page,cursor:e.searchResponse.cursor,"nb-pages":e.searchResponse.nbPages}},e.$listeners))],1)]):n("div",[n("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 mt-16 p-8"},[e._v('\n            No results for query "'+e._s(e.searchResponse.query)+'" '),e.searchResponse.object?n("span",[e._v("but found a record by objectID")]):e._e()]),e.searchResponse.object?n("hit",e._g(e._b({key:e.searchResponse.object.objectID,attrs:{hit:e.searchResponse.object,"hit-position":0,"previous-hit":e.searchResponse.object,"top-attributes":e.topAttributes,"searchable-attributes":e.searchableAttributes,"title-attribute":e.autoTitleAttributeName}},"hit",e.$props,!1),e.$listeners)):e._e(),e.searchResponse.query.length>0?n("div",{staticClass:"flex"},[n("button",{staticClass:"block mb-24 text-nova-grey text-md bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out px-24 py-16 relative group mx-auto mt-48",on:{click:function(t){return e.$emit("onShouldUpdateQuery","")}}},[e._v("\n                Clear query: "+e._s(e.searchResponse.query)+"\n            ")])]):e._e()],1)])},It=[],Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.searchResponse.appliedRules?n("div",{staticClass:"mt-32 break-words"},[n("div",e._l(e.searchResponse.appliedRules,(function(t,a){return n("div",{key:e.key+"-"+t.objectID},[n("unfetched-rule",e._g(e._b({attrs:{"rule-id":t.objectID}},"unfetched-rule",e.$props,!1),e.$listeners))],1)})),0)]):e._e()},At=[],Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.rule?n("rule",e._g(e._b({attrs:{rule:e.rule}},"rule",e.$props,!1),e.$listeners)):e._e()},St=[],Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.rule?n("div",{staticClass:"relative mb-48"},[e.editMode?e._e():n("div",{staticClass:"hit"},[n("div",{staticClass:"w-full"},[n("div",{staticClass:"flex items-center p-4 ml-2"},[void 0!==e.checked?n("input",{staticClass:"mr-12",attrs:{type:"checkbox"},domProps:{checked:e.checked},on:{input:function(t){return e.$emit("updateChecked",t.target.checked)}}}):e._e(),n("div",{staticClass:"bg-proton-grey-opacity-40 rounded text-sm py-4 px-8"},[e._v("\n                    rule: "+e._s(e.intermediateRule.objectID)+"\n                ")]),void 0===e.intermediateRule.enabled||e.intermediateRule.enabled?e._e():n("div",{staticClass:"ml-12 bg-proton-grey-opacity-40 rounded text-sm py-4 px-8"},[e._v("\n                    disabled\n                ")])])]),n("div",{staticClass:"w-full p-8"},[n("div",[n("div",{staticClass:"py-8 flex flex-wrap items-center tracking-wide text-xs uppercase text-cosmos-black-opacity-70"},[e._v("\n                    Condition\n                ")]),e.intermediateRule.hasPatternAndAnchoring||e.intermediateRule.context?n("div",[e.intermediateRule.hasPatternAndAnchoring?n("div",{staticClass:"py-8 flex flex-wrap border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("\n                            if query "),n("span",{domProps:{innerHTML:e._s(e.properHighlight(e.intermediateRule.anchoring))}})]),n("div",{staticClass:"ml-4 text-cosmos-black-opacity-70"},[e._v('\n                            "'),n("span",{domProps:{innerHTML:e._s(e.properHighlight(e.intermediateRule.pattern))}}),e._v('"\n                        ')])]):e._e(),e.intermediateRule.alternatives?n("div",[n("div",{staticClass:"w-188"},[e._v("match with alternatives")])]):e._e(),e.intermediateRule.context?n("div",{staticClass:"py-8 flex flex-wrap border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("in context")]),n("div",{staticClass:"ml-4 text-cosmos-black-opacity-70"},[e._v('"'+e._s(e.intermediateRule.context)+'"')])]):e._e()]):n("div",{staticClass:"py-8 border-t border-proton-grey-opacity-20"},[e._v("\n                    No condition - Always active\n                ")]),e.intermediateRule.validity&&e.intermediateRule.validity.length>0?n("div",{staticClass:"py-8 flex flex-wrap border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("validity periods")]),n("div",{staticClass:"ml-4"},e._l(e.intermediateRule.validity,(function(t){return n("div",[e._v("\n                            from\n                            "),n("span",{staticClass:"text-cosmos-black-opacity-70"},[e._v("\n                        "+e._s(new Date(1e3*t.from).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))+"\n                    ")]),e._v("\n                            to\n                            "),n("span",{staticClass:"text-cosmos-black-opacity-70"},[e._v("\n                        "+e._s(new Date(1e3*t.until).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))+"\n                    ")])])})),0)]):e._e()]),n("div",{staticClass:"mt-16 py-8 flex flex-wrap items-center tracking-wide text-xs uppercase text-cosmos-black-opacity-70"},[e._v("\n                Consequences\n            ")]),e.intermediateRule.automaticFacetFilters.length>0?n("div",{staticClass:"py-8 flex flex-wrap border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("filter automatically on")]),n("div",{staticClass:"ml-4"},e._l(e.intermediateRule.automaticFacetFilters,(function(t){return n("div",{staticClass:"text-cosmos-black-opacity-70"},[n("span",{domProps:{innerHTML:e._s(e.properHighlight(t.facet))}}),1!==t.score?n("span",[e._v('<score="'+e._s(t.score)+'">')]):e._e(),t.disjunctive?n("span",{staticClass:"ml-4"},[e._v("disjunctive (OR)")]):e._e()])})),0)]):e._e(),e.intermediateRule.automaticOptionalFacetFilters.length>0?n("div",{staticClass:"py-8 flex flex-wrap border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("optionalFilter automatically on")]),n("div",{staticClass:"ml-4"},e._l(e.intermediateRule.automaticOptionalFacetFilters,(function(t){return n("div",{staticClass:"text-cosmos-black-opacity-70"},[n("span",{domProps:{innerHTML:e._s(e.properHighlight(t.facet))}}),1!==t.score?n("span",[e._v('<score="'+e._s(t.score)+'">')]):e._e(),t.disjunctive?n("span",{staticClass:"ml-4"},[e._v("disjunctive (OR)")]):e._e()])})),0)]):e._e(),!1!==e.intermediateRule.replacedQuery?n("div",{staticClass:"py-8 flex flex-wrap border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("replace query by")]),n("div",{staticClass:"ml-4 text-cosmos-black-opacity-70"},[e._v('\n                    "'),n("span",{domProps:{innerHTML:e._s(e.properHighlight(e.intermediateRule.replacedQuery))}}),e._v('"\n                ')])]):e._e(),e.intermediateRule.removedWordsFromQuery.length>0?n("div",{staticClass:"py-8 flex flex-wrap border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("remove from query")]),e._l(e.intermediateRule.removedWordsFromQuery,(function(t){return n("div",{staticClass:"ml-4 mr-8 text-cosmos-black-opacity-70"},[e._v('\n                    "'),n("span",{domProps:{innerHTML:e._s(e.properHighlight(t))}}),e._v('"\n                ')])}))],2):e._e(),e.intermediateRule.replacedWordsFromQuery.length>0?n("div",{staticClass:"py-8 flex flex-wrap border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("replace in query")]),n("div",{staticClass:"ml-4"},e._l(e.intermediateRule.replacedWordsFromQuery,(function(t){return n("div",{staticClass:"mr-4 text-cosmos-black-opacity-70"},[e._v('\n                        "'),n("span",{domProps:{innerHTML:e._s(e.properHighlight(t[0]))}}),e._v('" => "'),n("span",{domProps:{innerHTML:e._s(e.properHighlight(t[1]))}}),e._v('"\n                    ')])})),0)]):e._e(),e.intermediateRule.promote.length>0?n("div",{staticClass:"py-8 flex border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("promote")]),n("div",{staticClass:"ml-4"},e._l(e.intermediateRule.promote,(function(t){return n("div",{staticClass:"flex mb-8"},[n("promoted-hit",e._g(e._b({attrs:{id:t.objectID,position:t.position}},"promoted-hit",e.$props,!1),e.$listeners))],1)})),0)]):e._e(),e.intermediateRule.filterPromotes>0?n("div",{staticClass:"py-8 flex border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("promote follow filters")])]):e._e(),e.intermediateRule.hide.length>0?n("div",{staticClass:"py-8 flex border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("hide")]),n("div",{staticClass:"ml-4"},e._l(e.intermediateRule.hide,(function(t){return n("div",{staticClass:"text-cosmos-black-opacity-70"},[n("promoted-hit",e._g(e._b({attrs:{id:t.objectID}},"promoted-hit",e.$props,!1),e.$listeners))],1)})),0)]):e._e(),Object.keys(e.intermediateRule.params).length>0?n("div",{staticClass:"py-8 flex border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("apply params")]),n("div",{staticClass:"ml-4 text-cosmos-black-opacity-70"},[n("pre",{domProps:{innerHTML:e._s(JSON.stringify(e.intermediateRule.params,null,2))}})])]):e._e(),e.intermediateRule.userData?n("div",{staticClass:"py-8 flex border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-188"},[e._v("userData")]),n("div",{staticClass:"ml-4 text-cosmos-black-opacity-70"},[n("pre",{domProps:{innerHTML:e._s(JSON.stringify(e.intermediateRule.userData,null,2))}})])]):e._e()]),n("div",{staticClass:"flex"},[n("div",{staticClass:"items-center ml-auto mr-8 justify-end"},[e.canJumpRules&&"leftPanel"===e.jumpTo?n("button",{staticClass:"relative group"},[n("flip-left-icon",{staticClass:"ml-8 text-nova-grey-opacity-60 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:e.jumpRule}}),n("tooltip",[e._v("Copy this synonym in the left panel index."),n("br"),e._v("Will ask for confirmation")])],1):e._e(),e.canJumpRules&&"rightPanel"===e.jumpTo?n("button",{staticClass:"relative group"},[n("flip-right-icon",{staticClass:"ml-8 text-nova-grey-opacity-60 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:e.jumpRule}}),n("tooltip",[e._v("Copy this synonym in the right panel index."),n("br"),e._v("Will ask for confirmation")])],1):e._e(),e.readOnly?e._e():n("button",{staticClass:"relative group"},[n("edit-icon",{staticClass:"ml-8 text-nova-grey-opacity-60 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:function(t){e.editMode=!0}}}),n("tooltip",[e._v("Edit rule. Will ask for confirmation")])],1),e.readOnly?e._e():n("button",{staticClass:"relative group"},[n("trash-icon",{staticClass:"ml-8 text-nova-grey-opacity-60 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:function(t){e.confirmDelete=!0}}}),n("tooltip",[e._v("Delete rule. Will ask for confirmation")])],1)])])]),e.editMode?n("rule-edit",e._g(e._b({attrs:{rule:e.rule},on:{onStopEdit:function(t){e.editMode=!1}}},"rule-edit",e.$props,!1),e.$listeners)):e._e(),e.confirmDelete?n("rule-delete",e._g(e._b({staticClass:"my-12 mx-8",attrs:{rule:e.rule},on:{onStopDelete:function(t){e.confirmDelete=!1}}},"rule-delete",e.$props,!1),e.$listeners)):e._e()],1):e._e()},jt=[],Rt={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("path",{attrs:{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}}),n("path",{attrs:{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"}})]))}},Nt={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("path",{attrs:{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}})]))}},$t={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},u),...p},r.concat([n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("rect",{attrs:{x:"2",y:"13",width:"8",height:"8",rx:"1"}}),n("rect",{attrs:{x:"14",y:"13",width:"8",height:"8",rx:"1"}}),n("g",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M8.625 6L5.812 9 3 6"}}),n("path",{attrs:{d:"M12 3H8.062c-1.242 0-2.25 1.075-2.25 2.4v2.403"}}),n("g",[n("path",{attrs:{d:"M12 3h3.938c1.242 0 2.25 1.075 2.25 2.4v3.606"}})])])])]))}},Tt={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},u),...p},r.concat([n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("rect",{attrs:{x:"2",y:"13",width:"8",height:"8",rx:"1"}}),n("rect",{attrs:{x:"14",y:"13",width:"8",height:"8",rx:"1"}}),n("g",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M15.375 6l2.813 3L21 6"}}),n("path",{attrs:{d:"M12 3h3.938c1.242 0 2.25 1.075 2.25 2.4v2.403"}})]),n("path",{attrs:{d:"M12 3H8.062c-1.242 0-2.25 1.075-2.25 2.4v3.612","stroke-linecap":"round","stroke-linejoin":"round"}})])]))}};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=function(e){this.excluded=e||[],this.recursivelyGetValues=function(e){var t=this;return e&&void 0!==e._v_?this.recursivelyGetValues(e._v_):Array.isArray(e)?e.slice(0,10).map((function(e){return t.recursivelyGetValues(e)})):this.isObject(e)?Object.keys(e).slice(0,10).reduce((function(n,a){return Kt({},n,Object(v["a"])({},a,t.recursivelyGetValues(e[a])))}),{}):e},this.getNewItemObject=function(e,t,n){var a,s={},r=!1;for(a in e)if(-1===this.excluded.indexOf(a)&&void 0!==e[a]){var i=this.getNewItem(e[a],void 0!==t?t[a]:void 0,void 0!==n?n[a]:void 0);s[a]=i,r=r||i._b_}return{_v_:s,_s_:JSON.stringify(this.recursivelyGetValues(s)),_b_:r}},this.getNewItemArray=function(e,t,n){var a=this,s=!1,r=[];return e.slice(0,1e3).forEach((function(e,i){var o=a.getNewItem(e,void 0!==t?t[i]:void 0,void 0!==n?n[i]:void 0);s=s||o._b_,r.push(o)})),{_v_:r,_s_:JSON.stringify(this.recursivelyGetValues(r)),_b_:s}},this.getNewItem=function(e,t,n){if(this.isObject(e))return this.getNewItemObject(e,t,n);if(Array.isArray(e))return this.getNewItemArray(e,t,n);var a=void 0!==n&&n.matchLevel&&"none"!==n.matchLevel,s=void 0!==t&&t.matchLevel&&"none"!==t.matchLevel,r=a?n.value:e,i=s?t.value:e;return{_b_:a,_v_:r,_rv_:i}},this.isObject=function(e){return e&&"object"===Object(r["a"])(e)&&e.constructor===Object},this.transformObj=function(e){return this.getNewItemObject(e,e._highlightResult,e._snippetResult)},this.getNewItemArraySimple=function(e,t){var n=this;return e.map((function(e,a){return n.getNewItemSimple(e,void 0!==t?t[a]:void 0)}))},this.getNewItemSimple=function(e,t){if(this.isObject(e))return this.getNewItemObjectSimple(e,t);if(Array.isArray(e))return this.getNewItemArraySimple(e,t);var n=void 0!==t&&void 0!==t.matchLevel;return n?t.value:e},this.getNewItemObjectSimple=function(e,t,n){var a={};for(var s in e)if(-1===this.excluded.indexOf(s)&&void 0!==e[s]){var r=this.getNewItemSimple(e[s],void 0!==t?t[s]:void 0,void 0!==n?n[s]:void 0);a[s]=r}return a},this.transformObjSimple=function(e){return this.getNewItemObjectSimple(e,e._highlightResult)}},Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"absolute z-10 -mt-4 bg-white px-8 py-4 shadow text-solstice-blue text-base border border-proton-grey rounded whitespace-no-wrap hidden group-hover:block",class:[e.position&&"center"!==e.position?"":"inset-x-auto-y-full","left"===e.position?"left-0 inset-y-full":"","right"===e.position?"right-0 -mr-48 inset-y-full":""]},[e._t("default")],2)},Ft=[],zt={name:"Tooltip",props:["position"]},qt=zt,Ht=Object(D["a"])(qt,Mt,Ft,!1,null,null,null),Bt=Ht.exports,Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.saving?e._e():n("div",{staticClass:"flex justify-end mt-16"},[n("button",{staticClass:"rounded bg-mars-1 shadow-sm hover:shadow transition-fast-out text-white p-8",on:{click:e.deleteRule}},[e._v("\n            Confirm Delete\n        ")]),n("button",{staticClass:"white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out px-16 p-8 ml-16",on:{click:function(t){return e.$emit("onStopDelete")}}},[e._v("\n            Cancel\n        ")])]),e.saving?n("div",{staticClass:"flex items-center justify-center text-nova-grey-opacity-80 py-16"},[n("loader-icon",{staticClass:"w-24 h-24 infinte-rotate"}),n("div",{staticClass:"ml-16"},[e._v("Deleting "+e._s(e.rule.objectID))])],1):e._e()])},Ut=[],Vt={name:"RuleDelete",props:["appId","apiKey","indexName","server","rule"],components:{LoaderIcon:j},data:function(){return{saving:!1}},methods:{deleteRule:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 2:return t=e.sent,e.next=5,t.deleteRule(this.rule.objectID);case 5:return n=e.sent,this.saving=!0,e.next=9,t.waitTask(n["taskID"]);case 9:this.saving=!1,this.$emit("onStopDelete"),this.$root.$emit("shouldTriggerSearch",this.indexName),this.$root.$emit("shouldTriggerRulesSearch",this.indexName);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Wt=Vt,Qt=Object(D["a"])(Wt,Lt,Ut,!1,null,null,null),Jt=Qt.exports,Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-moon-grey-opacity-50 border border-proton-grey-opacity-20"},[e.saving?e._e():n("div",[n("div",{staticClass:"w-full p-8"},[n("div",{staticClass:"py-8 flex flex-wrap items-center tracking-wide uppercase text-cosmos-black-opacity-70"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.objectID,expression:"newRule.objectID"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],staticClass:"input-custom inline",domProps:{value:e.newRule.objectID},on:{input:function(t){t.target.composing||e.$set(e.newRule,"objectID",t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newRule.enabled,expression:"newRule.enabled"}],staticClass:"ml-12 outline-none bg-white input-custom inline",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newRule,"enabled",t.target.multiple?n:n[0])}}},[n("option",{domProps:{value:!0}},[e._v("enabled")]),n("option",{domProps:{value:!1}},[e._v("disabled")])])]),n("div",{staticClass:"mt-16 py-8 flex flex-wrap items-center tracking-wide text-xs uppercase text-cosmos-black-opacity-70"},[e._v("\n                Condition\n            ")]),e.newRule.validity&&e.newRule.validity.length>0?n("div",{staticClass:"py-8 flex flex-wrap items-center border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212"},[e._v("validity periods")]),e._l(e.newRule.validity,(function(t){return n("div",[e._v("\n                    from\n                    "),n("span",[e._v("\n                            "+e._s(new Date(1e3*t.from).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))+"\n                    ")]),e._v("\n                    to\n                    "),n("span",[e._v("\n                            "+e._s(new Date(1e3*t.until).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))+"\n                    ")])])}))],2):e._e(),n("div",{staticClass:"py-8 flex flex-wrap items-center border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"flex flex-wrap items-center w-212"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.hasPatternAndAnchoring,expression:"newRule.hasPatternAndAnchoring"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.hasPatternAndAnchoring)?e._i(e.newRule.hasPatternAndAnchoring,null)>-1:e.newRule.hasPatternAndAnchoring},on:{change:function(t){var n=e.newRule.hasPatternAndAnchoring,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"hasPatternAndAnchoring",n.concat([r])):i>-1&&e.$set(e.newRule,"hasPatternAndAnchoring",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"hasPatternAndAnchoring",s)}}}),e._v("\n                        query\n                    ")]),e.newRule.hasPatternAndAnchoring?n("div",[n("div",{staticClass:"mx-4"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.newRule.anchoring,expression:"newRule.anchoring"}],staticClass:"bg-white input-custom inline",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newRule,"anchoring",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"contains"}},[e._v("contains")]),n("option",{attrs:{value:"is"}},[e._v("is")]),n("option",{attrs:{value:"startsWith"}},[e._v("startsWith")]),n("option",{attrs:{value:"endsWith"}},[e._v("endsWith")])])])]):e._e()]),e.newRule.hasPatternAndAnchoring?n("div",[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.pattern,expression:"newRule.pattern"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],staticClass:"input-custom inline w-full ",domProps:{value:e.newRule.pattern},on:{input:function(t){t.target.composing||e.$set(e.newRule,"pattern",t.target.value)}}})])]):e._e()]),n("div",{staticClass:"py-8 flex flex-wrap items-center border-t border-proton-grey-opacity-20"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.alternatives,expression:"newRule.alternatives"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.alternatives)?e._i(e.newRule.alternatives,null)>-1:e.newRule.alternatives},on:{change:function(t){var n=e.newRule.alternatives,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"alternatives",n.concat([r])):i>-1&&e.$set(e.newRule,"alternatives",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"alternatives",s)}}}),e._v(" match with alternatives\n                ")])]),n("div",{staticClass:"py-8 flex flex-wrap items-center border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212"},[e._v("context")]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.context,expression:"newRule.context"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],staticClass:"input-custom inline w-full ",domProps:{value:e.newRule.context},on:{input:function(t){t.target.composing||e.$set(e.newRule,"context",t.target.value)}}})])]),n("div",{staticClass:"mt-16 py-8 flex flex-wrap items-center tracking-wide text-xs uppercase text-cosmos-black-opacity-70"},[e._v("\n                Consequences\n            ")]),e.newRule.hasPatternAndAnchoring&&e.facetsInQuery.length>0?n("div",{staticClass:"py-8 flex flex-wrap items-center border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.hasAutomaticFilters,expression:"newRule.hasAutomaticFilters"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.hasAutomaticFilters)?e._i(e.newRule.hasAutomaticFilters,null)>-1:e.newRule.hasAutomaticFilters},on:{change:function(t){var n=e.newRule.hasAutomaticFilters,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"hasAutomaticFilters",n.concat([r])):i>-1&&e.$set(e.newRule,"hasAutomaticFilters",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"hasAutomaticFilters",s)}}}),e._v("\n                    filter automatically on\n                ")]),e.newRule.hasAutomaticFilters?n("div",e._l(e.potentialFilters,(function(t,a){return n("div",[n("input",{attrs:{type:"checkbox"},domProps:{checked:t},on:{input:function(t){return e.onAutomaticFilterChange(e.newRule.automaticFacetFilters,a,t.target.checked)}}}),e._v("\n                        "+e._s(a)+"\n                        "),t?n("span",[e._v("\n                            <score=\n                            "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.score,expression:"filter.score",modifiers:{number:!0}}],staticClass:"input-custom inline w-36",attrs:{type:"number",min:"1",max:"10"},domProps:{value:t.score},on:{input:function(n){n.target.composing||e.$set(t,"score",e._n(n.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v("\n                            >\n                            "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.disjunctive,expression:"filter.disjunctive"}],staticClass:"bg-white input-custom inline",on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"disjunctive",n.target.multiple?a:a[0])}}},[n("option",{domProps:{value:!1}},[e._v("Conjunctive (AND)")]),n("option",{domProps:{value:!0}},[e._v("Disjunctive (OR)")])])]):e._e()])})),0):e._e()]):e._e(),e.newRule.hasPatternAndAnchoring&&e.facetsInQuery.length>0?n("div",{staticClass:"py-8 flex flex-wrap items-center border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.hasAutomaticOptionalFilters,expression:"newRule.hasAutomaticOptionalFilters"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.hasAutomaticOptionalFilters)?e._i(e.newRule.hasAutomaticOptionalFilters,null)>-1:e.newRule.hasAutomaticOptionalFilters},on:{change:function(t){var n=e.newRule.hasAutomaticOptionalFilters,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"hasAutomaticOptionalFilters",n.concat([r])):i>-1&&e.$set(e.newRule,"hasAutomaticOptionalFilters",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"hasAutomaticOptionalFilters",s)}}}),e._v("\n                    optionalFilter automatically on\n                ")]),e.newRule.hasAutomaticOptionalFilters?n("div",e._l(e.potentialOptionalFilters,(function(t,a){return n("div",[n("input",{attrs:{type:"checkbox"},domProps:{checked:t},on:{input:function(t){return e.onAutomaticFilterChange(e.newRule.automaticOptionalFacetFilters,a,t.target.checked)}}}),e._v("\n                        "+e._s(a)+"\n                        "),t?n("span",[e._v("\n                            <score=\n                            "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.score,expression:"filter.score",modifiers:{number:!0}}],staticClass:"input-custom inline w-36",attrs:{type:"number",min:"1",max:"10"},domProps:{value:t.score},on:{input:function(n){n.target.composing||e.$set(t,"score",e._n(n.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v("\n                            >\n                            "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.disjunctive,expression:"filter.disjunctive"}],staticClass:"bg-white input-custom inline",on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"disjunctive",n.target.multiple?a:a[0])}}},[n("option",{domProps:{value:!1}},[e._v("Conjunctive (AND)")]),n("option",{domProps:{value:!0}},[e._v("Disjunctive (OR)")])])]):e._e()])})),0):e._e()]):e._e(),e.newRule.hasPatternAndAnchoring?n("div",{staticClass:"py-8 flex flex-wrap items-center border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.hasReplacedQuery,expression:"newRule.hasReplacedQuery"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.hasReplacedQuery)?e._i(e.newRule.hasReplacedQuery,null)>-1:e.newRule.hasReplacedQuery},on:{change:function(t){var n=e.newRule.hasReplacedQuery,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"hasReplacedQuery",n.concat([r])):i>-1&&e.$set(e.newRule,"hasReplacedQuery",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"hasReplacedQuery",s)}}}),e._v("\n                    replace query by\n                ")]),e.newRule.hasReplacedQuery?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.replacedQuery,expression:"newRule.replacedQuery"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],staticClass:"input-custom inline ",attrs:{placeholder:"new query"},domProps:{value:e.newRule.replacedQuery},on:{input:function(t){t.target.composing||e.$set(e.newRule,"replacedQuery",t.target.value)}}})]):e._e()]):e._e(),e.newRule.hasPatternAndAnchoring?n("div",{staticClass:"py-8 flex flex-wrap items-center border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212",class:e.newRule.hasReplacedQuery?"text-cosmos-black-opacity-30":""},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.hasRemovedWordsFromQuery,expression:"newRule.hasRemovedWordsFromQuery"}],attrs:{disabled:e.newRule.hasReplacedQuery,type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.hasRemovedWordsFromQuery)?e._i(e.newRule.hasRemovedWordsFromQuery,null)>-1:e.newRule.hasRemovedWordsFromQuery},on:{change:function(t){var n=e.newRule.hasRemovedWordsFromQuery,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"hasRemovedWordsFromQuery",n.concat([r])):i>-1&&e.$set(e.newRule,"hasRemovedWordsFromQuery",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"hasRemovedWordsFromQuery",s)}}}),e._v("\n                    remove from query\n                ")]),!e.newRule.hasReplacedQuery&&e.newRule.hasRemovedWordsFromQuery?n("div",e._l(e.newRule.removedWordsFromQuery,(function(t,a){return n("span",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.removedWordsFromQuery[a],expression:"newRule.removedWordsFromQuery[i]"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],ref:"remove-"+a+"-0",refInFor:!0,staticClass:"mr-4 input-custom inline ",attrs:{placeholder:"removed word"},domProps:{value:e.newRule.removedWordsFromQuery[a]},on:{keydown:function(t){return e.onKeyDown(t,e.newRule.removedWordsFromQuery,a,"",0,"remove")},input:function(t){t.target.composing||e.$set(e.newRule.removedWordsFromQuery,a,t.target.value)}}})])})),0):e._e()]):e._e(),e.newRule.hasPatternAndAnchoring?n("div",{staticClass:"py-8 flex flex-wrap items-center border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212",class:e.newRule.hasReplacedQuery?"text-cosmos-black-opacity-30":""},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.hasReplacedWordsFromQuery,expression:"newRule.hasReplacedWordsFromQuery"}],attrs:{disabled:e.newRule.hasReplacedQuery,type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.hasReplacedWordsFromQuery)?e._i(e.newRule.hasReplacedWordsFromQuery,null)>-1:e.newRule.hasReplacedWordsFromQuery},on:{change:function(t){var n=e.newRule.hasReplacedWordsFromQuery,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"hasReplacedWordsFromQuery",n.concat([r])):i>-1&&e.$set(e.newRule,"hasReplacedWordsFromQuery",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"hasReplacedWordsFromQuery",s)}}}),e._v("\n                    replace in query\n                ")]),!e.newRule.hasReplacedQuery&&e.newRule.hasReplacedWordsFromQuery?n("div",e._l(e.newRule.replacedWordsFromQuery,(function(t,a){return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.replacedWordsFromQuery[a][0],expression:"newRule.replacedWordsFromQuery[i][0]"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],ref:"replace-"+a+"-0",refInFor:!0,staticClass:"input-custom inline ",attrs:{placeholder:"removed word"},domProps:{value:e.newRule.replacedWordsFromQuery[a][0]},on:{keydown:function(t){return e.onKeyDown(t,e.newRule.replacedWordsFromQuery,a,["",""],0,"replace")},input:function(t){t.target.composing||e.$set(e.newRule.replacedWordsFromQuery[a],0,t.target.value)}}}),e._v("\n                        =>\n                        "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.replacedWordsFromQuery[a][1],expression:"newRule.replacedWordsFromQuery[i][1]"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],ref:"replace-"+a+"-1",refInFor:!0,staticClass:"input-custom inline ",attrs:{placeholder:"replaced word"},domProps:{value:e.newRule.replacedWordsFromQuery[a][1]},on:{keydown:function(t){return e.onKeyDown(t,e.newRule.replacedWordsFromQuery,a,["",""],1,"replace")},input:function(t){t.target.composing||e.$set(e.newRule.replacedWordsFromQuery[a],1,t.target.value)}}})])})),0):e._e()]):e._e(),e.newRule.hasPatternAndAnchoring?n("div",[n("div",{staticClass:"py-8 flex border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.hasPromote,expression:"newRule.hasPromote"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.hasPromote)?e._i(e.newRule.hasPromote,null)>-1:e.newRule.hasPromote},on:{change:function(t){var n=e.newRule.hasPromote,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"hasPromote",n.concat([r])):i>-1&&e.$set(e.newRule,"hasPromote",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"hasPromote",s)}}}),e._v("\n                        promote\n                    ")]),e.newRule.hasPromote?n("div",{staticClass:"flex-grow"},[e._l(e.newRule.promote,(function(t,a){return n("div",{key:t.objectID,staticClass:"flex w-full mb-12"},[n("promoted-hit",e._g(e._b({staticClass:"w-200",attrs:{id:e.newRule.promote[a].objectID}},"promoted-hit",e.$props,!1),e.$listeners)),n("div",{staticClass:"ml-12"},[e._v("\n                                position\n                                "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newRule.promote[a].position,expression:"newRule.promote[i].position",modifiers:{number:!0}}],staticClass:"input-custom inline w-48",attrs:{type:"number",min:"0",max:"1000"},domProps:{value:e.newRule.promote[a].position},on:{input:function(t){t.target.composing||e.$set(e.newRule.promote[a],"position",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"ml-4 w-12 h-12"},[n("trash-icon",{staticClass:"w-full h-full ml-4 cursor-pointer text-cosmos-black-opacity-70",on:{click:function(t){return e.deletePromote(a)}}})],1)],1)})),n("div",{staticClass:"mt-24 mb-12"},[n("hit-autocomplete",e._g(e._b({attrs:{params:{hitsPerPage:4,enableRules:!1},value:"",placeholder:"Search for a new hit to promote","display-empty-query":!0},on:{onSelected:e.addPromote}},"hit-autocomplete",e.$props,!1),e.$listeners))],1)],2):e._e()]),e.newRule.hasPromote?n("div",{staticClass:"py-8 flex border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.filterPromotes,expression:"newRule.filterPromotes"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.filterPromotes)?e._i(e.newRule.filterPromotes,null)>-1:e.newRule.filterPromotes},on:{change:function(t){var n=e.newRule.filterPromotes,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"filterPromotes",n.concat([r])):i>-1&&e.$set(e.newRule,"filterPromotes",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"filterPromotes",s)}}}),e._v("\n                        promote follow filters\n                    ")])]):e._e()]):e._e(),n("div",{staticClass:"py-8 flex border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.hasHide,expression:"newRule.hasHide"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.hasHide)?e._i(e.newRule.hasHide,null)>-1:e.newRule.hasHide},on:{change:function(t){var n=e.newRule.hasHide,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"hasHide",n.concat([r])):i>-1&&e.$set(e.newRule,"hasHide",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"hasHide",s)}}}),e._v("\n                    hide\n                ")]),e.newRule.hasHide?n("div",[e._l(e.newRule.hide,(function(t,a){return n("div",{staticClass:"flex w-full mb-12"},[n("promoted-hit",e._g(e._b({staticClass:"w-200",attrs:{id:e.newRule.hide[a].objectID}},"promoted-hit",e.$props,!1),e.$listeners)),n("div",{staticClass:"ml-4 w-12 h-12"},[n("trash-icon",{staticClass:"w-full h-full ml-4 cursor-pointer text-cosmos-black-opacity-70",on:{click:function(t){return e.deleteHide(a)}}})],1)],1)})),n("div",{staticClass:"mt-24 mb-12"},[n("hit-autocomplete",e._g(e._b({attrs:{params:{hitsPerPage:4,enableRules:!1},value:"",placeholder:"Search for a new hit to hide","display-empty-query":!0},on:{onSelected:e.addHide}},"hit-autocomplete",e.$props,!1),e.$listeners))],1)],2):e._e()]),n("div",{staticClass:"py-8 flex border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.hasParams,expression:"newRule.hasParams"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.hasParams)?e._i(e.newRule.hasParams,null)>-1:e.newRule.hasParams},on:{change:function(t){var n=e.newRule.hasParams,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"hasParams",n.concat([r])):i>-1&&e.$set(e.newRule,"hasParams",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"hasParams",s)}}}),e._v("\n                    apply params\n                ")]),e.newRule.hasParams?n("div",{staticClass:"flex-grow"},[n("params",{attrs:{id:e.appId+"-"+e.indexName+"-qr-"+e.rule.objectID,"config-key":"searchParams",params:e.newRule.editableParams,"ref-params":e.newRule.editableParams,"raw-params":e.newRule.editableParams,keys:Object.keys(e.newRule.editableParams),"keys-indexer":e.keysIndexer,mutate:!0}})],1):e._e()]),n("div",{staticClass:"py-8 flex border-t border-proton-grey-opacity-20"},[n("div",{staticClass:"w-212"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRule.hasUserData,expression:"newRule.hasUserData"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newRule.hasUserData)?e._i(e.newRule.hasUserData,null)>-1:e.newRule.hasUserData},on:{change:function(t){var n=e.newRule.hasUserData,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.newRule,"hasUserData",n.concat([r])):i>-1&&e.$set(e.newRule,"hasUserData",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.newRule,"hasUserData",s)}}}),e._v("\n                    userData\n                ")]),e.newRule.hasUserData?n("div",{staticClass:" flex-grow"},[n("ace-editor",{attrs:{id:e.appId+"-"+e.indexName+"-userdata-"+e.rule.objectID,styles:{height:"60px"},"default-value":JSON.stringify(e.newRule.userData||{},0,2),"on-change":e.onChangeUserData,"on-validate":e.onValidateUserData}})],1):e._e()])]),n("div",{staticClass:"flex justify-end my-16"},[e.saveError?n("div",{staticClass:"border border-mars-1 mr-8 p-8 rounded"},[e._v("\n                "+e._s(e.saveError)+"\n            ")]):e._e(),e.canBeSaved?n("button",{staticClass:"bg-white rounded border border-saturn-2 text-saturn-1 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm",on:{click:e.save}},[e._v("\n                Save\n            ")]):e._e(),n("button",{staticClass:"bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm",on:{click:function(t){return e.$emit("onStopEdit")}}},[e._v("\n                Cancel\n            ")])])]),e.saving?n("div",{staticClass:"flex items-center justify-center text-nova-grey-opacity-80 py-48"},[n("loader-icon",{staticClass:"w-24 h-24 infinte-rotate"}),n("div",{staticClass:"ml-16"},[e._v("Saving "+e._s(e.newRule.objectID))])],1):e._e()])},Xt=[],Zt=(n("0e30"),n("288e"),n("bd3b")),Yt=n.n(Zt),en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-30"},[n("div",{style:e.styles,attrs:{id:e.id}})])},tn=[],nn=n("9278"),an=n.n(nn),sn=(n("babf"),n("06da"),{name:"AceEditor",props:["id","styles","onChange","onValidate","defaultValue"],mounted:function(){var e=this;this.editor=an.a.edit(this.id),this.editor.getSession().on("changeAnnotation",(function(){var t=e.editor.getSession().getAnnotations();e.$props.onValidate(t)})),this.editor["$blockScrolling"]=!0,this.editor.getSession().setMode("ace/mode/json"),this.editor.setTheme("ace/theme/chrome"),this.editor.setFontSize(12),this.editor.getSession().setValue(JSON.parse(JSON.stringify(this.defaultValue)),0),this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(!0),this.editor.getSession().setUseWrapMode(!0),this.editor.setShowPrintMargin(!0),this.editor.on("change",(function(){e.onChange(e.editor.getValue())}))}}),rn=sn,on=(n("b980"),Object(D["a"])(rn,en,tn,!1,null,null,null)),ln=on.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",e._l(e.keys,(function(t,a){return n("div",{key:t},[n("param-value",{ref:t,refInFor:!0,attrs:{id:e.id,"panel-key":e.panelKey,"input-key":t,"config-key":e.configKey,"keys-indexer":e.keysIndexer,"set-param-value":e.setParamValue,"add-array-element":e.addArrayElement,"delete-array-element":e.deleteArrayElement,"set-param-enabled":e.setParamEnabled,"delete-key":e.deleteKey,"restore-key":e.restoreKey,param:e.params[t],"ref-param":e.refParams[t],"raw-param":e.rawParams[t],"is-last-element":a===e.keys.length-1}})],1)})),0),n("input-param-name",{class:e.keys.length>0?"mt-8":"",attrs:{id:e.id,"input-key":"root","config-key":e.configKey,"set-param-value":e.setParamValue,"display-value":"indexSettings"===e.configKey?"Add index settings":"Add search param"}})],1)},un=[],pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"group",class:e.statusClasses},[n("div",{staticClass:"flex hover:bg-proton-grey-opacity-40 p-1"},[n("div",{staticClass:"flex flex-wrap w-full",staticStyle:{"max-width":"calc(100% - 51px)"}},[n("div",{staticClass:"truncate max-w-full",staticStyle:{"max-width":"calc(100% - 20px)"}},[e._v('\n                "'+e._s(e.inputKey)+"\n            ")]),n("div",[e._v('"')]),n("div",{staticClass:"ml-1"},[e._v(":")]),Array.isArray(e.param.value)?n("div",{staticClass:"ml-4"},[e._v("[")]):e._e(),e.isObject(e.param.value)?n("div",{staticClass:"ml-4"},[e._v("{")]):e._e(),Array.isArray(e.param.value)||e.isObject(e.param.value)?e._e():n("input-value",e._b({staticClass:"ml-4 max-w-full cursor-pointer",class:0===e.statusClasses.length?-1===["number","boolean"].indexOf(typeof e.param.value)?"text-cosmos-black-opacity-70":"text-neptune-1":e.statusClasses,attrs:{value:e.param.value,"param-spec":e.paramSpec}},"input-value",e.$props,!1))],1),n("div",{staticClass:"ml-auto justify-end flex invisible group-hover:visible"},[e.panelKey&&"indexSettings"!==e.configKey?n("input",{directives:[{name:"model",rawName:"v-model",value:e.enabled,expression:"enabled"}],staticClass:"ml-4",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.enabled)?e._i(e.enabled,null)>-1:e.enabled},on:{change:function(t){var n=e.enabled,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&(e.enabled=n.concat([r])):i>-1&&(e.enabled=n.slice(0,i).concat(n.slice(i+1)))}else e.enabled=s}}}):e._e(),e.panelKey&&"deleted"!==e.status&&e.paramCamJump?n("div",{staticClass:"ml-4",on:{click:function(t){return e.$store.commit("panels/jumpParamValue",{panelKey:e.panelKey,configKey:e.configKey,inputKey:e.inputKey})}}},["leftPanel"===e.panelKey?n("flip-right-icon",{staticClass:"w-12 h-12 fill-current cursor-pointer"}):n("flip-left-icon",{staticClass:"w-12 h-12 fill-current cursor-pointer"})],1):e._e(),"same"!==e.status&&"added"!==e.status&&"indexSettings"===e.configKey?n("history-icon",{staticClass:"ml-4 w-12 h-12 cursor-pointer fill-current",on:{click:function(t){return e.restoreKey(e.inputKey)}}}):e._e(),"deleted"!==e.status?n("trash-icon",{staticClass:"ml-4 w-12 h-12 cursor-pointer",on:{click:function(t){return e.deleteKey(e.inputKey)}}}):e._e()],1)]),n("div",{staticClass:"pl-4"},[e.isObject(e.param.value)?n("div",[n("input-value",e._b({staticClass:"break-words cursor-pointer",attrs:{value:e.param.value,"param-spec":e.paramSpec,status:e.status}},"input-value",e.$props,!1))],1):e._e(),Array.isArray(e.param.value)?n("div",{staticClass:"pl-12",class:0===e.statusClasses.length?"text-cosmos-black-opacity-70":e.statusClasses},[e.collapseBigArrays&&e.param.value.length>10?n("div",{staticClass:"cursor-pointer",on:{click:function(t){e.collapseBigArrays=!1}}},[e._v("\n                ... "),n("span",{staticClass:"text-proton-grey"},[e._v("("+e._s(e.param.value.length)+" values)")])]):n("draggable",{staticClass:"flex",attrs:{disabled:"deleted"===e.status},model:{value:e.param.value,callback:function(t){e.$set(e.param,"value",t)},expression:"param.value"}},[n("transition-group",{staticClass:"w-full"},e._l(e.param.value,(function(t,a){return n("div",{key:a-1,staticClass:"relative flex group w-full hover:bg-proton-grey-opacity-40 p-1"},[n("input-value",e._b({staticClass:"break-words cursor-pointer",staticStyle:{"max-width":"calc(100% - 16px)"},attrs:{value:e.param.value[a],"param-spec":e.paramSpec,"current-index":a}},"input-value",e.$props,!1)),"deleted"!==e.status?n("trash-icon",{staticClass:"w-12 h-12 ml-auto cursor-pointer invisible group-hover:visible",on:{click:function(t){return e.deleteArrayElement(e.inputKey,a)}}}):e._e()],1)})),0)],1),"deleted"!==e.status?n("button",{staticClass:"bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-8 p-4 text-sm mt-4",on:{click:function(t){return e.addArrayElement(e.inputKey)}}},[e._v("\n                +\n            ")]):e._e()],1):e._e(),Array.isArray(e.param.value)?n("div",[e._v("]")]):e._e(),e.isObject(e.param.value)?n("div",[e._v("}")]):e._e()])])},dn=[],hn=n("b8ca"),mn=n.n(hn),fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isEditable||e.isForwardableComponent?e._e():n("div",{staticClass:"break-all",on:{click:function(t){return e.makeEditable()}}},[e._t("default",[e._v("\n            "+e._s(e.displayValue||JSON.stringify(e.value))+"\n        ")])],2),e.isEditable||e.isForwardableComponent?n(e.getComponent,e._b({tag:"component",class:"param-"+e.id+"-"+e.inputKeySlug,attrs:{"param-spec":e.paramSpec}},"component",e.$props,!1)):e._e()],1)},yn=[],gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"param-"+e.id+"-root"},[e.isEditable?e._e():n("div",{on:{click:function(t){return e.inputState.setInput("root")}}},["root"===e.inputKey?n("button",{staticClass:"bg-white border border-b-0 border-proton-grey-opacity-40 rounded shadow-sm hover:shadow transition-fast-out px-16 p-8 text-sm"},[e._v("\n            "+e._s(e.displayValue)+"\n        ")]):e._e(),"root"!==e.inputKey?n("div",[e._v(e._s(JSON.stringify(e.inputKey))+": ")]):e._e()]),e.isEditable?n("algolia-autocomplete",{attrs:{"app-id":"AJ0P3S7DWQ","api-key":"90dfaaf5755e694f341fe68f6e41a6d4","index-name":"metaparams","display-empty-query":"root"!==e.inputKey,"display-attribute-name":"camel_case_label","search-params":Object.assign({},{hitsPerPage:4},e.searchFilters)},on:{onSelected:e.onSelected,onBlur:function(t){return e.inputState.setInput("none")}}}):e._e()],1)},vn=[],bn=(n("c880"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("autocomplete",e._g({ref:"autocomplete",attrs:{items:e.items,refine:e.refine,value:e.value,"display-empty-query":e.displayEmptyQuery,"empty-search-for-query-equals-value":!0},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.index,s=t.item;return[e._t("default",[n("div",{domProps:{innerHTML:e._s(s._highlightResult[e.displayAttributeName]?s._highlightResult[e.displayAttributeName].value:s[e.displayAttributeName])}})],{index:a,item:s})]}}],null,!0)},e.$listeners))],1)}),xn=[],_n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative"},[e.noAutoWidth?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],ref:"input",class:e.inputClasses?e.inputClasses:"input input-custom",attrs:{placeholder:e.placeholder||""},domProps:{value:e.query},on:{input:[function(t){t.target.composing||(e.query=t.target.value)},function(t){e.selectedIndex=-1}],keyup:e.onKeyUp,focus:function(t){e.focused=!0},blur:e.onBlur,keydown:e.onKeyDown}}),e.noAutoWidth?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",class:e.inputClasses?e.inputClasses:"input input-custom",attrs:{placeholder:e.placeholder||""},domProps:{value:e.query},on:{input:[function(t){t.target.composing||(e.query=t.target.value)},function(t){e.$emit("input",t.target.value),e.selectedIndex=-1}],keyup:e.onKeyUp,focus:function(t){e.focused=!0},blur:e.onBlur,keydown:e.onKeyDown}}):e._e(),e.focused&&(e.query.length>0||e.displayEmptyQuery)?n("div",{staticClass:"shadow mt-4 absolute z-10 bg-white dropdown"},e._l(e.items,(function(t,a){return n("div",{staticClass:"p-8 cursor-pointer border border-transparent",class:e.selectedIndex===a?"bg-nebula-blue text-white hover:bg-nebula-blue hover:text-white":"",on:{click:function(t){return e.click(t,a)},mousedown:e.mouseDown,mousemove:function(t){e.selectedIndex=a},mouseleave:function(t){e.selectedIndex=-1}}},[e._t("item",null,{index:a,item:t})],2)})),0):e._e()])},wn=[],kn={name:"autocomplete",props:["items","refine","value","displayEmptyQuery","placeholder","inputClasses","emptySearchForQueryEqualsValue","noAutoWidth"],data:function(){var e="";return void 0!==this.value&&null!==this.value&&(e=this.value.toString()),{query:e,selectedIndex:-1,allowBlur:!0,focused:!1}},directives:{autowidth:Yt.a},mounted:function(){this.refine(this.currentQuery)},computed:{currentQuery:function(){var e=void 0!==this.value&&null!==this.value?this.value.toString():null;return this.emptySearchForQueryEqualsValue&&this.query===e?"":this.query}},methods:{click:function(e,t){this.selectedIndex=t,this.onSelected(e),this.allowBlur=!0,this.focused=!1,this.$refs.input.blur()},mouseDown:function(e){e.preventDefault(),this.allowBlur=!1},onBlur:function(e){this.allowBlur&&this.$emit("onBlur",e),this.focused=!1},onKeyDown:function(e){9===e.which&&(e.preventDefault(),e.stopImmediatePropagation()),38!==e.which&&40!==e.which||e.preventDefault()},onKeyUp:function(e){var t;if(13===e.which||9===e.which||38===e.which||40===e.which)return e.preventDefault(),e.stopImmediatePropagation(),13!==e.which&&9!==e.which||this.onSelected(e),38===e.which&&(t=this.selectedIndex-1,t<0&&(t=this.items.length-1),this.selectedIndex=t),40===e.which&&(t=this.selectedIndex+1,t>this.items.length-1&&(t=0),this.selectedIndex=t),!1},onSelected:function(e){this.allowBlur=!1,-1!==this.selectedIndex&&this.items.length>0?this.$emit("onSelected",this.items[this.selectedIndex],e):this.$emit("onSelected",this.query,e),this.$refs.input.blur(),this.query="",this.selectedIndex=0!==this.query.length||this.displayEmptyQuery?0:-1}},watch:{value:function(e){e!==this.query&&(this.query=e)},currentQuery:function(e){this.refine(e)}}},In=kn,Cn=Object(D["a"])(In,_n,wn,!1,null,null,null),An=Cn.exports,Pn={name:"AlgoliaAutocomplete",components:{Autocomplete:An},props:["indexName","searchParams","displayAttributeName","value","displayEmptyQuery","appId","apiKey"],data:function(){return{items:[]}},computed:{algoliaIndex:function(){return ve()(this.appId,this.apiKey).initIndex(this.indexName)}},methods:{refine:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.algoliaIndex.search(t,this.searchParams||{});case 2:n=e.sent,this.items=n.hits;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.refine("")}},Sn=Pn,On=Object(D["a"])(Sn,bn,xn,!1,null,null,null),jn=On.exports,Rn=function(e){this.id=e,this.inputKey=null,this.positionKey=null,this.setInput=function(e,t){var n=this;this.inputKey=void 0!==e?e:null,this.positionKey=void 0!==t?t:null,a["default"].nextTick((function(){var e=n.inputKey.replace(/=/g,""),t=document.querySelector(".param-".concat(n.id,"-").concat(e," .input"));t&&(t.focus(),t.setSelectionRange&&"number"!==t.type&&t.setSelectionRange(0,t.value.length))}))}},Nn={},$n=function(e){return Nn[e]||(Nn[e]=new Rn(e)),Nn[e]},Tn=function(e){return e&&"object"===Object(r["a"])(e)&&e.constructor===Object},Dn={props:["id","param","configKey","inputKey","currentIndex","displayValue","setInput","setParamValue","addArrayElement","deleteArrayElement","deleteKey","restoreKey","keysIndexer","getValue","setValue","paramSpec","status","preventNextInput","customOnBlur"],data:function(){return{canBlur:!1,inputState:$n(this.id)}},mounted:function(){var e=this;this.$nextTick((function(){e.canBlur=!0}))},computed:{inputKeySlug:function(){return this.inputKey.replace(/=/g,"")},value:{get:function(){return void 0!==this.getValue?this.getValue:Array.isArray(this.param.value)?this.param.value[this.currentIndex]:this.param.value},set:function(e){if(void 0!==this.setValue)return this.setValue(e,this.value);var t=e;Array.isArray(this.param.value)&&(t=this.param.value,t[this.currentIndex]=e),this.setParamValue(this.inputKey,t)}}},methods:{onBlur:function(){this.canBlur&&(this.removeEmptyElementInArray(),this.inputState.setInput("none"))},prevInput:function(){if("none"!==this.inputState.inputKey){if(this.param&&Array.isArray(this.param.value)){var e=this.currentIndex;0===this.param.value[e].length&&this.deleteArrayElement(this.inputState.inputKey,e)}return this.param&&Tn(this.param.value)&&this.removeEmptyElementInObject(),this.inputState.setInput("none")}},nextInput:function(e){if(e&&9===e.keyCode&&e.shiftKey)return this.prevInput(e);if("none"!==this.inputState.inputKey){if("root"===this.inputState.inputKey)return this.inputState.setInput("none");if(Array.isArray(this.param.value)){var t=this.currentIndex;if(this.param.value[t]&&0!==this.param.value[t].length)return this.addArrayElement(this.inputState.inputKey);this.deleteArrayElement(this.inputState.inputKey,t)}if(!Tn(this.param.value))return this.inputState.setInput("root")}},removeEmptyElementInArray:function(){var e=this;Array.isArray(this.param.value)&&this.param.value.forEach((function(t,n){t&&0!==t.length||e.deleteArrayElement(e.inputState.inputKey,n)}))},removeEmptyElementInObject:function(){this.deleteArrayElement(this.inputState.inputKey,"")}}},Kn=function(e){return e&&"object"===Object(r["a"])(e)&&e.constructor===Object},En={name:"InputParamName",components:{AlgoliaAutocomplete:jn},mixins:[Dn],props:["id","configKey","inputKey","displayValue","setParamValue"],computed:{isEditable:function(){return this.inputState.inputKey===this.inputKey},searchFilters:function(){return this.configKey.startsWith("searchParams")?{filters:"scope:search"}:{filters:"scope:settings"}}},methods:{onSelected:function(e,t){var n=this;if(e){if(("string"===typeof e||e instanceof String)&&e.trim().startsWith("{"))try{var a=JSON.parse(e);return Object.keys(a).map((function(e){n.setParamValue(e,a[e])})),this.inputState.setInput("none")}catch(t){}if("object"===e.value_type&&(e.type="param"),"value"!==e.type){if("integer"===e.value_type)return this.setParamValue(e.name,e.default),this.inputState.setInput(e.name);if("param"===e.type){var s=JSON.parse(JSON.stringify(fe[e.param_name].default));return Array.isArray(s)?(s.push(""),this.setParamValue(e.param_name,s),this.inputState.setInput(e.param_name,s.length-1)):(Kn(s),this.setParamValue(e.param_name,s),this.inputState.setInput(e.param_name))}return this.setParamValue(e,""),this.inputState.setInput(e)}if(-1!==["enum","boolean"].indexOf(e.value_type))return this.setParamValue(e.param_name,e.name);if("enum_list"===e.value_type)return this.setParamValue(e.param_name,[e.name,""]),this.inputState.setInput(e.param_name,1)}return this.nextInput(t)}}},Mn=En,Fn=Object(D["a"])(Mn,gn,vn,!1,null,null,null),zn=Fn.exports,qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("algolia-autocomplete",{ref:"algoliaautocomplete",attrs:{"app-id":"AJ0P3S7DWQ","api-key":"90dfaaf5755e694f341fe68f6e41a6d4","index-name":"metaparams","display-empty-query":!0,"display-attribute-name":"display_name",value:e.value,"search-params":{hitsPerPage:8,filters:"type:value AND param_name:'"+e.inputKey+"'"}},on:{onSelected:e.onSelected,onBlur:e.onBlur}})},Hn=[],Bn={name:"InputParamValue",components:{AlgoliaAutocomplete:jn},mixins:[Dn],methods:{onBlur:function(){if(this.customOnBlur)return this.customOnBlur();this.removeEmptyElementInArray(),this.inputState.setInput("none")},onSelected:function(e,t){void 0!==e.name?this.value=e.name:this.value=e,this.preventNextInput||this.nextInput(t)}}},Ln=Bn,Un=Object(D["a"])(Ln,qn,Hn,!1,null,null,null),Vn=Un.exports,Wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],ref:"input",staticClass:"input",attrs:{type:"number",min:void 0!==e.paramSpec.min?e.paramSpec.min:"",max:void 0!==e.paramSpec.max?e.paramSpec.max:""},domProps:{value:e.value},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),e.canBlur=!1},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;t.preventDefault(),e.canBlur=!1}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.nextInput(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.nextInput(t))}],blur:[e.onBlur,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.value=e._n(t.target.value))}}}),e.paramSpec.default===e.value?n("span",[e._v("(Default)")]):e._e()])},Qn=[],Jn={name:"InputInteger",mixins:[Dn],props:["paramSpec"]},Gn=Jn,Xn=Object(D["a"])(Gn,Wn,Qn,!1,null,null,null),Zn=Xn.exports,Yn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],ref:"input",staticClass:"input input-custom max-w-full",domProps:{value:e.value},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),e.canBlur=!1},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;t.preventDefault(),e.canBlur=!1}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.nextInput(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.nextInput(t))}],blur:e.onBlur,input:function(t){t.target.composing||(e.value=t.target.value)}}})])},ea=[],ta={name:"InputString",mixins:[Dn],directives:{autowidth:Yt.a}},na=ta,aa=Object(D["a"])(na,Yn,ea,!1,null,null,null),sa=aa.exports,ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative h-100 w-256"},[n("pre",{ref:"pre",staticClass:"filter overflow-y-auto whitespace-pre-wrap absolute top-0 block w-full h-full bg-white text-telluric-blue resize-none shadow-none outline-none p-0 border-none font-mono text-base",domProps:{innerHTML:e._s(e.parsedValue)}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"input",staticClass:"input absolute top-0 block w-full h-full bg-transparent text-transparent caret-color-cosmos-black resize-none shadow-none outline-none p-0 border-none font-mono text-base",attrs:{spellcheck:"false"},domProps:{value:e.value},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.nextInput(t))}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.nextInput(t))},scroll:function(t){e.$refs.pre.scrollTop=e.$refs.input.scrollTop},blur:function(t){return e.inputState.setInput("none")},input:function(t){t.target.composing||(e.value=t.target.value)}}})])},ia=[],oa=n("f374"),la=n.n(oa),ca={name:"InputFilters",mixins:[Dn],data:function(){return{parser:new la.a}},computed:{parsedValue:function(){return this.parser.parse(this.value).html}}},ua=ca,pa=Object(D["a"])(ua,ra,ia,!1,null,null,null),da=pa.exports,ha=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("autocomplete",{ref:"autocomplete",attrs:{items:e.items,refine:e.refine,value:e.value,"display-empty-query":!0,"empty-search-for-query-equals-value":!0},on:{onSelected:e.onSelected,onBlur:e.onBlur},scopedSlots:e._u([{key:"item",fn:function(t){t.index;var a=t.item;return[n("div",{domProps:{innerHTML:e._s(a)}})]}}])})},ma=[],fa={name:"InputAttribute",components:{Autocomplete:An},mixins:[Dn],props:["paramSpec"],data:function(){return{items:[],extraAttrs:this.paramSpec.values||[]}},watch:{keysIndexer:function(){this.refine(this.value)}},methods:{onBlur:function(){if(this.customOnBlur)return this.customOnBlur();this.removeEmptyElementInArray(),this.inputState.setInput("none")},onSelected:function(e,t){null!==e&&(this.value=e),this.nextInput(t)},refine:function(e){var t=this;if(this.keysIndexer){var n=this.keysIndexer.search(e,4,this.extraAttrs);if(this.paramSpec.modifiers){var a=[];n.forEach((function(e){t.paramSpec.modifiers.forEach((function(t){var n=e;t.length>0&&(n="".concat(t,"(").concat(n,")")),a.push(n)}))})),n=a}this.extraAttrs.forEach((function(t){t.includes(e)&&n.push(t)})),this.items=n}}}},ya=fa,ga=Object(D["a"])(ya,ha,ma,!1,null,null,null),va=ga.exports,ba=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(Object.keys(e.value),(function(t){return n("div",{staticClass:"pl-12"},[n("div",{staticClass:"flex hover:bg-proton-grey-opacity-40 p-1"},[n("div",[e.inputState.positionKey==="key."+t?n("input-param-value",e._b({attrs:{"get-value":t,"set-value":e.setLanguage,"param-spec":e.paramSpec.key,"prevent-next-input":!0,"custom-on-blur":e.onBlur}},"input-param-value",e.$props,!1)):n("div",{on:{click:function(n){return e.inputState.setInput(e.inputKey,"key."+t)}}},[e._v("\n                    "+e._s(JSON.stringify(t))+"\n                ")])],1),n("div",[e._v(": [")]),"deleted"!==e.status?n("trash-icon",{staticClass:"w-12 h-12 ml-auto cursor-pointer invisible group-hover:visible",on:{click:function(n){return e.deleteLanguage(t)}}}):e._e()],1),n("div",{staticClass:"pl-12"},[e._l(e.value[t],(function(a,s){return n("div",[n("div",{staticClass:"flex w-full hover:bg-proton-grey-opacity-40 p-1"},[e.inputState.positionKey==="key."+t+".value."+s?n("input-attribute",e._b({staticStyle:{"max-width":"calc(100% - 16px)"},attrs:{"get-value":a,"set-value":e.setAttribute(t,s),"custom-on-blur":e.onBlur,"param-spec":{}}},"input-attribute",e.$props,!1)):n("div",{on:{click:function(n){return e.inputState.setInput(e.inputKey,"key."+t+".value."+s)}}},[e._v("\n                        "+e._s(JSON.stringify(a))+"\n                    ")]),"deleted"!==e.status?n("trash-icon",{staticClass:"w-12 h-12 ml-auto cursor-pointer invisible group-hover:visible",on:{click:function(n){return e.deleteAttribute(t,s)}}}):e._e()],1)])})),"deleted"!==e.status?n("button",{staticClass:"bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-8 p-4 text-sm mt-4",on:{click:function(n){return e.addAttribute(t)}}},[e._v("\n                +\n            ")]):e._e()],2),n("div",[e._v("]")])])})),"deleted"!==e.status?n("button",{staticClass:"ml-12 bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-8 p-4 text-sm mt-4",on:{click:e.addLanguage}},[e._v("\n        +\n    ")]):e._e()],2)},xa=[],_a={name:"InputDecompoundedAttributes",mixins:[Dn],components:{InputAttribute:va,InputParamValue:Vn,TrashIcon:Nt},created:function(){void 0!==this.value[""]&&this.inputState.setInput(this.inputKey,"key.")},methods:{onBlur:function(){var e=this;this.canBlur&&this.$nextTick((function(){var t=JSON.parse(JSON.stringify(e.param.value));delete t[""],Object.keys(t).forEach((function(e){t[e]=t[e].filter((function(e){return e.length>0}))})),e.setParamValue(e.inputKey,t),e.inputState.setInput("none")})),this.canBlur=!0},deleteLanguage:function(e){var t=JSON.parse(JSON.stringify(this.value));delete t[e],this.setParamValue(this.inputKey,t),this.inputState.setInput("none")},setLanguage:function(e,t){this.canBlur=!1;var n=JSON.parse(JSON.stringify(this.value));e===t||n[e]?delete n[""]:(n[e]=n[t],delete n[t]),n[e].push(""),this.setParamValue(this.inputKey,n),this.inputState.setInput(this.inputKey,"key.".concat(e,".value.").concat(n[e].length-1))},addLanguage:function(){this.canBlur=!1;var e=JSON.parse(JSON.stringify(this.value));e[""]=[],this.setParamValue(this.inputKey,e),this.inputState.setInput(this.inputKey,"key.")},addAttribute:function(e){var t=JSON.parse(JSON.stringify(this.value));t[e].push(""),this.setParamValue(this.inputKey,t),this.inputState.setInput(this.inputKey,"key.".concat(e,".value.").concat(t[e].length-1))},deleteAttribute:function(e,t){var n=JSON.parse(JSON.stringify(this.value));n[e].splice(t,1),this.setParamValue(this.inputKey,n),this.inputState.setInput(this.inputKey,"none")},setAttribute:function(e,t){var n=this;return function(a){var s=""===a,r=JSON.parse(JSON.stringify(n.value));r[e][t]=a,s?(r[e]=r[e].filter((function(e){return e.length>0})),n.setParamValue(n.inputKey,r),n.inputState.setInput("root","key.".concat(e,".value.").concat(r[e].length-1))):(r[e].push(""),n.setParamValue(n.inputKey,r),n.inputState.setInput(n.inputKey,"key.".concat(e,".value.").concat(r[e].length-1)))}}}},wa=_a,ka=Object(D["a"])(wa,ba,xa,!1,null,null,null),Ia=ka.exports,Ca=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("vue-slider",{staticClass:"ml-auto",attrs:{width:200,tooltip:"always",min:void 0!==e.paramSpec.min?e.paramSpec.min:"",max:void 0!==e.paramSpec.max?e.paramSpec.max:"",lazy:!0},on:{dragging:function(t){return e.updateValue(t)},"drag-end":e.onBlur},model:{value:e.value,callback:function(t){e.value=e._n(t)},expression:"value"}})],1)},Aa=[],Pa=n("d718"),Sa=n.n(Pa),Oa=(n("7532"),{name:"InputIntegerSlider",mixins:[Dn],components:{VueSlider:Sa.a},props:["paramSpec"],data:function(){return{timeout:null}},methods:{updateValue:function(e){var t=this;this.timeout=clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){t.value=e}),5)}}}),ja=Oa,Ra=Object(D["a"])(ja,Ca,Aa,!1,null,null,null),Na=Ra.exports,$a={name:"InputValue",mixins:[Dn],data:function(){return{paramValueComponents:{enum:Vn,boolean:Vn,integer:Zn,integer_slider:Na,enum_list:Vn,attributes_list:va,attribute:va,string:sa,string_list:sa,filters:da,param_name:zn,decompounded_attributes:Ia}}},computed:{getComponent:function(){return this.isForwardableComponent?this.paramValueComponents[this.paramSpec.object_type]:this.paramValueComponents[this.paramSpec.value_type]},isForwardableComponent:function(){return"object"===this.paramSpec.value_type},isEditable:function(){var e=void 0===this.currentIndex?null:this.currentIndex;return this.inputState.inputKey===this.inputKey&&this.inputState.positionKey===e}},methods:{makeEditable:function(){this.inputState.setInput(this.inputKey,this.currentIndex)}}},Ta=$a,Da=Object(D["a"])(Ta,fn,yn,!1,null,null,null),Ka=Da.exports,Ea={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"currentColor",fill:"currentColor"},u),...p},r.concat([n("path",{attrs:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}})]))}},Ma=function(e){return e&&"object"===Object(r["a"])(e)&&e.constructor===Object},Fa={name:"ParamValue",components:{InputValue:Ka,draggable:mn.a,TrashIcon:Nt,FlipLeftIcon:$t,FlipRightIcon:Tt,HistoryIcon:Ea},props:["id","inputKey","param","isLastElement","configKey","setParamValue","addArrayElement","deleteArrayElement","deleteKey","restoreKey","refParam","rawParam","keysIndexer","panelKey","setParamEnabled"],data:function(){return{values:[],collapseBigArrays:!0,isObject:Ma}},computed:{enabled:{get:function(){return this.param.enabled},set:function(e){this.setParamEnabled(this.inputKey,e)}},paramSpec:function(){return fe[this.inputKey]||{value_type:"string"}},paramCamJump:function(){return this.$store.state.panels.splitMode&&("indexSettings"!==this.configKey||!this.sameIndexOnEachPanel)},status:function(){return"indexSettings"!==this.configKey?this.refParam.enabled?"same":"disabled":void 0!==this.refParam&&void 0!==this.rawParam?JSON.stringify(this.refParam.value)===JSON.stringify(this.rawParam.value)?"same":"modified":void 0===this.refParam&&void 0!==this.rawParam?"added":void 0!==this.refParam&&void 0===this.rawParam?"deleted":"same"},statusClasses:function(){var e={same:"",added:"text-jupiter-1",modified:"text-saturn-1",disabled:"line-through",deleted:"line-through text-mars-1"};return e[this.status]}}},za=Fa,qa=Object(D["a"])(za,pn,dn,!1,null,null,null),Ha=qa.exports,Ba={name:"Params",props:["id","panelKey","configKey","keys","params","refParams","rawParams","keysIndexer","mutate"],components:{InputParamName:zn,ParamValue:Ha},methods:{setParamValue:function(e,t){this.mutate?(this.$set(this.params,e,{value:JSON.parse(JSON.stringify(t)),enabled:!0}),this.$emit("onMutate")):this.$emit("onSetParamValue",e,t)},setParamEnabled:function(e,t){this.mutate?(this.$set(this.params[e],"enabled",t),this.$emit("onMutate")):this.$emit("onSetParamEnabled",e,t)},addArrayElement:function(e){if(this.mutate){var t=JSON.parse(JSON.stringify(this.params[e].value));t.push(""),this.setParamValue(e,t)}else this.$emit("onAddArrayElement",e);$n(this.id).setInput(e,this.params[e].value.length-1)},deleteArrayElement:function(e,t){this.mutate?(this.$delete(this.params[e].value,t),this.$emit("onMutate")):this.$emit("onDeleteArrayElement",e,t)},deleteKey:function(e){this.mutate?(this.$delete(this.params,e),this.$emit("onMutate")):this.$emit("onDeleteKey",e)},restoreKey:function(e){this.mutate?(this.$set(this.params,e,{value:JSON.parse(JSON.stringify(this.refParams[e])),enabled:!0}),this.$emit("onMutate")):this.$emit("onRestoreKey",e)}}},La=Ba,Ua=Object(D["a"])(La,cn,un,!1,null,null,null),Va=Ua.exports;n("3658");function Wa(e){return e.map((function(e){if("string"===typeof e||e instanceof String){var t="language".match(/([^<]*)(?:<score=(.*?)>)?/),n={};return n.facet=t[1],void 0!==t[2]?n.score=parseInt(t[2]):n.score=1,n.disjunctive=!1,n}return e}))}function Qa(e){var t=e.consequence.params||{},n=(t.query,t.automaticFacetFilters,t.automaticOptionalFacetFilters,Object(b["a"])(t,["query","automaticFacetFilters","automaticOptionalFacetFilters"]));return Object.keys(n).length<=0?{}:n}function Ja(e){var t=e.consequence.params||{},n=t.query;if(n&&"object"===Object(r["a"])(n)&&n.constructor===Object){if(!n.edits)return[];var a=n.edits.filter((function(e){return"replace"===e.type})).map((function(e){return[e.delete,e.insert]}));if(a.length>0)return a}return[]}function Ga(e){var t=e.consequence.params||{},n=t.query;return("string"===typeof n||n instanceof String)&&n}function Xa(e){var t=e.consequence.params||{},n=t.automaticOptionalFacetFilters;return Wa(n||[])}function Za(e){var t=e.consequence.params||{},n=t.automaticFacetFilters;return Wa(n||[])}function Ya(e){var t=e.consequence.params||{},n=t.query;if(n&&"object"===Object(r["a"])(n)&&n.constructor===Object){if(n.remove)return n.remove;if(!n.edits)return[];var a=n.edits.filter((function(e){return"remove"===e.type})).map((function(e){return e.delete}));if(a.length>0)return a}return[]}var es=function(e){var t=this,n=JSON.parse(JSON.stringify(e));this.objectID=n.objectID,this.enabled=void 0===n.enabled||n.enabled,this.description=n.description,this.validity=n.validity,this.hasPatternAndAnchoring=void 0!==n.condition&&void 0!==n.condition.pattern&&void 0!==n.condition.anchoring,this.pattern=this.hasPatternAndAnchoring?n.condition.pattern:"",this.anchoring=this.hasPatternAndAnchoring?n.condition.anchoring:"is",this.context=n.condition&&n.condition.context?n.condition.context:"",this.alternatives=!(!n.condition||!n.condition.alternatives)&&n.condition.alternatives,this.promote=n.consequence.promote||[],this.filterPromotes=n.consequence.filterPromotes||!1,this.hide=n.consequence.hide||[],this.userData=n.consequence.userData,this.params=Qa(n),this.replacedWordsFromQuery=Ja(n),this.replacedQuery=Ga(n),this.removedWordsFromQuery=Ya(n),this.automaticOptionalFacetFilters=Xa(n),this.automaticFacetFilters=Za(n),this.editableParams={},Object.keys(this.params).forEach((function(e){t.editableParams[e]={value:t.params[e],enabled:!0}})),this.hasPromote=this.promote.length>0,this.hasHide=this.hide.length>0,this.hasReplacedQuery=!1!==this.replacedQuery,this.hasReplacedWordsFromQuery=this.replacedWordsFromQuery.length>0,this.hasRemovedWordsFromQuery=this.removedWordsFromQuery.length>0,this.hasParams=Object.keys(this.params).length>0,this.hasAutomaticFilters=this.automaticFacetFilters.length>0,this.hasAutomaticOptionalFilters=this.automaticOptionalFacetFilters.length>0,this.hasUserData=this.userData||!1,this.getFinalRule=function(){var e=this,t={};if(t.objectID=this.objectID,t.enabled=this.enabled,t.description=this.description||"",this.validity&&(t.validity=this.validity),t.condition={},this.hasPatternAndAnchoring&&(t.condition.pattern=this.pattern,t.condition.anchoring=this.anchoring),this.context.length>0&&(t.condition.context=this.context),this.alternatives&&(t.condition.alternatives=!0),t.consequence={},this.hasPatternAndAnchoring&&this.hasPromote&&this.promote.length>0&&(t.consequence.promote=JSON.parse(JSON.stringify(this.promote)),this.filterPromotes&&(t.consequence.filterPromotes=!0)),this.hasHide&&this.hide.length>0&&(t.consequence.hide=JSON.parse(JSON.stringify(this.hide))),this.hasParams&&Object.keys(this.editableParams).length>0){var n={};Object.keys(this.editableParams).forEach((function(t){n[t]=JSON.parse(JSON.stringify(e.editableParams[t].value))})),t.consequence.params=JSON.parse(JSON.stringify(n))}if(this.hasReplacedQuery)t.consequence.params||(t.consequence.params={}),t.consequence.params.query=this.replacedQuery;else if(this.hasPatternAndAnchoring){var a=this.replacedWordsFromQuery.filter((function(e){return e[0].length>0&&e[1].length>0}));if(this.hasReplacedWordsFromQuery&&a.length>0){var s;t.consequence.params||(t.consequence.params={}),t.consequence.params.query||(t.consequence.params.query={edits:[]});var r=a.map((function(e){return{type:"replace",delete:e[0],insert:e[1]}}));(s=t.consequence.params.query.edits).push.apply(s,Object(ce["a"])(JSON.parse(JSON.stringify(r))))}var i=this.removedWordsFromQuery.filter((function(e){return e.length>0}));if(this.hasRemovedWordsFromQuery&&i.length>0){var o;t.consequence.params||(t.consequence.params={}),t.consequence.params.query||(t.consequence.params.query={edits:[]});var l=i.map((function(e){return{type:"remove",delete:e}}));(o=t.consequence.params.query.edits).push.apply(o,Object(ce["a"])(JSON.parse(JSON.stringify(l))))}}if(this.hasPatternAndAnchoring){var c=this.automaticFacetFilters.filter((function(t){return-1!==e.pattern.indexOf("{facet:".concat(t.facet))}));this.hasAutomaticFilters&&c.length>0&&(t.consequence.params||(t.consequence.params={}),t.consequence.params.automaticFacetFilters=JSON.parse(JSON.stringify(c)));var u=this.automaticOptionalFacetFilters.filter((function(t){return-1!==e.pattern.indexOf("{facet:".concat(t.facet))}));this.hasAutomaticOptionalFilters&&u.length>0&&(t.consequence.params||(t.consequence.params={}),t.consequence.params.automaticOptionalFacetFilters=JSON.parse(JSON.stringify(u)))}return this.hasUserData&&(t.consequence.userData=this.userData),t}},ts=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("autocomplete",e._g({ref:"autocomplete",attrs:{items:e.items,refine:e.refine,value:e.value,"display-empty-query":e.displayEmptyQuery,placeholder:e.placeholder,"input-classes":e.inputClasses,"empty-search-for-query-equals-value":!1,"no-auto-width":!0},scopedSlots:e._u([{key:"item",fn:function(t){t.index;var a=t.item;return[n("promoted-hit",e._g(e._b({staticClass:"w-240",attrs:{hit:a}},"promoted-hit",e.$props,!1),e.$listeners))]}}])},e.$listeners))],1)},ns=[],as=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex"},[e.hitOrFetched?n("hit-image",e._g(e._b({attrs:{"forced-image-size":40,"flatten-hit":e.flattenHit,"display-mode":"autocomplete"}},"hit-image",e.$props,!1),e.$listeners)):e._e(),n("div",{staticClass:"flex-grow ml-12"},[n("div",[e.hitOrFetched?n("span",[e._v(e._s(e.objectID))]):e._e(),e.hitOrFetched?e._e():n("span",{staticClass:"text-cosmos-black-opacity-70",domProps:{innerHTML:e._s(e.properHighlight(e.id))}}),void 0!==e.position?n("span",[e._v("\n                    at pos\n                    "),n("span",{staticClass:"text-cosmos-black-opacity-70"},[e._v("\n                        "+e._s(e.position)+"\n                    ")])]):e._e()]),e.title&&e.title!==e.objectID?n("div",{domProps:{innerHTML:e._s(e.title)}}):e._e()])],1)])},ss=[];function rs(e,t,n){for(var a in e)"_rankingInfo"!==a&&"_highlightResult"!==a&&"_snippetResult"!==a&&("object"===Object(r["a"])(e[a])?rs(e[a],[].concat(Object(ce["a"])(t),[a]),n):n["".concat([].concat(Object(ce["a"])(t),[a]).join("."))]=e[a]);return n}var is=function(e){return rs(e,[],{})},os=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["autocomplete"===e.displayMode?"":"mb-24",!e.hasImage||e.editImageAttributes&&!e.forcedImageSize?"rounded border border-proton-grey-opacity-60":"",e.editImageAttributes&&!e.forcedImageSize?"p-8":"",e.listMode&&e.imageSize<=160?"float-right ml-16":""]},[n("div",{staticClass:"flex justify-center items-center mx-auto",class:[e.editImageAttributes&&!e.forcedImageSize?"mt-12":"cursor-pointer","w-"+(e.forcedImageSize||e.imageSize)+" h-"+(e.forcedImageSize||e.imageSize)],on:{click:function(t){e.editImageAttributes=!0}}},[e.hasImage?e._e():n("camera-icon",{staticClass:"w-16 h-16 text-proton-grey-opacity-60"}),e.hasImage?n("img",{staticClass:"rounded w-full h-full",staticStyle:{"object-fit":"cover"},attrs:{src:""+e.proxyUrl+e.imageBaseUrl+e.image+e.imageSuffixUrl}}):e._e()],1),e.editImageAttributes&&!e.forcedImageSize?n("div",{staticClass:"p-12 text-center"},[n("div",[n("input",{staticClass:"w-128 bg-proton-grey-opacity-20 text-xs p-4",attrs:{placeholder:"image_attribute_name"},domProps:{value:e.imageAttribute},on:{input:function(t){return e.$emit("onUpdateImageAttribute",t.target.value)}}})]),n("div",{staticClass:"mt-2"},[n("input",{staticClass:"w-128 bg-proton-grey-opacity-20 text-xs p-4",attrs:{placeholder:"base_image_url"},domProps:{value:e.imageBaseUrl},on:{input:function(t){return e.$emit("onUpdateImageBaseUrl",t.target.value)}}})]),n("div",{staticClass:"mt-2"},[n("input",{staticClass:"w-128 bg-proton-grey-opacity-20 text-xs p-4",attrs:{placeholder:"suffix_image_url"},domProps:{value:e.imageSuffixUrl},on:{input:function(t){return e.$emit("onUpdateImageSuffixUrl",t.target.value)}}})]),n("div",{staticClass:"mt-2"},[n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.size,expression:"size",modifiers:{number:!0}}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.size=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"40"}},[e._v("40px")]),n("option",{attrs:{value:"80"}},[e._v("80px")]),n("option",{attrs:{value:"120"}},[e._v("120px")]),n("option",{attrs:{value:"160"}},[e._v("160px")]),n("option",{attrs:{value:"200"}},[e._v("200px")]),n("option",{attrs:{value:"240"}},[e._v("240px")])])]),n("div",{staticClass:"mt-2"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.shouldIgnoreImageProxy,expression:"shouldIgnoreImageProxy"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.shouldIgnoreImageProxy)?e._i(e.shouldIgnoreImageProxy,null)>-1:e.shouldIgnoreImageProxy},on:{change:function(t){var n=e.shouldIgnoreImageProxy,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&(e.shouldIgnoreImageProxy=n.concat([r])):i>-1&&(e.shouldIgnoreImageProxy=n.slice(0,i).concat(n.slice(i+1)))}else e.shouldIgnoreImageProxy=s}}}),e._v(" disable image proxy\n            ")])]),n("button",{staticClass:"mt-12 bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out px-16 p-8 text-sm",on:{click:function(t){e.editImageAttributes=!1}}},[e._v("\n            Close\n        ")])]):e._e()])},ls=[],cs={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("path",{attrs:{d:"M23 19a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h4l2-3h6l2 3h4a2 2 0 012 2z"}}),n("circle",{attrs:{cx:"12",cy:"13",r:"4"}})]))}},us={credentials:["appId","apiKey","indexName","server","method","userId"],images:["imageSize","imageAttribute","imageBaseUrl","imageSuffixUrl","ignoreImageProxy"],attributes:["titleAttributeName","autoTitleAttributeName","showSearchableAttributes","showCustomRanking","showAttributesForFaceting","showOnlyMatchingAttributes"],paramsAndSettings:["query","searchParams","indexSettings","keysIndexer"],response:["analyseResponse","searchResponse"],display:["analyseMaxNbPoints","displayMode","displayRankingInfo"],actions:["readOnly","isReplica","canJumpRules","canJumpSynonyms","canJumpRecords","jumpTo"]},ps=/(?:https?:)?\/\/.+\.(?:jpe?g|png|svg|webp)(?:\?.*)?$/i,ds={name:"HitImage",props:["flattenHit","displayMode","listMode","forcedImageSize"].concat(Object(ce["a"])(us.images),Object(ce["a"])(us.display)),components:{CameraIcon:cs},data:function(){return{editImageAttributes:!1,allowBlur:!0}},computed:{proxyUrl:function(){return this.shouldIgnoreImageProxy?"":"https://rocky-thicket-17824.herokuapp.com/".concat(this.forcedImageSize||this.imageSize,"/")},size:{get:function(){return this.imageSize},set:function(e){this.$emit("onUpdateImageSize",e)}},shouldIgnoreImageProxy:{get:function(){return this.ignoreImageProxy},set:function(e){this.$emit("onUpdateIgnoreImageProxy",e)}},imageAttributeName:function(){return this.imageAttribute&&this.flattenHit[this.imageAttribute]||this.autoFindImageAttributeName(),this.imageAttribute},hasImage:function(){return this.imageAttributeName&&this.image},image:function(){return this.flattenHit[this.imageAttributeName]}},methods:{autoFindImageAttributeName:function(){var e;for(e in this.flattenHit)this.flattenHit[e].length<=1e3&&this.flattenHit[e].match(ps)&&this.$emit("onUpdateImageAttribute",e);return this.imageAttribute}}},hs=ds,ms=Object(D["a"])(hs,os,ls,!1,null,null,null),fs=ms.exports,ys={name:"PromotedHit",components:{HitImage:fs},props:["hit","id","position"].concat(Object(ce["a"])(us.credentials),Object(ce["a"])(us.images),Object(ce["a"])(us.attributes)),data:function(){return{fetched:null}},created:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.hit){e.next=12;break}return e.next=3,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 3:return t=e.sent,e.prev=4,e.next=7,t.getObject(this.id);case 7:this.fetched=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](4);case 12:case"end":return e.stop()}}),e,this,[[4,10]])})));function t(){return e.apply(this,arguments)}return t}(),computed:{hitOrFetched:function(){return this.hit||this.fetched},flattenHit:function(){return this.flattenRecord(this.hitOrFetched)},objectID:function(){return this.hitOrFetched?this.hitOrFetched.objectID:this.id},title:function(){return this.hitOrFetched?this.hitOrFetched._highlightResult&&this.hitOrFetched._highlightResult[this.autoTitleAttributeName]&&this.hitOrFetched._highlightResult[this.autoTitleAttributeName].value?this.hitOrFetched._highlightResult[this.autoTitleAttributeName].value:this.hitOrFetched[this.autoTitleAttributeName]:this.id}},methods:{flattenRecord:is,properHighlight:re}},gs=ys,vs=Object(D["a"])(gs,as,ss,!1,null,null,null),bs=vs.exports;function xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ws={name:"HitsAutocomplete",components:{PromotedHit:bs,Autocomplete:An},mixins:[Ye],props:["inputClasses","params","value","displayEmptyQuery","placeholder"].concat(Object(ce["a"])(us.credentials),Object(ce["a"])(us.images),Object(ce["a"])(us.attributes),Object(ce["a"])(us.paramsAndSettings)),data:function(){return{searchResponse:null,items:[]}},methods:{refine:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 2:return n=e.sent,e.next=5,n.customSearch(_s({query:t},this.params||{}));case 5:if(a=e.sent,0!==a.hits.length){e.next=15;break}return e.next=9,n.getObjects([t]);case 9:if(s=e.sent,!(s.results.length>0&&null!==s.results[0])){e.next=15;break}return r=s.results||[],this.items=Object.freeze(r),this.searchResponse=Object.freeze({hits:r}),e.abrupt("return");case 15:this.searchResponse=Object.freeze(a),this.items=Object.freeze(a.hits);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.refine("")}},ks=ws,Is=Object(D["a"])(ks,ts,ns,!1,null,null,null),Cs=Is.exports,As={name:"RuleEdit",props:["rule","allowSaveWithoutEdit"].concat(Object(ce["a"])(us.credentials),Object(ce["a"])(us.images),Object(ce["a"])(us.attributes),Object(ce["a"])(us.paramsAndSettings)),components:{PromotedHit:bs,HitAutocomplete:Cs,Params:Va,AceEditor:ln,TrashIcon:Nt,LoaderIcon:j},directives:{autowidth:Yt.a},data:function(){var e={oldRule:new es(this.rule),newRule:new es(this.rule),nbErrorsUserData:0,saveError:null,saving:!1};return 0===e.newRule.replacedWordsFromQuery.length&&e.newRule.replacedWordsFromQuery.push(["",""]),0===e.newRule.removedWordsFromQuery.length&&e.newRule.removedWordsFromQuery.push(""),!1===e.newRule.replacedQuery&&(e.newRule.replacedQuery=""),e},computed:{facetsInQuery:function(){return this.newRule.pattern?Array.from(this.newRule.pattern.matchAll(/{facet:(.*?)}/g)).map((function(e){return e[1]})):[]},potentialFilters:function(){var e=this,t={};return this.facetsInQuery.forEach((function(n){t[n]=e.newRule.automaticFacetFilters.find((function(e){return e.facet===n}))})),t},potentialOptionalFilters:function(){var e=this,t={};return this.facetsInQuery.forEach((function(n){t[n]=e.newRule.automaticOptionalFacetFilters.find((function(e){return e.facet===n}))})),t},canBeSaved:function(){if(this.newRule.objectID.length<=0)return!1;if(this.newRule.hasPatternAndAnchoring&&this.newRule.pattern&&0===this.newRule.pattern.length&&"is"!==this.newRule.anchoring)return!1;if(this.newRule.hasUserData&&this.nbErrorsUserData>0)return!1;if(this.newRule.hasRemovedWordsFromQuery&&this.newRule.removedWordsFromQuery.filter((function(e){return e.length>0})).length<=0)return!1;if(this.newRule.hasReplacedWordsFromQuery){var e=this.newRule.replacedWordsFromQuery.filter((function(e){return e[0].length>0&&e[1].length>0}));if(e.length<=0)return!1}return!0}},methods:{onAutomaticFilterChange:function(e,t,n){if(n)e.push({facet:t,score:1,disjunctive:!1});else{var a=e.findIndex((function(e){return e.facet===t}));e.splice(a,1)}},onChangeUserData:function(e){try{this.newRule.userData=JSON.parse(e)}catch(t){this.newRule.userData={}}},onValidateUserData:function(e){this.nbErrorsUserData=e.length},addPromote:function(e){var t=this.newRule.promote.find((function(t){return t.objectID===e.objectID}));if(!t){var n=e.objectID||e;n&&n.length>0&&this.newRule.promote.push({objectID:n,position:0})}},deletePromote:function(e){this.$delete(this.newRule.promote,e)},addHide:function(e){var t=this.newRule.promote.find((function(t){return t===e.objectID}));if(!t){var n=e.objectID||e;n&&n.length>0&&this.newRule.hide.push(n)}},deleteHide:function(e){this.$delete(this.newRule.hide,e)},onKeyDown:function(e,t,n,a,s,r){var i,o,l=this;(13===e.which||9===e.which&&!e.shiftKey)&&n+1>t.length-1&&(e.preventDefault(),e.stopImmediatePropagation(),i=n,o=0,Array.isArray(t[0])?s>=t[0].length-1?i+=1:o+=1:i+=1,i!==n&&t.push(a),i===n&&s===o||this.$nextTick((function(){l.$refs["".concat(r,"-").concat(i,"-").concat(o)][0].focus(),l.$refs["".concat(r,"-").concat(i,"-").concat(o)][0].setSelectionRange(0,l.$refs["".concat(r,"-").concat(i,"-").concat(o)][0].value.length)}))),(8===e.which||9===e.which&&e.shiftKey)&&0===e.target.value.length&&(e.preventDefault(),e.stopImmediatePropagation(),i=n,o=0,Array.isArray(t[0])?0===s?(i-=1,o=t[0].length-1):o=s-1:i=n-1,i!==n&&i>=0&&t.pop(),i>=0&&this.$nextTick((function(){l.$refs["".concat(r,"-").concat(i,"-").concat(o)][0].focus(),l.$refs["".concat(r,"-").concat(i,"-").concat(o)][0].setSelectionRange(l.$refs["".concat(r,"-").concat(i,"-").concat(o)][0].value.length,l.$refs["".concat(r,"-").concat(i,"-").concat(o)][0].value.length)})))},save:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 2:return t=e.sent,e.prev=3,e.next=6,t.saveRule(this.newRule.getFinalRule(),{forwardToReplicas:this.forwardToReplicas});case 6:return n=e.sent,this.saving=!0,e.next=10,t.waitTask(n["taskID"]);case 10:this.saving=!1,this.$emit("onStopEdit"),this.$root.$emit("shouldTriggerSearch",this.indexName),this.$root.$emit("shouldTriggerRulesSearch",this.indexName),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](3),this.saveError=e.t0.message;case 19:case"end":return e.stop()}}),e,this,[[3,16]])})));function t(){return e.apply(this,arguments)}return t}()}},Ps=As,Ss=Object(D["a"])(Ps,Gt,Xt,!1,null,null,null),Os=Ss.exports,js=new Et(["_highlightResult"]),Rs={name:"Rule",props:["rule","checked"].concat(Object(ce["a"])(us.credentials),Object(ce["a"])(us.actions),Object(ce["a"])(us.images),Object(ce["a"])(us.attributes),Object(ce["a"])(us.paramsAndSettings)),components:{PromotedHit:bs,RuleEdit:Os,RuleDelete:Jt,Tooltip:Bt,EditIcon:Rt,TrashIcon:Nt,FlipLeftIcon:$t,FlipRightIcon:Tt},data:function(){return{editMode:!1,confirmDelete:!1}},computed:{intermediateRule:function(){return new es(js.transformObjSimple(this.rule))}},methods:{highlightJsonObject:se,jumpRule:function(){this.$root.$emit("".concat(this.jumpTo,"RuleJumping"),this.rule),window.scrollTo(0,0)},properHighlight:re}},Ns=Rs,$s=Object(D["a"])(Ns,Ot,jt,!1,null,null,null),Ts=$s.exports,Ds={name:"UnfetchedRule",components:{Rule:Ts},props:["ruleId"].concat(Object(ce["a"])(us.credentials),Object(ce["a"])(us.actions),Object(ce["a"])(us.images),Object(ce["a"])(us.attributes),["keysIndexer"]),data:function(){return{rule:!1}},watch:{ruleId:function(){this.getRule()}},created:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getRule();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getRule:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 2:return t=e.sent,e.next=5,t.getRule(this.ruleId);case 5:this.rule=e.sent;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Ks=Ds,Es=Object(D["a"])(Ks,Pt,St,!1,null,null,null),Ms=Es.exports,Fs={name:"AppliedRules",components:{UnfetchedRule:Ms},props:[].concat(Object(ce["a"])(us.response),Object(ce["a"])(us.credentials),Object(ce["a"])(us.images),Object(ce["a"])(us.actions),Object(ce["a"])(us.attributes),["keysIndexer"]),data:function(){return{key:0}},created:function(){var e=this;this.$root.$on("shouldTriggerRulesSearch",(function(){e.key=e.key+1}))}},zs=Fs,qs=Object(D["a"])(zs,Ct,At,!1,null,null,null),Hs=qs.exports,Bs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.cursor?e._e():n("ul",{staticClass:"flex mt-24 mb-12 pl-0"},[e.page>0?n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(e.page-1)}}},[n("chevron-left-icon",{staticClass:"w-12 h-12"})],1):e._e(),e.pages[0]>0?[n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(0)}}},[e._v("1")]),n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer"},[e._v("...")])]:e._e(),e._l(e.pages,(function(t){return n("li",{key:t,staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",class:t===e.page?"border border-telluric-blue-opacity-80":"",on:{click:function(n){return e.setPage(t)}}},[n("span",[e._v(e._s(t+1))])])})),e.pages[e.pages.length-1]<e.nbPages-1?[n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer"},[e._v("...")]),n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(e.nbPages-1)}}},[e._v(e._s(e.nbPages))])]:e._e(),e.page<e.nbPages-1?n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.setPage(e.page+1)}}},[n("chevron-left-icon",{staticClass:"w-12 h-12 rotate-180"})],1):e._e()],2),e.cursor?n("ul",{staticClass:"flex mt-24 mb-12 pl-0"},[n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.$emit("onDeleteParam","cursor")}}},[e._v("\n            First page\n        ")]),n("li",{staticClass:"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey",on:{click:function(t){return e.$emit("onSetParamValue","cursor",e.cursor)}}},[e._v("\n            Next page\n        ")])]):e._e()])},Ls=[];function Us(e,t){for(var n=[],a=e;a<t;a++)n.push(a);return n}var Vs=function(e,t){this.currentPage=e,this.total=t,this.padding=3,this.pages=function(){var e=this.total,t=this.currentPage,n=this.padding;if(0===e)return[0];var a=this.nbPagesDisplayed(n,e);if(a===e)return Us(0,e);var s=this.calculatePaddingLeft(t,n,e,a),r=a-s,i=t-s,o=t+r;return Us(i,o)},this.nbPagesDisplayed=function(e,t){return Math.min(2*e+1,t)},this.calculatePaddingLeft=function(e,t,n,a){return e<=t?e:e>=n-t?a-(n-e):t},this.isLastPage=function(){return this.currentPage===this.total-1},this.isFirstPage=function(){return 0===this.currentPage}},Ws={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("path",{attrs:{d:"M15 18l-6-6 6-6"}})]))}},Qs={name:"Pagination",props:["page","nbPages","cursor"],components:{ChevronLeftIcon:Ws},computed:{pages:function(){return this.paginator.pages()},paginator:function(){return new Vs(this.page,this.nbPages)}},methods:{setPage:function(e){this.page>=0&&this.page<this.nbPages&&this.$emit("onUpdatePage",e)}}},Js=Qs,Gs=Object(D["a"])(Js,Bs,Ls,!1,null,null,null),Xs=Gs.exports,Zs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 mt-16 p-8"},[n("div",{staticClass:"flex justify-between"},[n("div",[n("div",[e._v(e._s(e.humanNumber(e.searchResponse.nbHits))+" hits in "+e._s(e.searchResponse.processingTimeMS)+"ms.")]),n("div",[e._v("Exhaustive Nb Hits: "+e._s(e.searchResponse.exhaustiveNbHits))]),n("div",[e._v("Exhaustive Facets: "+e._s(void 0===e.searchResponse.exhaustiveFacetsCount||e.searchResponse.exhaustiveFacetsCount))])]),n("div",[n("div",[e._v("Index Used: "+e._s(e.searchResponse.indexUsed))]),n("div",[e._v("Parsed query: '"+e._s(e.searchResponse.parsedQuery)+"'")]),n("div",[e._v("Server Used: "+e._s(e.searchResponse.serverUsed))])])]),e.userToken?n("div",{staticClass:"mt-24"},[n("div",{staticClass:"mb-8 text-sm tracking-wide uppercase"},[e._v("User perso profile:")]),e.shownFilters?n("div",[n("div",[e._l(e.shownFilters,(function(t){return n("div",[e._v("\n                    "+e._s(t)+"\n                ")])})),e.userPersoFilters.length>e.nbShowFilters?n("div",{staticClass:"text-nebula-blue cursor-pointer",on:{click:function(t){e.showAllFilters=!e.showAllFilters}}},[e._v("\n                    Show "+e._s(e.userPersoFilters.length-e.nbShowFilters)+" "+e._s(e.showAllFilters?"less":"more")+"\n                ")]):e._e(),n("button",{staticClass:"mt-8 block bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm relative group",on:{click:function(t){return e.$emit("onSetParamValue","personalizationFilters",e.userPersoFilters)}}},[e._v("\n                    Set perso profile as personalizationFilters\n                ")])],2)]):n("div",[e._v('\n            Profile for userToken "'+e._s(e.userToken)+'" was not found\n        ')])]):e._e(),e.userToken&&e.userPersoFiltersV2?n("div",{staticClass:"mt-16"},[n("div",{staticClass:"mb-8 text-sm tracking-wide uppercase"},[e._v("User perso profile v2:")]),e.shownFiltersV2?n("div",[n("div",[e._l(e.shownFiltersV2,(function(t){return n("div",[e._v("\n                    "+e._s(t)+"\n                ")])})),e.userPersoFiltersV2.length>e.nbShowFilters?n("div",{staticClass:"text-nebula-blue cursor-pointer",on:{click:function(t){e.showAllFiltersV2=!e.showAllFiltersV2}}},[e._v("\n                    Show "+e._s(e.userPersoFiltersV2.length-e.nbShowFilters)+" "+e._s(e.showAllFiltersV2?"less":"more")+"\n                ")]):e._e(),n("button",{staticClass:"mt-8 block bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm relative group",on:{click:function(t){return e.$emit("onSetParamValue","personalizationFilters",e.userPersoFiltersV2)}}},[e._v("\n                    Set perso profile as personalizationFilters\n                ")])],2)]):e._e()]):e._e()])},Ys=[],er={name:"ResultsInfo",props:["searchResponse","searchParams","appId","apiKey"],data:function(){return{region:"us",userPersoFilters:!1,userPersoFiltersV2:!1,showAllFilters:!1,showAllFiltersV2:!1,nbShowFilters:5}},watch:{userToken:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchPersoProfil();case 2:this.fetchPersoProfilV2();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),enablePersonalization:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchPersoProfil();case 2:this.fetchPersoProfilV2();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchPersoProfil();case 2:this.fetchPersoProfilV2();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:{shownFilters:function(){var e=this.userPersoFilters||[];return this.showAllFilters?e:e.slice(0,this.nbShowFilters)},shownFiltersV2:function(){var e=this.userPersoFiltersV2||[];return this.showAllFiltersV2?e:e.slice(0,this.nbShowFilters)},userToken:function(){return this.searchParams.userToken},enablePersonalization:function(){return this.searchParams.enablePersonalization}},methods:{humanNumber:Z,fetchPersoProfil:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.enablePersonalization&&this.userToken){e.next=3;break}return this.userPersoFilters=!1,e.abrupt("return");case 3:return e.next=5,fetch("https://recommendation.".concat(this.region,".algolia.com/1/profiles/personalization/").concat(this.userToken),{headers:{"X-Algolia-Application-Id":this.appId,"X-Algolia-API-Key":this.apiKey}});case 5:if(t=e.sent,t.ok){e.next=16;break}if("eu"===this.region){e.next=14;break}return this.region="eu",e.next=11,this.fetchPersoProfil();case 11:return n=e.sent,n||(this.region="us"),e.abrupt("return",n);case 14:return this.userPersoFilters=!1,e.abrupt("return",!1);case 16:return e.next=18,t.json();case 18:return a=e.sent,s=[],Object.keys(a.scores).forEach((function(e){Object.keys(a.scores[e]).forEach((function(t){s.push(["".concat(e,":").concat(t),a.scores[e][t]])}))})),this.userPersoFilters=s.sort((function(e,t){return t[1]-e[1]})).map((function(e){return"".concat(e[0],"<score=").concat(e[1],">")})),e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchPersoProfilV2:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.enablePersonalization&&this.userToken){e.next=3;break}return this.userPersoFiltersV2=!1,e.abrupt("return");case 3:return e.next=5,fetch("https://recommendation.".concat(this.region,".algolia.com/2/profiles/personalization/").concat(this.userToken),{headers:{"X-Algolia-Application-Id":this.appId,"X-Algolia-API-Key":this.apiKey}});case 5:if(t=e.sent,t.ok){e.next=9;break}return this.userPersoFiltersV2=!1,e.abrupt("return",!1);case 9:return e.next=11,t.json();case 11:return n=e.sent,a=[],Object.keys(n.scores).forEach((function(e){Object.keys(n.scores[e]).forEach((function(t){a.push(["".concat(e,":").concat(t),n.scores[e][t]])}))})),this.userPersoFiltersV2=a.sort((function(e,t){return t[1]-e[1]})).map((function(e){return"".concat(e[0],"<score=").concat(e[1],">")})),e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},tr=er,nr=Object(D["a"])(tr,Zs,Ys,!1,null,null,null),ar=nr.exports,sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hit mt-24 relative max-w-full",class:e.expandImage?"w-full":"",on:{mousemove:function(t){e.expandable=!0},mouseleave:function(t){e.expandable=!1}}},[n("div",{staticClass:"px-32 min-h-56"},[n("div",{staticClass:"absolute top-0 left-0",attrs:{id:e.panelKey+"-"+e.hitNumber}},[void 0!==e.searchResponse.page?n("div",{staticClass:"border border-nova-grey-opacity-80 text-center w-24 px-8 py-4 rounded text-xs uppercase text-solstice-blue"},[e._v("\n                "+e._s(e.hitNumber)+"\n            ")]):e._e(),"images"===e.displayMode&&e.expandable?n("div",{staticClass:"flex items-center justify-center mt-12 border border-proton-grey hover:border-nova-grey-opacity-80 p-4 w-24 rounded cursor-pointer",on:{click:function(t){e.expandImage=!e.expandImage}}},[e.expandImage?e._e():n("maximize-icon",{staticClass:"w-12 h-12 text-nova-grey"}),e.expandImage?n("minimize-icon",{staticClass:"w-12 h-12 text-nova-grey"}):e._e()],1):e._e()]),e.editMode?e._e():n("div",[n("hit-image",e._g(e._b({attrs:{"flatten-hit":e.flattenHit,"display-mode":e.displayMode,"list-mode":e.listMode}},"hit-image",e.$props,!1),e.$listeners)),e.imageMode&&e.imageSize>=120?n("div",{staticClass:"mb-8",class:"w-"+e.imageSize},[n("div",{staticClass:"truncate"},[e._v(e._s(e.hit.objectID))]),e.title?n("div",{staticClass:"truncate",domProps:{innerHTML:e._s(e.title)}}):e._e()]):e._e(),e.personalized||e.promoted?n("div",{staticClass:"flex mb-12"},[e.personalized?n("div",{staticClass:"border border-nova-grey-opacity-80 px-8 py-4 rounded text-center text-xs uppercase tracking-wide text-solstice-blue"},[e._v("\n                    Personalized\n                ")]):e._e(),e.promoted?n("div",{staticClass:"border border-nova-grey-opacity-80 px-8 py-4 rounded text-center text-xs uppercase tracking-wide text-solstice-blue"},[e._v("\n                    Promoted\n                ")]):e._e()]):e._e(),e.listMode?n("attributes",e._g(e._b({attrs:{"top-attributes":e.topAttributes,"searchable-attributes":e.searchableAttributes,item:e.transformedItem}},"attributes",e.$props,!1),e.$listeners)):e._e(),e.hit._rankingInfo&&e.displayRankingInfo&&e.listMode?n("ranking-info",{staticClass:"mt-48",attrs:{item:e.hit,"previous-item":e.previousHit,i:e.hitPosition,"index-settings":e.indexSettings,"search-params":e.searchParams}}):e._e(),n("div",{staticClass:"clearfix"}),e.listMode?n("div",{staticClass:"flex justify-end items-center text-nova-grey-opacity-80"},[n("button",{staticClass:"relative group"},[e.canJumpRecords&&"leftPanel"===e.jumpTo?n("flip-left-icon",{staticClass:"text-nova-grey-opacity-80 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:e.jumpRecord}}):e._e(),n("tooltip",[e._v("Copy this record in the left panel index."),n("br"),e._v("Will ask for confirmation")])],1),n("button",{staticClass:"relative group"},[e.canJumpRecords&&"rightPanel"===e.jumpTo?n("flip-right-icon",{staticClass:"text-nova-grey-opacity-80 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:e.jumpRecord}}):e._e(),n("tooltip",[e._v("Copy this record in the right panel index."),n("br"),e._v("Will ask for confirmation")])],1),n("button",{staticClass:"relative group"},[e.readOnly||e.isReplica?e._e():n("edit-icon",{staticClass:"ml-12 text-nova-grey-opacity-80 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:function(t){e.editMode=!0}}}),n("tooltip",[e._v("Edit this record."),n("br"),e._v("Will ask for confirmation")])],1),n("button",{staticClass:"relative group"},[e.readOnly||e.isReplica?e._e():n("trash-icon",{staticClass:"ml-12 text-nova-grey-opacity-80 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:function(t){e.confirmDelete=!0}}}),n("tooltip",[e._v("Delete this record."),n("br"),e._v("Will ask for confirmation")])],1),!e.readOnly&&e.isReplica?n("div",{staticClass:"ml-12"},[e._v("\n                    Read-only replica\n                ")]):e._e()]):e._e()],1),e.confirmDelete?n("hit-delete",e._g(e._b({attrs:{hit:e.hit},on:{onStopDelete:function(t){e.confirmDelete=!1}}},"hit-delete",e.$props,!1),e.$listeners)):e._e(),e.editMode?n("hit-edit",e._g(e._b({attrs:{hit:e.hit},on:{onStopEdit:function(t){e.editMode=!1}}},"hit-edit",e.$props,!1),e.$listeners)):e._e()],1),e.listMode?n("div",{staticClass:"mt-24 mx-32 border-t border-proton-grey-opacity-40"}):e._e()])},rr=[],ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.currentKeys,(function(t){return n("div",{key:t,staticClass:"flex"},[n("div",{staticClass:"w-128 min-w-128 mr-16 text-right json-token key truncate",attrs:{title:t}},[e._v("\n            "+e._s(t)+":\n        ")]),n("attribute",{staticStyle:{width:"calc(100% - 128px)"},attrs:{item:e.item[t]}})],1)})),e.needsCollapse&&e.nbExtraAttributes>0?n("div",{staticClass:"w-128 min-w-128 mr-16 text-right text-nebula-blue cursor-pointer",on:{click:function(t){e.isCollapsed=!e.isCollapsed}}},[e.isCollapsed?n("span",[e._v("Show "+e._s(e.nbExtraAttributes)+" more")]):e._e(),e.isCollapsed?e._e():n("span",[e._v("Show "+e._s(e.nbExtraAttributes)+" less")])]):e._e()],2)},or=[],lr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isArray||e.isObject?n("div",[e.isArray?n("div",[n("div",{staticClass:"flex relative"},[e.canExand?n("div",{staticClass:"absolute left-0 -ml-12 cursor-pointer",on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(e._s(e.collapsed?"+":"-"))]):e._e(),e.parentKey?n("div",{staticClass:"mr-4"},[e._v(e._s(e.parentKey)+":")]):e._e(),e.isCollapsed?e._e():n("div",[e._v("[")]),e.isCollapsed?n("div",{staticClass:"whitespace-pre truncate",domProps:{innerHTML:e._s(e.highlightedValue)}}):e._e()]),e.isCollapsed?e._e():n("div",{staticClass:"ml-36"},e._l(e.item._v_,(function(t,a){return n("div",{staticClass:"relative"},[n("div",{staticClass:"absolute left-0 -ml-32 text-proton-grey"},[e._v("["+e._s(a)+"]")]),n("attribute",{attrs:{item:t}})],1)})),0),e.isCollapsed?e._e():n("div",[e._v("]")])]):e._e(),e.isObject?n("div",[n("div",{staticClass:"flex relative"},[e.canExand?n("div",{staticClass:"absolute left-0 -ml-12 cursor-pointer",on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(e._s(e.collapsed?"+":"-"))]):e._e(),e.parentKey?n("div",{staticClass:"mr-4"},[e._v(e._s(e.parentKey)+":")]):e._e(),e.isCollapsed?e._e():n("div",[e._v("{")]),e.isCollapsed?n("div",{staticClass:"whitespace-pre truncate",domProps:{innerHTML:e._s(e.highlightedValue)}}):e._e()]),e.isCollapsed?e._e():n("div",{staticClass:"ml-36"},e._l(e.item._v_,(function(e,t){return n("attribute",{attrs:{item:e,"parent-key":t}})})),1),e.isCollapsed?e._e():n("div",[e._v("}")])]):e._e()]):e._e(),e.isBoolean||e.isNumber||e.isNull?n("div",[n("div",{staticClass:"flex"},[e.parentKey?n("div",[e._v(e._s(e.parentKey)+": ")]):e._e(),e.isBoolean?n("div",{staticClass:"json-token boolean"},[e._v(e._s(e.stringValue))]):e._e(),e.isNumber?n("div",{staticClass:"json-token number"},[e._v(e._s(e.stringValue))]):e._e(),e.isNull?n("div",{staticClass:"json-token null"},[e._v("null")]):e._e()])]):e._e(),e.isString?n("div",[n("div",{staticClass:"flex relative"},[e.isLong?n("div",{staticClass:"absolute left-0 -ml-12 cursor-pointer",on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(e._s(e.collapsed?"+":"-"))]):e._e(),e.parentKey?n("div",{staticClass:"mr-4"},[e._v(e._s(e.parentKey)+":")]):e._e(),e.collapsed?n("div",{staticClass:"whitespace-pre truncate",domProps:{innerHTML:e._s(e.highlightedValue)}}):e._e(),e.collapsed?e._e():n("div",{staticClass:"json-token string break-words w-full"},[n("span",{domProps:{innerHTML:e._s(e.escapeAndHighlightHit(e.rawStringValue))}})])])]):e._e()])},cr=[],ur={name:"Attribute",props:["item","parentKey"],data:function(){return{collapsed:!0,escapeAndHighlightHit:ne}},computed:{canExand:function(){return this.isLong&&!this.isForcedExpanded},isForcedExpanded:function(){return!this.isString&&this.item._b_},isCollapsed:function(){return this.collapsed&&!this.item._b_},highlightedValue:function(){return ae(this.item._s_||this.stringValue)},stringValue:function(){return JSON.stringify(this.item._v_)},rawStringValue:function(){return JSON.stringify(this.item._rv_||this.item._rv_)},isArray:function(){return Array.isArray(this.item._v_)},isLong:function(){return this.isArray||this.isObject||this.isString&&this.stringValue.length>53},isString:function(){return Ze(this.item._v_)},isObject:function(){return this.item._v_&&"object"===Object(r["a"])(this.item._v_)&&this.item._v_.constructor===Object},isBoolean:function(){return"boolean"===typeof this.item._v_},isNumber:function(){return"number"===typeof this.item._v_},isNull:function(){return null==this.item._v_}}},pr=ur,dr=Object(D["a"])(pr,lr,cr,!1,null,null,null),hr=dr.exports,mr={name:"Attributes",components:{Attribute:hr},props:["topAttributes","searchableAttributes","item","noCollapse"].concat(Object(ce["a"])(us.attributes),Object(ce["a"])(us.paramsAndSettings)),data:function(){return{isCollapsed:!0,reservedAttributes:{_highlightResult:!0,_snippetResult:!0,_rankingInfo:!0,_distinctSeqID:!0}}},computed:{nbExtraAttributes:function(){return this.allKeys.length-this.keys.length},needsCollapse:function(){return!0!==this.noCollapse&&this.topAttributes.length>0},uncollapsedAttributes:function(){var e=this,t=this.searchParams&&this.searchParams.attributesToRetrieve;return!t&&this.showSearchableAttributes&&this.showOnlyMatchingAttributes?this.keys.filter((function(t){return"objectID"===t||(-1===e.searchableAttributes.indexOf(t)||e.item[t]._b_)})):this.keys},currentKeys:function(){return this.needsCollapse&&this.isCollapsed?this.uncollapsedAttributes:this.allKeys},keys:function(){var e=this;return this.allKeys.filter((function(t){return-1!==e.topAttributes.indexOf(t)}))},allKeys:function(){var e=this,t=this.searchParams&&!0===this.searchParams.getRankingInfo;return Object.keys(this.item).filter((function(n){return!e.reservedAttributes[n]||!0===t&&"_rankingInfo"===n})).sort((function(t,n){var a=e.topAttributes.indexOf(t),s=e.topAttributes.indexOf(n);return a===s?0:-1===a?1:-1===s||a<s?-1:1}))}}},fr=mr,yr=Object(D["a"])(fr,ir,or,!1,null,null,null),gr=yr.exports,vr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"w-128 text-right mb-8 uppercase tracking-wide text-xs text-nova-grey"},[e._v("\n        Ranking Info\n    ")]),n("div",e._l(e.criteria,(function(t){return n("div",{staticClass:"flex text-cosmos-black-opacity-70"},[n("div",{staticClass:"w-128 text-right truncate"},[e._v("\n                "+e._s(t.label)+"\n            ")]),n("div",{staticClass:"ml-12 flex flex-wrap",staticStyle:{width:"calc(100% - 140px)"}},[n("div",{staticClass:"truncate hover:overflow-visible px-2 mr-1",style:t.val!==t.oldVal?"background: rgba(84, 104, 255, 0.1); color: #5468ff;":""},[e._v("\n                    "+e._s(t.val)+"\n                ")]),e.i>0&&t.val!==t.oldVal?n("div",{staticClass:"truncate hover:overflow-visible"},[n("span",{staticClass:"text-sm"},[e._v("was")]),e._v(" "+e._s(t.oldVal)+"\n                ")]):e._e(),t.extraInfo?n("div",{staticClass:"truncate hover:overflow-visible ml-4 text-nova-grey-opacity-80"},[e._v("\n                    "+e._s(t.extraInfo)+"\n                ")]):e._e()])])})),0)])},br=[],xr={name:"RankingInfo",props:["item","previousItem","i","indexSettings","searchParams"],computed:{rankingInfoAnalyzer:function(){return new ye(this.indexSettings)},searchableAttributes:function(){return this.indexSettings.searchableAttributes||this.indexSettings.attributesToIndex||fe.searchableAttributes.default},isTypoStrictOrMin:function(){return this.searchParams&&void 0!==this.searchParams.typoTolerance?-1!==["strict","min"].indexOf(this.searchParams.typoTolerance):-1!==["strict","min"].indexOf(this.indexSettings.typoTolerance)},criteria:function(){var e=this,t=[];return this.rankingInfoAnalyzer.getActualCriteria(this.searchParams).forEach((function(n){var a={label:n,val:e.rankingInfoAnalyzer.getCriterionValue(e.item,n),oldVal:e.rankingInfoAnalyzer.getCriterionValue(e.previousItem,n)};e.isTypoStrictOrMin&&"typo"===n&&(a.extraInfo="// typo first because typoTolerance=".concat(e.indexSettings.typoTolerance||e.searchParams.typoTolerance)),"geo"===n&&(null!==a.val&&(a.val="".concat(a.val," meters")),null!==a.oldVal&&(a.oldVal="".concat(a.oldVal))),"attribute"===n&&(a.val=e.getBestMatchingAttribute(a.val),a.oldVal=e.getBestMatchingAttribute(a.oldVal)),t.push(a)})),t.filter((function(e){return null!==e.val||null!==e.oldVal}))}},methods:{getBestMatchingAttribute:function(e){return this.searchableAttributes.length<=0?"No searchable attributes":this.searchableAttributes[e]}}},_r=xr,wr=Object(D["a"])(_r,vr,br,!1,null,null,null),kr=wr.exports,Ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.saving?e._e():n("div",[n("ace-editor",{attrs:{id:e.uniqID+"-"+e.objectID,styles:{height:"250px"},"default-value":e.newHit,"on-change":e.onChange,"on-validate":e.onValidate}}),n("div",{staticClass:"flex justify-end mt-16"},[e.canBeSaved?n("button",{staticClass:"bg-white rounded border border-saturn-2 text-saturn-1 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm",on:{click:e.save}},[e._v("\n                Save\n            ")]):e._e(),n("button",{staticClass:"bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm",on:{click:function(t){return e.$emit("onStopEdit")}}},[e._v("\n                Cancel\n            ")])])],1),e.saving?n("div",{staticClass:"flex items-center justify-center text-nova-grey-opacity-80 py-48"},[n("loader-icon",{staticClass:"w-24 h-24 infinte-rotate"}),n("div",{staticClass:"ml-16"},[e._v("Saving "+e._s(e.objectID))])],1):e._e()])},Cr=[],Ar={name:"HitEdit",components:{AceEditor:ln,LoaderIcon:j},props:["hit","allowSaveWithoutEdit"].concat(Object(ce["a"])(us.credentials)),data:function(){var e={},t="";if(this.hit){for(var n in this.hit)-1===["_rankingInfo","_highlightResult","_snippetResult"].indexOf(n)&&(e[n]=JSON.parse(JSON.stringify(this.hit[n])));t=JSON.stringify(e,null,2)}return{uniqID:"_"+Math.random().toString(36).substr(2,9),saving:!1,nbErrors:0,oldHit:this.allowSaveWithoutEdit?"":t,newHit:t}},computed:{objectID:function(){return this.hit?this.hit.objectID:"new objects"},canBeSaved:function(){return!this.saving&&0===this.nbErrors&&this.oldHit!==this.newHit}},methods:{onChange:function(e){this.newHit=e},onValidate:function(e){this.nbErrors=e.length},save:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 2:return t=e.sent,n=JSON.parse(this.newHit),a=Array.isArray(n)?n:[n],s=t.saveObjects(a,{autoGenerateObjectIDIfNotExist:!0}),this.saving=!0,e.next=9,s.wait();case 9:this.saving=!1,this.$emit("onStopEdit"),this.$root.$emit("shouldTriggerSearch",this.indexName);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Pr=Ar,Sr=Object(D["a"])(Pr,Ir,Cr,!1,null,null,null),Or=Sr.exports,jr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.saving?e._e():n("div",{staticClass:"flex justify-end mt-16"},[n("button",{staticClass:"rounded bg-mars-1 shadow-sm hover:shadow transition-fast-out text-white p-8",on:{click:e.deleteHit}},[e._v("\n            Confirm Delete\n        ")]),n("button",{staticClass:"white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out px-16 p-8 ml-16",on:{click:function(t){return e.$emit("onStopDelete")}}},[e._v("\n            Cancel\n        ")])]),e.saving?n("div",{staticClass:"flex items-center justify-center text-nova-grey-opacity-80 py-16"},[n("loader-icon",{staticClass:"w-24 h-24 infinte-rotate"}),n("div",{staticClass:"ml-16"},[e._v("Deleting "+e._s(e.hit.objectID))])],1):e._e()])},Rr=[],Nr={name:"HitDelete",props:["hit"].concat(Object(ce["a"])(us.credentials)),components:{LoaderIcon:j},data:function(){return{saving:!1}},methods:{deleteHit:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 2:return t=e.sent,e.next=5,t.deleteObject(this.hit.objectID);case 5:return n=e.sent,this.saving=!0,e.next=9,t.waitTask(n["taskID"]);case 9:this.saving=!1,this.$emit("onStopDelete"),this.$root.$emit("shouldTriggerSearch",this.indexName);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},$r=Nr,Tr=Object(D["a"])($r,jr,Rr,!1,null,null,null),Dr=Tr.exports,Kr={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("path",{attrs:{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"}})]))}},Er={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("path",{attrs:{d:"M4 14h6v6M20 10h-6V4M14 10l7-7M3 21l7-7"}})]))}},Mr={name:"Hit",components:{Tooltip:Bt,HitImage:fs,HitDelete:Dr,HitEdit:Or,RankingInfo:kr,Attributes:gr,EditIcon:Rt,TrashIcon:Nt,FlipLeftIcon:$t,FlipRightIcon:Tt,MaximizeIcon:Kr,MinimizeIcon:Er},props:["panelKey","hit","previousHit","topAttributes","searchableAttributes","hitPosition","titleAttribute"].concat(Object(ce["a"])(us.credentials),Object(ce["a"])(us.attributes),Object(ce["a"])(us.actions),Object(ce["a"])(us.display),Object(ce["a"])(us.images),Object(ce["a"])(us.response),Object(ce["a"])(us.paramsAndSettings)),data:function(){return{confirmDelete:!1,editMode:!1,expandImage:!1,expandable:!1}},computed:{listMode:function(){return"list"===this.displayMode||this.expandImage},imageMode:function(){return"images"===this.displayMode&&!this.expandImage},flattenHit:function(){return is(this.hit)},personalized:function(){return this.hit._rankingInfo&&this.hit._rankingInfo.personalization&&this.hit._rankingInfo.personalization.filtersScore>0},promoted:function(){return this.hit._rankingInfo&&this.hit._rankingInfo.promoted},hitNumber:function(){return this.searchResponse.hitsPerPage*this.searchResponse.page+this.hitPosition+1},title:function(){return this.hit._highlightResult&&this.hit._highlightResult[this.titleAttribute]&&this.hit._highlightResult[this.titleAttribute].value?this.hit._highlightResult[this.titleAttribute].value:this.flattenHit[this.titleAttribute]},hitsTransformer:function(){var e=["_highlightResult","_snippetResult","_distinctSeqID"];return!0!==this.searchParams.getRankingInfo&&e.push("_rankingInfo"),new Et(e)},transformedItem:function(){return Object.freeze(this.hitsTransformer.transformObj(this.hit)._v_)}},methods:{jumpRecord:function(){this.$root.$emit("".concat(this.jumpTo,"HitJumping"),this.hit),window.scrollTo(0,0)}}},Fr=Mr,zr=Object(D["a"])(Fr,sr,rr,!1,null,null,null),qr=zr.exports,Hr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.originals.length>0||e.displayedAlternatives.length>0?n("div",{staticClass:"mt-32"},[n("div",{staticClass:"text-center text-sm uppercase tracking-wide"},[e._v("Considered Alternatives")]),n("table",{staticClass:"border-collapse bg-white border border-proton-grey-opacity-50 text-center w-full mt-8"},[n("tr",e._l(e.originals,(function(t){return n("td",{staticClass:"p-8 border border-proton-grey-opacity-50 bg-moon-grey-opacity-50 align-top"},[n("div",[e._v(e._s(t.words[0]))]),e._l(t.types,(function(t){return n("div",{staticClass:"text-nova-grey"},[e._v("\n                        "+e._s(t)+"\n                    ")])}))],2)})),0),e._l(e.getRows,(function(t){return n("tr",e._l(t,(function(t){return n("td",{staticClass:"p-8 border border-proton-grey-opacity-50 align-top",class:{"bg-moon-grey-opacity-50":t.types},attrs:{colspan:t.length}},[t.types?[n("div",[t.types.includes("synonym")?n("span",[e._v('"')]):e._e(),e._v(e._s(t.words.join(" "))),t.types.includes("synonym")?n("span",[e._v('"')]):e._e()]),e._l(t.types,(function(t){return n("div",{staticClass:"text-nova-grey"},[e._v("\n                            "+e._s(t)+"\n                        ")])}))]:e._e()],2)})),0)}))],2)]):e._e()])},Br=[],Lr={name:"AppliedAlternatives",props:["algoliaResponse"],data:function(){return{keepTypes:["excluded","plural","split","concat","synonym","compound","altcorrection","conjugation"],originalTypes:["original","stopword","optional"]}},computed:{alternatives:function(){return this.algoliaResponse.explain&&this.algoliaResponse.explain.match&&this.algoliaResponse.explain.match.alternatives?this.algoliaResponse.explain.match.alternatives:[]},displayedAlternatives:function(){var e=this;return this.alternatives.filter((function(t){for(var n=0;n<t.types.length;n++)if(-1!==e.keepTypes.indexOf(t.types[n]))return!0;return!1})).sort((function(e,t){return e.offset-t.offset})).sort((function(e,t){return e.length-t.length}))},originals:function(){var e=this;return this.alternatives.filter((function(t){for(var n=0;n<t.types.length;n++)if(e.originalTypes.includes(t.types[n]))return!0;return!1})).sort((function(e,t){return e.offset-t.offset}))},getRows:function(){var e=[],t=JSON.parse(JSON.stringify(this.displayedAlternatives)),n=this.originals.length;while(t.length>0){for(var a=[],s=0,r=0;r<t.length;r++){if(t[r].offset>=s){for(var i=t.splice(r,1)[0],o=s;o<i.offset;o++)a.push({offset:o,length:1});s=i.offset+i.length,a.push(i),r-=1}if(s>=n)break}for(var l=a[a.length-1],c=l.offset+l.length;c<n;c++)a.push({offset:c,length:1});e.push(a)}return e}}},Ur=Lr,Vr=Object(D["a"])(Ur,Hr,Br,!1,null,null,null),Wr=Vr.exports,Qr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.params?n("div",{staticClass:"mt-32"},[n("div",{staticClass:"text-center text-sm uppercase tracking-wide"},[e._v("Applied Params")]),e._l(e.paramsGroups,(function(t){return n("div",{staticClass:"mt-8"},[n("div",[e._v("\n            "+e._s(t.name)+"\n            "),n("span",{staticClass:"text-nebula-blue cursor-pointer hover:underline",on:{click:function(n){return e.$set(e.active,t.key,!e.active[t.key])}}},[e._v("\n                "+e._s(e.active[t.key]?"hide":"show")+" details\n            ")])]),e.active[t.key]?n("table",{staticClass:"border-collapse bg-white border border-proton-grey-opacity-50 my-8 w-full"},e._l(Object.keys(t.params).sort(),(function(a){return n("tr",[n("td",{staticClass:"p-8 border border-proton-grey-opacity-50 bg-moon-grey-opacity-50 w-172"},[e._v("\n                    "+e._s(a)+"\n                ")]),n("td",{staticClass:"p-8 border border-proton-grey-opacity-50 bg-moon-grey-opacity-50 break-all"},[e._v("\n                    "+e._s(JSON.stringify(t.params[a]))+"\n                ")])])})),0):e._e()])}))],2):e._e()},Jr=[];function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zr,Yr,ei={name:"AppliedParams",props:["algoliaResponse","searchParams"],data:function(){return{active:{}}},computed:{params:function(){return!!(this.algoliaResponse.explain&&this.algoliaResponse.explain.match&&this.algoliaResponse.explain.params)&&this.algoliaResponse.explain.params},paramsGroups:function(){var e=[];return e.push({key:1,name:"".concat(Object.keys(this.userParams).length," params applied by you"),params:this.userParams}),Object.keys(this.toolsParams).length>0&&e.push({key:2,name:"".concat(Object.keys(this.toolsParams).length," params forced by metaparams"),params:this.toolsParams}),Object.keys(this.rulesParams).length>0&&e.push({key:3,name:"".concat(Object.keys(this.rulesParams).length," params applied by rules"),params:this.rulesParams}),e.push({key:4,name:"".concat(Object.keys(this.finalParams).length," final applied params"),params:this.finalParams}),e},finalParams:function(){return this.params.final},userParams:function(){var e=this.clientParams?this.clientParams.query:"";return Xr({query:e},this.searchParams)},toolsParams:function(){var e=this,t={};return Object.keys(this.clientParams).forEach((function(n){void 0===e.userParams[n]&&(t[n]=e.clientParams[n])})),t},clientParams:function(){return this.params.client||{}},rulesParams:function(){return this.params.rules||{}}}},ti=ei,ni=Object(D["a"])(ti,Qr,Jr,!1,null,null,null),ai=ni.exports,si={name:"ResultsList",props:["panelKey","disablePagination"].concat(Object(ce["a"])(us.credentials),Object(ce["a"])(us.images),Object(ce["a"])(us.attributes),Object(ce["a"])(us.paramsAndSettings),Object(ce["a"])(us.response),Object(ce["a"])(us.display),Object(ce["a"])(us.actions)),components:{AppliedParams:ai,AppliedAlternatives:Wr,Hit:qr,ResultsInfo:ar,Pagination:Xs,AppliedRules:Hs},computed:{attributesForFaceting:function(){return this.indexSettings.attributesForFaceting||[]},searchableAttributes:function(){var e=this.indexSettings.searchableAttributes||this.indexSettings.attributesToIndex||[];return this.getAllSearchableAttributes(e).map(X).map(Y)},topAttributes:function(){var e=["objectID",this.autoTitleAttributeName||"objectID"];if(this.showSearchableAttributes&&e.push.apply(e,Object(ce["a"])(this.searchableAttributes)),this.showCustomRanking&&e.push.apply(e,Object(ce["a"])(this.indexSettings.customRanking||[])),this.showAttributesForFaceting&&e.push.apply(e,Object(ce["a"])(this.attributesForFaceting.slice(0,50))),this.searchParams.attributesToRetrieve){if(-1!==this.searchParams.attributesToRetrieve.indexOf("*"))return[];e.push.apply(e,Object(ce["a"])(this.searchParams.attributesToRetrieve))}return!0===this.searchParams.getRankingInfo&&e.push("_rankingInfo"),Object(ce["a"])(new Set(e)).map(X).map(Y)},needTitleAttribute:function(){return!this.showSearchableAttributes&&!this.showCustomRanking&&!this.showAttributesForFaceting}},methods:{getAllSearchableAttributes:function(e){var t=[];return e.forEach((function(e){e.split(",").forEach((function(e){t.push(e)}))})),t}}},ri=si,ii=Object(D["a"])(ri,kt,It,!1,null,null,null),oi=ii.exports,li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-full"},[n("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 mt-16 p-8"},[n("div",[e._v("\n            Nb of points : "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nbPoints,expression:"nbPoints"}],staticStyle:{width:"50px"},attrs:{type:"number",min:"1"},domProps:{value:e.nbPoints},on:{input:function(t){t.target.composing||(e.nbPoints=t.target.value)}}})]),n("div",{staticClass:"flex mt-12"},[n("div",{staticClass:"cursor-pointer mr-12",on:{click:function(t){return e.setAllCriteria(!0)}}},[e._v("Select All")]),n("div",{staticClass:"cursor-pointer",on:{click:function(t){return e.setAllCriteria(!1)}}},[e._v("Unselect All")])]),n("div",{staticClass:"flex flex-wrap mt-4"},e._l(e.charts,(function(t){return n("div",{staticClass:"mr-12"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.criteriaStatus[t.criterion]},on:{input:function(n){return e.setCriterionStatus(t.criterion,n.target.checked)}}}),e._v("\n                "+e._s(t.criterion)+"\n            ")])})),0)]),e._l(e.enabledCharts,(function(t){return n("div",{key:t.criterion+"-"+e.forceUpdateInteger,staticClass:"w-full"},[n("line-chart",{staticClass:"w-full relative",attrs:{"chart-data":t.data,options:t.options,height:t.height}})],1)}))],2)},ci=[],ui=n("6e02"),pi=n("173f"),di=n.n(pi),hi=ui["b"].reactiveProp,mi={name:"LineChart",extends:ui["a"],mixins:[hi],props:["options"],mounted:function(){this.addPlugin(di.a),this.renderChart(this.chartData,this.options)}},fi=mi,yi=Object(D["a"])(fi,Zr,Yr,!1,null,null,null),gi=yi.exports,vi={name:"RankingCharts",components:{LineChart:gi},props:["analyseResponse","indexSettings","searchParams","analyseMaxNbPoints"],data:function(){return{criteriaStatus:{},forceUpdateInteger:0}},created:function(){this.updateCriteriaStatus()},watch:{criteria:function(){this.updateCriteriaStatus()},charts:function(){this.forceUpdateInteger+=1}},computed:{hits:function(){return this.analyseResponse?this.analyseResponse.hits:[]},nbPoints:{get:function(){return this.analyseMaxNbPoints},set:function(e){this.$emit("onUpdateAnalyseMaxNbPoint",e)}},rankingInfoAnalyzer:function(){return new ye(this.indexSettings)},criteria:function(){return[].concat(Object(ce["a"])(this.rankingInfoAnalyzer.getActualCriteria(this.searchParams)),Object(ce["a"])(this.searchParams.extraChartsAttributes||[]))},searchableAttributes:function(){return this.indexSettings.searchableAttributes||this.indexSettings.attributesToIndex||[]},enabledCharts:function(){return this.charts.filter((function(e){return e.enabled}))},charts:function(){var e=this,t=[];return this.criteria.forEach((function(n){var a={enabled:e.criteriaStatus[n],criterion:n,height:"attribute"===n?12*e.searchableAttributes.length+60:154,data:e.chartData(n),options:e.chartOption(n)},s=Object(ce["a"])(new Set(a.data.datasets[0].data));if(1===s.length&&"attribute"!==n){if(null===s[0])return;if(0===s[0]&&"filters"===n)return}t.push(a)})),t},annotation:function(){var e=[];return this.hits.forEach((function(t,n){t._rankingInfo.startsRelevanceBucket&&e.push({drawTime:"beforeDatasetsDraw",type:"line",mode:"vertical",scaleID:"x-axis-0",value:n+1,borderColor:"rgba(0,0,0,0.1)",borderWidth:1})})),{annotations:e}}},methods:{setAllCriteria:function(e){var t=this;this.criteria.forEach((function(n){t.$set(t.criteriaStatus,n,e)}))},setCriterionStatus:function(e,t){this.$set(this.criteriaStatus,e,t)},updateCriteriaStatus:function(){var e=this;this.criteriaStatus={},this.criteria.forEach((function(t){e.$set(e.criteriaStatus,t,!0)}))},chartOption:function(e){var t=this;return{maintainAspectRatio:!1,position:"left",tooltips:{mode:"index",intersect:!1,callbacks:{title:function(e,n){var a="",s=n.labels,r=s?s.length:0;if(e.length>0){var i=e[0];i.label?a=i.label:i.xLabel?a=i.xLabel:r>0&&i.index<r&&(a=s[i.index]),t.hits[i.index]._rankingInfo.promoted&&(a="".concat(a," [promoted]")),t.hits[i.index]._rankingInfo.personalization&&t.hits[i.index]._rankingInfo.personalization.filtersScore>0&&(a="".concat(a," [personalized]"))}return a}}},legend:{labels:{boxWidth:0}},scales:{yAxes:[{ticks:{beginAtZero:-1!==["typo","words","proximity","attribute","position","exact","filters","perso.rankingScore","perso.filtersScore"].indexOf(e),stepSize:-1!==["typo","words","proximity","attribute","exact","filters"].indexOf(e)?1:void 0,max:"attribute"===e?this.searchableAttributes.length-1:void 0,precision:"position"===e?0:void 0,callback:function(n){return"attribute"===e?t.searchableAttributes[t.searchableAttributes.length-1-n]:n},fontSize:10},afterFit:function(e){e.width=120}}],xAxes:[{ticks:{fontSize:10},gridLines:{display:!1}}]},annotation:this.annotation}},chartData:function(e){for(var t=new Array(this.hits.length),n=0;n<this.hits.length;n++)t[n]=n+1;for(var a=new Array(this.hits.length),s=0;s<this.hits.length;s++)a[s]=this.rankingInfoAnalyzer.getCriterionValue(this.hits[s],e),"attribute"===e&&(a[s]=this.searchableAttributes.length-1-a[s]);var r=e;return-1!==["perso.filtersScore","perso.rankingScore"].indexOf(e)&&(r=e+" (for perso debugging only)"),{labels:t,datasets:[{label:r,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:a,fill:!1,borderWidth:2,pointBorderWidth:0,steppedLine:!0,pointRadius:0}]}}}},bi=vi,xi=Object(D["a"])(bi,li,ci,!1,null,null,null),_i=xi.exports,wi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 mt-16 p-8"},[n("attributes",{attrs:{"top-attributes":[],item:e.hitsTransformer.transformObj(e.searchResponse)._v_}})],1)},ki=[],Ii={name:"RawResponse",components:{Attributes:gr},props:["searchResponse"],data:function(){return{hitsTransformer:new Et}}},Ci=Ii,Ai=Object(D["a"])(Ci,wi,ki,!1,null,null,null),Pi=Ai.exports,Si=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 mt-16 p-8"},[n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.snippetMethod,expression:"snippetMethod"}],attrs:{type:"radio",value:"search"},domProps:{checked:e._q(e.snippetMethod,"search")},on:{change:function(t){e.snippetMethod="search"}}}),e._v(" Search\n        ")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.snippetMethod,expression:"snippetMethod"}],attrs:{type:"radio",value:"setSettings"},domProps:{checked:e._q(e.snippetMethod,"setSettings")},on:{change:function(t){e.snippetMethod="setSettings"}}}),e._v(" Settings\n        ")])]),n("div",{staticClass:"flex"},e._l(e.languages,(function(t){return n("div",{class:"mx-8 "+(t===e.currentLanguage?"underline":""),on:{click:function(n){e.currentLanguage=t}}},[e._v("\n            "+e._s(t)+"\n        ")])})),0),n("div",[n("pre",{domProps:{innerHTML:e._s(e.snippet)}})])])},Oi=[],ji=(n("ce9c"),n("cf91"),n("037a")),Ri=n.n(ji),Ni=n("9f9b"),$i=n.n(Ni),Ti=(n("48fd"),n("0e66"),n("3d6c"),n("5e65"),n("7c2c"),n("5a46"),n("a7ce"),n("328f"),n("263c"),{layout:{php:"\n            <?php\n            // install: composer require algolia/algoliasearch-client-php\n            require 'vendor/autoload.php';\n            use Algolia\\AlgoliaSearch\\SearchClient;\n            \n            $client = SearchClient::create(\n                '__APP_ID__',\n                '__API_KEY__'\n            );\n            $index = $client.initIndex('__INDEX_NAME__');\n            \n            __METHOD__\n            \n            var_dump($res);\n        ",ruby:"\n            # install: gem install algoliasearch\n            require 'rubygems'\n            require 'algoliasearch'\n            \n            Algolia.init(\n                application_id: '__APP_ID__',\n                api_key: '__API_KEY__'\n            )\n            index = Algolia::Index.new('__INDEX_NAME__')\n            \n            __METHOD__\n            \n            p(res)\n        ",javascript:"\n            // install:  yarn add algoliasearch\n            const algoliasearch = require('algoliasearch');\n            \n            const client = algoliasearch(\n                '__APP_ID__',\n                '__API_KEY__'\n            );\n            const index = client.initIndex('__INDEX_NAME__');\n            \n            __METHOD__\n        ",python:"\n            # install: pip install --upgrade algoliasearch\n            from algoliasearch import algoliasearch\n    \n            client = algoliasearch.Client(\"__APP_ID__\", '__API_KEY__')\n            index = client.init_index('__INDEX_NAME__')\n            \n            __METHOD__\n            \n            print res\n        ",curl:"\n            __METHOD__\n        "},search:{php:"\n            $res = $index->search('__QUERY__', [\n            __PARAMS__\n            ]);\n        ",ruby:"\n            res = index.search('__QUERY__', {\n            __PARAMS__\n            })\n        ",javascript:"\n            index.search({\n                query: '__QUERY__',\n            __PARAMS__\n            }).then((content) => {\n                console.log(content);\n            });\n        ",python:'\n            res = index.search("__QUERY__", {\n            __PARAMS__    \n            })\n        ',curl:'\n            curl -X POST \\\n            -H "X-Algolia-Application-Id: __APP_ID__" \\\n            -H "X-Algolia-API-Key: __API_KEY__" \\\n            --data-binary \'{ "params": "query=__QUERY____PARAMS__" }\' \\\n            "https://__APP_ID__-dsn.algolia.net/1/indexes/__INDEX_NAME__/query"\n        '},setSettings:{php:"\n            $res = $index->setSettings([\n            __PARAMS__\n            ]);\n        ",ruby:"\n            res = index.set_settings({\n            __PARAMS__\n            })\n        ",javascript:"\n            index.setSettings({\n            __PARAMS__\n            }).then((content) => {\n                console.log(content);\n            });\n        ",python:"\n            res = index.set_settings({\n            __PARAMS__    \n            })\n        ",curl:'\n            curl -X PUT \\\n            -H "X-Algolia-Application-Id: __APP_ID__" \\\n            -H "X-Algolia-API-Key: __API_KEY__" \\\n            --data-binary \'__PARAMS__\' \\\n            "https://__APP_ID__.algolia.net/1/indexes/__INDEX_NAME__/settings?forwardToReplicas=false"\n        '}}),Di=function(){this.snippet=function(e){var t="curl"===e.language?encodeURIComponent(e.query):e.query,n="curl"===e.language?"bash":e.language,a=Ri()(Ti.layout[e.language]).replace(/__METHOD__/g,Ri()(Ti[e.method][e.language])).replace(/__QUERY__/g,t).replace(/__PARAMS__/g,this.params_template(e)).replace(/__APP_ID__/g,e.appId).replace(/__API_KEY__/g,e.apiKey).replace(/__INDEX_NAME__/g,e.indexName);return $i.a.highlight(a,$i.a.languages[n],n)},this.params_template=function(e){var t=this;if("curl"===e.language&&"setSettings"===e.method)return JSON.stringify(e.params,null,2);var n=Object.keys(e.params).map((function(n){var a=t.getStringValue(e.params[n],e.language);return"php"===e.language?"    '".concat(n,"': ").concat(a):"ruby"===e.language?"    :".concat(n,": ").concat(a):"python"===e.language?'    "'.concat(n,'": ').concat(a):"javascript"===e.language?"    ".concat(n,": ").concat(a):"curl"===e.language?"&".concat(n,"=").concat(encodeURIComponent(a)):void 0}));return"curl"!==e.language?n.join(",\n"):n.join("")},this.getStringValue=function(e,t){var n=this;return Ze(e)?"python"===t?'"'.concat(e,'"'):"'".concat(e,"'"):"boolean"===typeof e||Number.isInteger(e)?e:Array.isArray(e)?"[\n      ".concat(e.map((function(e){return n.getStringValue(e,t)})).join(",\n      "),"\n    ]"):void 0}},Ki=Di,Ei={name:"ExportParams",props:["appId","apiKey","indexName","query","searchParams","indexSettings"],data:function(){return{searchApiKey:"",snippetMethod:"search",snippetGenerator:new Ki,currentLanguage:"php",languages:["php","ruby","javascript","python","curl"]}},created:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ve(this.appId,this.apiKey);case 2:return t=e.sent,e.next=5,t.listApiKeys();case 5:n=e.sent,a=!1,n.keys.forEach((function(e){"Search-only API Key"===e.description&&(s.searchApiKey=e.value,a=!0)})),a||(this.searchApiKey=this.apiKey);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:{snippet:function(){return this.snippetGenerator.snippet({appId:this.appId,apiKey:"search"===this.snippetMethod?this.searchApiKey:this.apiKey,indexName:this.indexName,query:this.query,params:"search"===this.snippetMethod?this.searchParams:this.indexSettings,language:this.currentLanguage,method:this.snippetMethod})}}},Mi=Ei,Fi=Object(D["a"])(Mi,Si,Oi,!1,null,null,null),zi=Fi.exports,qi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex"},[n("div",{staticClass:"flex flex-wrap rounded overflow-hidden text-nova-grey"},e._l(e.tabs,(function(t){return n("div",{staticClass:"bg-moon-grey p-4 h-28 px-12 flex items-center self-start cursor-pointer border-b-2 border-transparent",class:t.value===e.value?"text-nebula-blue border-b-2 border-nebula-blue-opacity-80":"",on:{click:function(n){return e.$emit("input",t.value)}}},[t.icon?n(t.icon,{tag:"component",staticClass:"w-auto h-8 mr-4",attrs:{name:"TabIcon"}}):e._e(),n("div",{staticClass:"text-sm"},[e._v(e._s(t.name))])],1)})),0)])},Hi=[],Bi={name:"SmallTabs",props:["value","tabs"]},Li=Bi,Ui=Object(D["a"])(Li,qi,Hi,!1,null,null,null),Vi=Ui.exports,Wi={name:"Results",props:["panelKey","disablePagination"].concat(Object(ce["a"])(us.credentials),Object(ce["a"])(us.images),Object(ce["a"])(us.attributes),Object(ce["a"])(us.paramsAndSettings),Object(ce["a"])(us.response),Object(ce["a"])(us.display),Object(ce["a"])(us.actions)),components:{SmallTabs:Vi,ResultsInfo:ar,PerformSearch:ft,Tooltip:Bt,HitEdit:Or,ExportParams:zi,RawResponse:Pi,RankingCharts:_i,ResultsList:oi,PlusCircleIcon:wt},data:function(){return{isAddingRecord:!1,jumpedHit:null,ListIcon:vt,GridIcon:_t,CodeIcon:xt,BarChartIcon:bt,jumpedToReadOnly:!1}},created:function(){var e=this;this.$root.$on("".concat(this.panelKey,"HitJumping"),(function(t){e.readOnly||e.isReplica?(e.jumpedToReadOnly=!0,window.setTimeout((function(){e.jumpedToReadOnly=!1}),1e4)):(e.isAddingRecord=!0,e.jumpedHit=t)}))}},Qi=Wi,Ji=Object(D["a"])(Qi,yt,gt,!1,null,null,null),Gi=Ji.exports,Xi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"border border-mars-1 mb-16 p-8 rounded"},[n("div",[e._v(e._s(e.errorMessage))]),e.errorMessage.includes("Invalid Application-ID or API key")?n("div",{staticClass:"mt-12"},[n("div",[e._v("App Id: "+e._s(e.appId))]),n("div",[e._v("API Key: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.adminAPIKey,expression:"adminAPIKey"}],staticClass:"input-custom inline",attrs:{placeholder:"adminAPIKey"},domProps:{value:e.adminAPIKey},on:{input:function(t){t.target.composing||(e.adminAPIKey=t.target.value)}}})])]):e._e()])},Zi=[],Yi={name:"ErrorMessage",props:["errorMessage","appId","apiKey"],computed:{adminAPIKey:{get:function(){return this.apiKey},set:function(e){this.$emit("onUpdateApiKey",e)}}}},eo=Yi,to=Object(D["a"])(eo,Xi,Zi,!1,null,null,null),no=to.exports,ao=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex flex-wrap items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"px-8 bg-proton-grey-opacity-20 rounded py-8 text-telluric-blue",attrs:{placeholder:e.placeholder},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),e.isRule?n("div",{staticClass:"ml-8 text-sm"},[e._v("\n            Status:\n            "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.rulesStatus,expression:"rulesStatus"}],staticClass:"outline-none",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.rulesStatus=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"all"}},[e._v("All")]),n("option",{attrs:{value:"enabled"}},[e._v("Enabled")]),n("option",{attrs:{value:"disabled"}},[e._v("Disabled")])])]):e._e(),e.readOnly?e._e():n("div",{staticClass:"ml-auto flex items-center"},[n("button",{staticClass:"relative group"},[n("plus-circle-icon",{staticClass:"w-16 h-16 text-nova-grey-opacity-60 cursor-pointer hover:text-telluric-blue",on:{click:function(t){e.isAdding=!0}}}),n("tooltip",[e._v(e._s(e.isRule?"Add Rule":"Add Synonym"))])],1)])]),e.jumpedToReadOnly?n("div",{staticClass:"my-12 bg-saturn-5 rounded text-solstice-blue-opacity-80 p-8"},[e._v("\n        This panel is in readonly mode\n    ")]):e._e(),e.isAdding&&!e.isRule?n("div",{staticClass:"my-12"},[e._m(0),n("synonym-edit",e._g(e._b({staticClass:"mx-8 border-t border-proton-grey-opacity-30",attrs:{synonym:e.jumpedElt||{objectID:"syn-"+Math.random().toString(36).substr(2,9),type:"synonym",synonyms:["",""]},"allow-save-without-edit":e.jumpedElt},on:{onStopEdit:function(t){e.isAdding=!1}}},"synonym-edit",e.$props,!1),e.$listeners))],1):e._e(),e.isAdding&&e.isRule?n("div",{staticClass:"my-12"},[n("rule-edit",e._g(e._b({attrs:{rule:e.jumpedElt||{objectID:"rule-"+Math.random().toString(36).substr(2,9),condition:{pattern:"",anchoring:"contains"},consequence:{}}},on:{onStopEdit:function(t){e.isAdding=!1}}},"rule-edit",e.$props,!1),e.$listeners))],1):e._e(),n("collection",e._g(e._b({staticClass:"mt-12",attrs:{type:e.isRule?"rules":"synonyms",objs:e.objs}},"collection",e.$props,!1),e.$listeners)),n("div",{staticClass:"flex justify-center"},[n("pagination",{attrs:{page:e.page,"nb-pages":e.nbPages},on:{onUpdatePage:function(t){e.page=t}}})],1)],1)},so=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex text-xs uppercase tracking-wide"},[n("div",{staticClass:"w-20p p-8"},[e._v("Synonym ID")]),n("div",{staticClass:"w-80p p-8"},[e._v("Synonym value")])])}],ro=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.objs.length>0?n("div",[n("div",{staticClass:"flex items-center"},[null===e.batchAction?n("div",{staticClass:"mb-24 p-8"},[e.batchable.length!==e.objsToDisplay.length?n("button",{staticClass:"bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm mr-12",on:{click:e.checkAll}},[e._v("\n                    Select all\n                ")]):e._e(),e.batchable.length>0?n("button",{staticClass:"bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm mr-12",on:{click:e.uncheckAll}},[e._v("\n                    Deselect all\n                ")]):e._e()]):e._e(),null===e.batchAction?n("div",{staticClass:"ml-auto mb-24 p-8"},[e.isRule&&e.batchable.length>0?n("button",{staticClass:"bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm mr-12 relative group",on:{click:function(t){e.batchAction="enableAllRules"}}},[e._v("\n                    Enable all ("+e._s(e.batchable.length)+")\n                    "),n("tooltip",[e._v("Will ask for confirmation")])],1):e._e(),e.isRule&&e.batchable.length>0?n("button",{staticClass:"bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm mr-12 relative group",on:{click:function(t){e.batchAction="disableAllRules"}}},[e._v("\n                    Disable all ("+e._s(e.batchable.length)+")\n                    "),n("tooltip",[e._v("Will ask for confirmation")])],1):e._e(),e.batchable.length>0?n("button",{staticClass:"bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm mr-12 relative group",on:{click:function(t){e.batchAction=e.isRule?"deleteAllRules":"deleteAllSynonyms"}}},[e._v("\n                    Delete all ("+e._s(e.batchable.length)+")\n                    "),n("tooltip",[e._v("Will ask for confirmation")])],1):e._e()]):e._e()]),null!==e.batchAction?n("rule-batch",e._g(e._b({staticClass:"mb-24",attrs:{batchable:e.batchable,action:e.batchAction},on:{onStopEdit:function(t){e.batchAction=null}}},"rule-batch",e.$props,!1),e.$listeners)):e._e(),"synonyms"===e.type?n("div",{staticClass:"flex text-xs uppercase tracking-wide"},[n("div",{staticClass:"w-20p p-8"},[e._v("Synonym ID")]),n("div",{staticClass:"w-80p p-8"},[e._v("Synonym value")])]):e._e(),"synonyms"===e.type?n("div",e._l(e.objsToDisplay,(function(t){return n("div",{key:t.objectID,staticClass:"border-t border-proton-grey-opacity-30"},[n("synonym",e._g(e._b({attrs:{synonym:t,checked:e.checkedList[t.objectID]},on:{updateChecked:function(n){e.checkedList[t.objectID]=n}}},"synonym",e.$props,!1),e.$listeners))],1)})),0):e._e(),"rules"===e.type?n("div",e._l(e.objsToDisplay,(function(t){return n("div",{key:t.objectID},[n("rule",e._g(e._b({class:{"bg-moon-grey":e.checkedList[t.objectID]},attrs:{rule:t,checked:e.checkedList[t.objectID]},on:{updateChecked:function(n){e.checkedList[t.objectID]=n}}},"rule",e.$props,!1),e.$listeners))],1)})),0):e._e()],1):e._e(),0===e.objs.length?n("div",{staticClass:"p-8"},[e._v("\n        No results\n    ")]):e._e(),e.needsCollapse?n("div",{staticClass:"flex border-t border-proton-grey-opacity-30"},[n("div",{staticClass:"cursor-pointer mx-auto p-8",on:{click:function(t){e.expanded=!e.expanded}}},[e.expanded?n("span",[e._v("Show less")]):n("span",[e._v("Show all ("+e._s(e.objs.length)+")")])])]):e._e()])},io=[],oo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.editMode?e._e():n("div",{staticClass:"flex hit"},[n("div",{staticClass:"min-w-20p w-20p p-8 truncate"},[void 0!==e.checked?n("input",{staticClass:"mr-12",attrs:{type:"checkbox"},domProps:{checked:e.checked},on:{input:function(t){return e.$emit("updateChecked",t.target.checked)}}}):e._e(),e._v(" "+e._s(e.synonym.objectID)+"\n        ")]),n("div",{staticClass:"max-w-80p p-8"},[n("div",{staticClass:"flex flex-wrap"},[n("div",[n("span",{staticClass:"text-cosmos-black-opacity-70",domProps:{innerHTML:e._s(e.highlightInput)}}),n("span",{staticClass:"mx-4"},[e._v(e._s(e.isSynonym?"<=>":"=>"))])]),e._l(e.highlightSynonyms,(function(t,a){return n("div",[n("span",{staticClass:"text-cosmos-black-opacity-70",domProps:{innerHTML:e._s(t)}},[e._v(e._s(t))]),a<e.synonyms.length-1?n("span",{staticClass:"mx-4"},[e._v("\n                        "+e._s(e.isSynonym?"<=>":"OR")+"\n                    ")]):e._e()])})),"altcorrection1"===e.synonym.type.toLowerCase()?n("div",{staticClass:"mx-4"},[e._v("+1 typo")]):e._e(),"altcorrection2"===e.synonym.type.toLowerCase()?n("div",{staticClass:"mx-4"},[e._v("+2 typos")]):e._e()],2)]),n("div",{staticClass:"flex items-center ml-auto mr-8"},[e.canJumpSynonyms&&"leftPanel"===e.jumpTo?n("button",{staticClass:"relative group"},[n("flip-left-icon",{staticClass:"ml-8 text-nova-grey-opacity-60 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:e.jumpSynonym}}),n("tooltip",[e._v("Copy this synonym in the left panel index."),n("br"),e._v("Will ask for confirmation")])],1):e._e(),e.canJumpSynonyms&&"rightPanel"===e.jumpTo?n("button",{staticClass:"relative group"},[n("flip-right-icon",{staticClass:"ml-8 text-nova-grey-opacity-60 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:e.jumpSynonym}}),n("tooltip",[e._v("Copy this synonym in the right panel index."),n("br"),e._v("Will ask for confirmation")])],1):e._e(),e.readOnly?e._e():n("button",{staticClass:"relative group"},[n("edit-icon",{staticClass:"ml-8 text-nova-grey-opacity-60 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:function(t){e.editMode=!0}}}),n("tooltip",[e._v("Edit synonym. Will ask for confirmation")])],1),e.readOnly?e._e():n("button",{staticClass:"relative group"},[n("trash-icon",{staticClass:"ml-8 text-nova-grey-opacity-60 hover:text-telluric-blue w-16 h-16 cursor-pointer",on:{click:function(t){e.confirmDelete=!0}}}),n("tooltip",[e._v("Delete synonym. Will ask for confirmation")])],1)])]),e.editMode?n("synonym-edit",e._g(e._b({staticClass:"my-12 mx-8",attrs:{synonym:e.synonym},on:{onStopEdit:function(t){e.editMode=!1}}},"synonym-edit",e.$props,!1),e.$listeners)):e._e(),e.confirmDelete?n("synonym-delete",e._g(e._b({staticClass:"my-12 mx-8",attrs:{synonym:e.synonym},on:{onStopDelete:function(t){e.confirmDelete=!1}}},"synonym-delete",e.$props,!1),e.$listeners)):e._e()],1)},lo=[],co=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.saving?e._e():n("div",{staticClass:"flex justify-end mt-16"},[n("button",{staticClass:"rounded bg-mars-1 shadow-sm hover:shadow transition-fast-out text-white p-8",on:{click:e.deleteSynonym}},[e._v("\n            Confirm Delete\n        ")]),n("button",{staticClass:"white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out px-16 p-8 ml-16",on:{click:function(t){return e.$emit("onStopDelete")}}},[e._v("\n            Cancel\n        ")])]),e.saving?n("div",{staticClass:"flex items-center justify-center text-nova-grey-opacity-80 py-16"},[n("loader-icon",{staticClass:"w-24 h-24 infinte-rotate"}),n("div",{staticClass:"ml-16"},[e._v("Deleting "+e._s(e.synonym.objectID))])],1):e._e()])},uo=[],po={name:"SynonymDelete",props:["synonym"].concat(Object(ce["a"])(us.credentials)),components:{LoaderIcon:j},data:function(){return{saving:!1}},methods:{deleteSynonym:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 2:return t=e.sent,e.next=5,t.deleteSynonym(this.synonym.objectID);case 5:return n=e.sent,this.saving=!0,e.next=9,t.waitTask(n["taskID"]);case 9:this.saving=!1,this.$emit("onStopDelete"),this.$root.$emit("shouldTriggerSearch",this.indexName),this.$root.$emit("shouldTriggerSynonymsSearch",this.indexName);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},ho=po,mo=Object(D["a"])(ho,co,uo,!1,null,null,null),fo=mo.exports,yo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.saving?e._e():n("div",[n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"w-20p p-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newObjectID,expression:"newObjectID"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],staticClass:"input-custom mb-8",domProps:{value:e.newObjectID},on:{input:function(t){t.target.composing||(e.newObjectID=t.target.value)}}})]),n("div",{staticClass:"w-80p p-8 flex items-center"},[n("div",[n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.newType,expression:"newType"}],staticClass:"text-sm mb-8",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newType=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"synonym"}},[e._v("2-way")]),n("option",{attrs:{value:"onewaysynonym"}},[e._v("1-way")]),n("option",{attrs:{value:"altcorrection1"}},[e._v("correction1")]),n("option",{attrs:{value:"altcorrection2"}},[e._v("correction2")]),n("option",{attrs:{value:"placeholder"}},[e._v("placeholder")])])])]),n("div",{staticClass:"ml-8 flex flex-wrap items-center"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newInput,expression:"newInput"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],staticClass:"input-custom mb-8",attrs:{placeholder:"placeholder"===e.newType?"<identifier>":""},domProps:{value:e.newInput},on:{input:function(t){t.target.composing||(e.newInput=t.target.value)}}})]),n("div",{staticClass:"mx-8 mb-8 text-sm"},[e._v(e._s("synonym"===e.newType?"<=>":"=>"))]),e._l(e.newSynonyms,(function(t,a){return n("div",{staticClass:"flex"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSynonyms[a],expression:"newSynonyms[i]"},{name:"autowidth",rawName:"v-autowidth",value:{comfortZone:10,maxWidth:"100%"},expression:"{comfortZone: 10, maxWidth: '100%'}"}],ref:a,refInFor:!0,staticClass:"input-custom mb-8",domProps:{value:e.newSynonyms[a]},on:{keydown:function(t){return e.onKeyDown(t,a)},input:function(t){t.target.composing||e.$set(e.newSynonyms,a,t.target.value)}}})]),a<e.newSynonyms.length-1?n("div",{staticClass:"mx-8 mb-8 w-full text-center text-sm"},[e._v("\n                            "+e._s("synonym"===e.newType?"<=>":"OR")+"\n                        ")]):e._e()])}))],2)])]),n("div",{staticClass:"flex justify-end mt-16"},[e.canBeSaved?n("button",{staticClass:"bg-white rounded border border-saturn-2 text-saturn-1 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm",on:{click:e.save}},[e._v("\n                Save\n            ")]):e._e(),n("button",{staticClass:"bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm",on:{click:function(t){return e.$emit("onStopEdit")}}},[e._v("\n                Cancel\n            ")])])]),e.saving?n("div",{staticClass:"flex items-center justify-center text-nova-grey-opacity-80 py-48"},[n("loader-icon",{staticClass:"w-24 h-24 infinte-rotate"}),n("div",{staticClass:"ml-16"},[e._v("Saving "+e._s(e.newObjectID))])],1):e._e()])},go=[],vo={computed:{type:function(){return this.synonym.type?this.synonym.type.toLowerCase():"synonym"},isSynonym:function(){return"synonym"===this.type},isAltCorrection1:function(){return"altcorrection1"===this.type},isAltCorrection2:function(){return"altcorrection2"===this.type},isOneWaySynom:function(){return"onewaysynonym"===this.type},isPlaceholder:function(){return"placeholder"===this.type},input:function(){return this.synonym.input||this.synonym.word||this.synonym.placeholder||this.synonym.synonyms[0]},highlightInput:function(){return this.synonym._highlightResult?this.synonym._highlightResult.input?re(this.synonym._highlightResult.input.value):this.synonym._highlightResult.word?re(this.synonym._highlightResult.word.value):this.synonym._highlightResult.placeholder?re(this.synonym._highlightResult.placeholder.value):re(this.synonym._highlightResult.synonyms[0].value):this.input},synonyms:function(){return this.synonym.corrections||this.synonym.replacements||(this.isSynonym?this.synonym.synonyms.slice(1):this.synonym.synonyms)},highlightSynonyms:function(){return this.synonym._highlightResult?this.synonym._highlightResult.corrections?this.synonym._highlightResult.corrections.map((function(e){return re(e.value)})):this.synonym._highlightResult.replacements?this.synonym._highlightResult.replacements.map((function(e){return re(e.value)})):this.isSynonym?this.synonym._highlightResult.synonyms.slice(1).map((function(e){return re(e.value)})):this.synonym._highlightResult.synonyms.map((function(e){return re(e.value)})):this.synonyms}},methods:{properHighlight:re}},bo={name:"SynonymEdit",components:{LoaderIcon:j},mixins:[vo],props:["synonym","allowSaveWithoutEdit"].concat(Object(ce["a"])(us.credentials)),directives:{autowidth:Yt.a},data:function(){return{saving:!1,newObjectID:"",newType:"synonym",newInput:"",newSynonyms:[],forwardToReplicas:!0}},created:function(){this.newObjectID=JSON.parse(JSON.stringify(this.synonym.objectID)),this.newType=JSON.parse(JSON.stringify(this.type)),this.newInput=JSON.parse(JSON.stringify(this.input)),this.newSynonyms=JSON.parse(JSON.stringify(this.synonyms))},computed:{canBeSaved:function(){if(this.newObjectID.length<=0)return!1;if(this.newInput.length<=0)return!1;if(this.newSynonyms[0].length<=0)return!1;if(this.allowSaveWithoutEdit)return!0;if(this.newObjectID!==this.synonym.objectID)return!0;if(this.newType!==this.type)return!0;if(this.newInput!==this.input)return!0;var e=this.newSynonyms.filter((function(e){return e.length>0}));return JSON.stringify(e)!==JSON.stringify(this.synonyms)}},methods:{getNewSynonym:function(){var e={objectID:this.newObjectID,type:this.newType};return"synonym"===e.type?e.synonyms=[this.newInput].concat(Object(ce["a"])(this.newSynonyms)):"onewaysynonym"===e.type?(e.input=this.newInput,e.synonyms=this.newSynonyms):"altcorrection1"===e.type||"altcorrection2"===e.type?(e.word=this.newInput,e.corrections=this.newSynonyms):(e.placeholder=this.newInput,e.replacements=this.newSynonyms),e},save:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 2:return t=e.sent,e.next=5,t.saveSynonym(this.getNewSynonym(),{forwardToReplicas:this.forwardToReplicas});case 5:return n=e.sent,this.saving=!0,e.next=9,t.waitTask(n["taskID"]);case 9:this.saving=!1,this.$emit("onStopEdit"),this.$root.$emit("shouldTriggerSearch",this.indexName),this.$root.$emit("shouldTriggerSynonymsSearch",this.indexName);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onKeyDown:function(e,t){var n=this;(13===e.which||9===e.which&&!e.shiftKey)&&t+1>this.newSynonyms.length-1&&(e.preventDefault(),e.stopImmediatePropagation(),this.newSynonyms.push(""),this.$nextTick((function(){n.$refs[t+1][0].focus(),n.$refs[t+1][0].setSelectionRange(0,n.$refs[t+1][0].value.length)}))),(8===e.which||9===e.which&&e.shiftKey)&&0===this.newSynonyms[t].length&&t>0&&(e.preventDefault(),e.stopImmediatePropagation(),this.newSynonyms.pop(),this.$nextTick((function(){n.$refs[t-1][0].focus(),n.$refs[t-1][0].setSelectionRange(n.$refs[t-1][0].value.length,n.$refs[t-1][0].value.length)})))}}},xo=bo,_o=Object(D["a"])(xo,yo,go,!1,null,null,null),wo=_o.exports,ko={name:"Synonym",props:["synonym","checked"].concat(Object(ce["a"])(us.actions),Object(ce["a"])(us.credentials)),components:{SynonymEdit:wo,Tooltip:Bt,SynonymDelete:fo,EditIcon:Rt,TrashIcon:Nt,FlipLeftIcon:$t,FlipRightIcon:Tt},mixins:[vo],data:function(){return{editMode:!1,confirmDelete:!1}},methods:{jumpSynonym:function(){this.$root.$emit("".concat(this.jumpTo,"SynonymJumping"),this.synonym),window.scrollTo(0,0)}}},Io=ko,Co=Object(D["a"])(Io,oo,lo,!1,null,null,null),Ao=Co.exports,Po=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.saving?e._e():n("div",[n("div",{staticClass:"flex justify-end"},[e.saveError?n("div",{staticClass:"border border-mars-1 mr-8 p-8 rounded"},[e._v("\n                "+e._s(e.saveError)+"\n            ")]):e._e(),n("button",{staticClass:"rounded bg-mars-1 shadow-sm hover:shadow transition-fast-out text-white p-8",on:{click:e.save}},["enableAllRules"===e.action?n("span",[e._v("Enable "+e._s(e.batchable.length)+" rules")]):e._e(),"disableAllRules"===e.action?n("span",[e._v("Disable "+e._s(e.batchable.length)+" rules")]):e._e(),"deleteAllRules"===e.action?n("span",[e._v("Delete "+e._s(e.batchable.length)+" rules")]):e._e(),"deleteAllSynonyms"===e.action?n("span",[e._v("Delete "+e._s(e.batchable.length)+" synonyms")]):e._e()]),n("button",{staticClass:"ml-8 bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm",on:{click:function(t){return e.$emit("onStopEdit")}}},[e._v("\n                Cancel\n            ")])])]),e.saving?n("div",{staticClass:"flex items-center justify-center text-nova-grey-opacity-80 py-48"},[n("loader-icon",{staticClass:"w-24 h-24 infinte-rotate"}),n("div",{staticClass:"ml-16"},[e._v("Applying batch operation")])],1):e._e()])},So=[];function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ro={name:"RuleBatch",props:["action","batchable"].concat(Object(ce["a"])(us.credentials)),components:{LoaderIcon:j},data:function(){return{saveError:null,saving:!1}},methods:{getRulesEnabled:function(){return this.batchable.map((function(e){return jo({},e,{enabled:!0})}))},getRulesDisabled:function(){return this.batchable.map((function(e){return jo({},e,{enabled:!1})}))},save:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 2:if(t=e.sent,e.prev=3,"enableAllRules"!==this.action){e.next=8;break}return e.next=7,t.saveRules(this.getRulesEnabled(),{forwardToReplicas:this.forwardToReplicas});case 7:n=e.sent;case 8:if("disableAllRules"!==this.action){e.next=12;break}return e.next=11,t.saveRules(this.getRulesDisabled(),{forwardToReplicas:this.forwardToReplicas});case 11:n=e.sent;case 12:if("deleteAllRules"!==this.action){e.next=21;break}a=0;case 14:if(!(a<this.batchable.length)){e.next=21;break}return e.next=17,t.deleteRule(this.batchable[a].objectID,{forwardToReplicas:this.forwardToReplicas});case 17:n=e.sent;case 18:a++,e.next=14;break;case 21:if("deleteAllSynonyms"!==this.action){e.next=30;break}s=0;case 23:if(!(s<this.batchable.length)){e.next=30;break}return e.next=26,t.deleteSynonym(this.batchable[s].objectID,{forwardToReplicas:this.forwardToReplicas});case 26:n=e.sent;case 27:s++,e.next=23;break;case 30:return this.saving=!0,e.next=33,t.waitTask(n["taskID"]);case 33:this.saving=!1,this.$emit("onStopEdit"),this.$root.$emit("shouldTriggerSearch",this.indexName),this.$root.$emit("shouldTriggerRulesSearch",this.indexName),this.$root.$emit("shouldTriggerSynonymsSearch",this.indexName),e.next=43;break;case 40:e.prev=40,e.t0=e["catch"](3),this.saveError=e.t0.message;case 43:case"end":return e.stop()}}),e,this,[[3,40]])})));function t(){return e.apply(this,arguments)}return t}()}},No=Ro,$o=Object(D["a"])(No,Po,So,!1,null,null,null),To=$o.exports,Do={name:"Collection",components:{Tooltip:Bt,RuleBatch:To,Rule:Ts,Synonym:Ao},props:["objs","type","needShowMoreButton"].concat(Object(ce["a"])(us.credentials),Object(ce["a"])(us.actions),Object(ce["a"])(us.images),Object(ce["a"])(us.attributes)),data:function(){return{expanded:!1,maxCollapseSize:10,checkedList:{},isRule:"rules"===this.type,batchAction:null}},watch:{objsToDisplay:function(){this.checkedList={}}},computed:{needsCollapse:function(){return this.needShowMoreButton&&this.objs.length>this.maxCollapseSize},objsToDisplay:function(){return this.expanded?this.objs:this.objs.slice(0,this.maxCollapseSize)},batchable:function(){var e=this;return this.objs.filter((function(t){return e.checkedList[t.objectID]})).map((function(e){e._highlightResult;var t=Object(b["a"])(e,["_highlightResult"]);return t}))}},methods:{checkAll:function(){var e=this;this.objsToDisplay.forEach((function(t){e.$set(e.checkedList,t.objectID,!0)}))},uncheckAll:function(){this.checkedList={}}}},Ko=Do,Eo=Object(D["a"])(Ko,ro,io,!1,null,null,null),Mo=Eo.exports;function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qo={name:"Fetcher",components:{Pagination:Xs,RuleEdit:Os,SynonymEdit:wo,Tooltip:Bt,Collection:Mo,PlusCircleIcon:wt},props:["methodName","panelKey"].concat(Object(ce["a"])(us.credentials),Object(ce["a"])(us.actions),Object(ce["a"])(us.images),Object(ce["a"])(us.attributes)),data:function(){return{objs:[],allObjs:[],query:"",page:0,nbPages:0,isAdding:!1,jumpedElt:null,isRule:"searchRules"===this.methodName,rulesStatus:"all",jumpedToReadOnly:!1}},computed:{placeholder:function(){return this.isRule?"Search rules":"Search synonyms"},extraParams:function(){var e={};return this.isRule&&("enabled"===this.rulesStatus?e.enabled=!0:"disabled"===this.rulesStatus&&(e.enabled=!1)),e}},created:function(){var e=this,t=!this.isRule;t&&this.search(this.page,!0),this.search(this.page,!1);var n=this.isRule?"shouldTriggerRulesSearch":"shouldTriggerSynonymsSearch";this.$root.$on(n,(function(n){n===e.indexName&&(t&&e.search(e.page,!0),e.search(e.page,!1))})),this.$root.$on("".concat(this.panelKey,"SynonymJumping"),(function(t){e.readOnly?(e.jumpedToReadOnly=!0,window.setTimeout((function(){e.jumpedToReadOnly=!1}),1e4)):e.isRule||(e.isAdding=!0,e.jumpedElt=t)})),this.$root.$on("".concat(this.panelKey,"RuleJumping"),(function(t){e.readOnly?(e.jumpedToReadOnly=!0,window.setTimeout((function(){e.jumpedToReadOnly=!1}),1e4)):e.isRule&&(e.isAdding=!0,e.jumpedElt=t)}))},watch:{query:function(){this.search(this.page,!1)},page:function(){this.search(this.page,!1)},rulesStatus:function(){this.search(this.page,!1)},appId:function(e,t){e!==t&&this.search(0,!0),this.search(0,!1)},indexName:function(e,t){e!==t&&this.search(0,!0),this.search(0,!1)}},methods:{search:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.appId&&this.apiKey){e.next=2;break}return e.abrupt("return");case 2:return 0===t&&n&&(this.allObjs=[]),e.next=5,Qe(this.appId,this.apiKey,this.indexName,this.server,this.userId);case 5:return a=e.sent,s=n?1e3:20,e.next=9,a[this.methodName](this.query,zo({page:t,hitsPerPage:s},this.extraParams));case 9:r=e.sent,n?((i=this.allObjs).push.apply(i,Object(ce["a"])(r.hits)),this.$emit("onFetch",this.allObjs,r.nbHits)):(this.nbPages=Math.ceil(r.nbHits/s),this.objs=r.hits,this.$emit("onFetch",this.allObjs,r.nbHits));case 11:if(!(n&&this.allObjs.length<r.nbHits)){e.next=16;break}return e.next=14,this.search(t+1,n);case 14:e.next=11;break;case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}},Ho=qo,Bo=Object(D["a"])(Ho,ao,so,!1,null,null,null),Lo=Bo.exports,Uo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.reports,(function(t){return n("div",{staticClass:"mb-24"},[n("div",[e._v(e._s(t.severity))]),n("div",{domProps:{innerHTML:e._s(t.message)}})])})),0)},Vo=[],Wo=n("7678"),Qo=(n("009d"),{searchableAttributes:[["danger","nonConfiguredParam"],["danger","toBigAttributeList",64],["danger","containsBoolean"],["danger","toBigAttributeList",30],["warning","nonExistingAttribute"]],customRanking:[["danger","nonConfiguredParam"],["warning","nonExistingAttribute"]],ranking:[["danger","missingRankingCriteria"],["danger","containsNonBooleanOrNumeric"],["warning","nonExistingAttribute"]],minWordSizefor1Typo:[["danger","integerComp","<=",2],["danger","integerComp",">=",8]],minWordSizefor2Typos:[["danger","integerComp","<=",4],["danger","integerComp",">=",14]],attributeForDistinct:[["danger","containsBoolean"],["warning","nonExistingAttribute"]],distinct:[["danger","integerComp",">=",5]],attributesForFaceting:[["warning","nonExistingAttribute"],["danger","toBigAttributeList",40]],attributesToSnippet:[["warning","nonExistingAttribute"],["warning","containsBoolean"],["warning","containsNumeric"]],replicas:[["danger","integerComp",">=",10]],attributesToRetrieve:[["warning","nonExistingAttribute"]],attributesToHighlight:[["warning","nonExistingAttribute"]],disableTypoToleranceOnAttributes:[["warning","attributeNotInParam","searchableAttributes"]]});function Jo(e){var t=null;while(e!==t)t=e,e=e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/^[^(]*\((.*)\)[^)]*$/,"$1").replace(/^(.*):[0-9]+?$/,"$1");return e.split(",")}var Go=function(e,t){this.severity=e,this.message=t},Xo=function(){this.reports=[],this.getParamValue=function(e){return void 0!==this.searchParams[e]?this.searchParams[e]:"searchableAttributes"===e?this.indexSettings[e]||this.indexSettings.attributesToIndex:this.indexSettings[e]},this.getParamAttributeList=function(e){var t=this.getParamValue(e)||[];if(t&&"object"===Object(r["a"])(t)&&t.constructor===Object&&(t=Object.values(t).flat()),Array.isArray(t)||(t=[t]),t.length>50)return[];var n=t.map(Jo).flat();if("ranking"===e){var a=["typo","geo","words","filters","proximity","attribute","exact","custom"];return n.filter((function(e){return-1===a.indexOf(e)}))}return n},this.computeReports=function(e,t,n){var a,s=this;for(a in this.indexAnalyzer=e,this.indexSettings=t,this.searchParams=n,this.reports=[],Qo){var r=Qo[a];r.forEach((function(e){var t=Object(Wo["a"])(e),n=t[0],r=t[1],i=t.slice(2);s[r].apply(s,[a,n].concat(Object(ce["a"])(i)))}))}},this.toBigAttributeList=function(e,t,n){var a=this.getParamAttributeList(e);a.length>=n&&this.reports.push(new Go(t,"It's recommended not to have more than <code>".concat(n,"</code> for ").concat(e)))},this.missingRankingCriteria=function(e,t){var n=this.indexSettings.ranking;if(n){var a={typo:"<code>ranking</code>:Removing <code>typo</code> means that the number of typos won't be taken into account in the ranking.",words:"<code>ranking</code>The rule <code>words</code> is applied when some query words are optional to rank the results by number of words matched",proximity:"<code>ranking</code>:<code>proximity</code> ranks results by the proximity of words matched in the records. Removing it harms the relevance in most cases.",attribute:"<code>ranking</code>:<code>attribute</code> takes into account where the words match in the list of <code>searchableAttributes</code>. Removing it harms the relevance in most cases.",exact:"<code>ranking</code>:<code>exact</code> ranks higher results where the query words match exactly (no prefix)",custom:"<code>ranking</code>:<code>custom</code> enables the <code>customRanking</code> to be taken into account."};for(var s in a)-1===n.indexOf(s)&&this.reports.push(new Go(t,a[s]))}},this.integerComp=function(e,t,n,a){var s=this.getParamValue(e);("<="===n&&s<=a||">="===n&&s>=a)&&this.reports.push(new Go(t,"It's recommended not to have <code>".concat(e,"</code> ").concat(n," ").concat(a)))},this.nonConfiguredParam=function(e,t){var n=this.getParamValue(e);(!Array.isArray(n)||n.length<=0)&&this.reports.push(new Go(t,"Non configured ".concat(e)))},this.containsBoolean=function(e,t){this.containsType(e,t,(function(e){return"boolean"===typeof e}),"boolean")},this.containsNumeric=function(e,t){this.containsType(e,t,(function(e){return"number"===typeof e}),"numeric")},this.containsNonBooleanOrNumeric=function(e,t){this.containsType(e,t,(function(e){return!("number"===typeof e)&&!("boolean"===typeof e)}),"numeric")},this.containsType=function(e,t,n,a){for(var s=this.getParamAttributeList(e),r=this.indexAnalyzer.flattenRecord,i=0;i<s.length;i++){var o=r[s[i]];if(void 0!==o)for(var l=0;l<o.length;l++)if(n(o[l]))return void this.reports.push(new Go(t,"Some records contains ".concat(a," values in attribute ").concat(s[i]," and param ").concat(e)))}},this.attributeNotInParam=function(e,t,n){for(var a=this.getParamAttributeList(e),s=this.getParamAttributeList(n),r=0;r<a.length;r++)-1===s.indexOf(a[r])&&this.reports.push(new Go(t,"<code>".concat(a[r],"</code> is in ").concat(e," and should also be in ").concat(n)))},this.nonExistingAttribute=function(e,t){var n=this,a=this.getParamAttributeList(e);Array.isArray(a)||(a=[a]),a.forEach((function(a){-1===n.indexAnalyzer.keys.indexOf(a)&&n.reports.push(new Go(t,"Unknown attribute ".concat(a," in <code>").concat(e,"</code>. <code>").concat(a,"</code> was not found in a small sample of your records; there might be a typo.")))}))}},Zo=Xo,Yo={name:"Checks",props:["indexSettings","searchParams","indexAnalyser"],data:function(){return{settingsChecker:new Zo}},computed:{reports:function(){return this.indexAnalyser?(this.settingsChecker.computeReports(this.indexAnalyser,this.indexSettings,this.searchParams),this.$emit("onUpdateCount",this.settingsChecker.reports.length),this.settingsChecker.reports):[]}}},el=Yo,tl=Object(D["a"])(el,Uo,Vo,!1,null,null,null),nl=tl.exports,al={computed:{panelAppId:function(){return this.$store.state.panels[this.panelKey].appId},panelIndexName:function(){return this.$store.state.panels[this.panelKey].indexName},panelAdminAPIKey:{get:function(){return this.$store.state.apps[this.panelAppId].key},set:function(e){this.$store.commit("apps/addAppId",{appId:this.panelAppId,apiKey:e})}},panelUserId:{get:function(){return this.$store.state.apps[this.panelAppId].userId||null},set:function(e){this.$store.commit("apps/".concat(this.appId,"/setUserId"),e)}},trackedObjects:{get:function(){return this.$store.state.panels.trackedObjects||[]},set:function(e){this.$store.commit("panels/setTrackedObjects",e)}},analyseMaxNbPoints:{get:function(){return this.$store.state.panels.analyseMaxNbPoints},set:function(e){this.$store.commit("panels/setAnalyseMaxNbPoints",e)}},panelServer:{get:function(){return this.$store.state.panels[this.panelKey].server},set:function(e){this.$store.commit("panels/".concat(this.panelKey,"/setServer"),e)}},panelMethod:{get:function(){return this.panelKey?this.$store.state.panels[this.panelKey].method||"search":this.$store.state.panels.leftPanel.method||"search"},set:function(e){this.panelKey&&"leftPanel"!==this.panelKey||this.$store.commit("panels/leftPanel/setMethod",e),this.panelKey&&"rightPanel"!==this.panelKey||this.$store.commit("panels/rightPanel/setMethod",e)}},panelCurrentTab:{get:function(){return this.$store.state.panels[this.panelKey].currentTab||"hits"},set:function(e){this.$store.commit("panels/".concat(this.panelKey,"/setCurrentTab"),e)}},isLeftPanel:function(){return"leftPanel"===this.panelKey},searchConfigKey:function(){return!this.isLeftPanel&&this.sameIndexOnEachPanel?"searchParams2":"searchParams"},sameIndexOnEachPanel:function(){return this.$store.state.panels.leftPanel.appId===this.$store.state.panels.rightPanel.appId&&this.$store.state.panels.leftPanel.indexName===this.$store.state.panels.rightPanel.indexName}}},sl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"text-solstice-blue-opacity-80 mt-8 mb-16"},[e._v("Clusters")]),e.clusters.length>0?n("div",[n("table",{staticClass:"w-full"},[e._m(0),e._l(e.clusters,(function(t){return n("tr",{staticClass:"border-t border-proton-grey-opacity-20"},[n("td",{staticClass:"py-8 pr-32"},[e._v(e._s(t.clusterName))]),n("td",{staticClass:"py-8 pr-32"},[e._v(e._s(e.numberWithCommas(t.nbUserIDs)))]),n("td",{staticClass:"py-8 pr-32"},[e._v(e._s(e.numberWithCommas(t.nbRecords)))]),n("td",{staticClass:"py-8 pr-32"},[e._v(e._s(e.formatHumanNumber(t.dataSize,2,["B","KB","MB","GB"],1e3)))])])}))],2)]):n("div",[e._v("\n        No clusters found\n    ")]),n("h3",{staticClass:"text-solstice-blue-opacity-80 mt-48 mb-16"},[e._v("Users")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"px-8 bg-proton-grey-opacity-20 rounded py-8 text-telluric-blue",attrs:{placeholder:"search users"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),e.users.length>0?n("div",[n("table",{staticClass:"w-full mt-16"},[e._m(1),e._l(e.users,(function(t){return n("tr",{staticClass:"border-t border-proton-grey-opacity-20 hit"},[n("td",{staticClass:"py-8 pr-32",domProps:{innerHTML:e._s(t.userID)}}),n("td",{staticClass:"py-8 pr-32",domProps:{innerHTML:e._s(t.clusterName)}}),n("td",{staticClass:"py-8 pr-32"},[e._v(e._s(e.numberWithCommas(t.nbRecords)))]),n("td",{staticClass:"py-8 pr-32"},[e._v(e._s(e.formatHumanNumber(t.dataSize,2,["B","KB","MB","GB"],1e3)))])])}))],2),n("div",{staticClass:"flex"},[e.query.length>0?n("pagination",{staticClass:"mx-auto",attrs:{page:e.page,"nb-pages":Math.ceil(e.nbHits/e.hitsPerPage)},on:{onUpdatePage:function(t){e.page=t}}}):e._e()],1)]):n("div",[e._v("\n        No users found\n    ")])])},rl=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"tracking-wide text-xs uppercase text-cosmos-black-opacity-70"},[n("td",{staticClass:"py-8 pr-32"},[e._v("Cluster name")]),n("td",{staticClass:"py-8 pr-32"},[e._v("Nb users")]),n("td",{staticClass:"py-8 pr-32"},[e._v("Nb records")]),n("td",{staticClass:"py-8 pr-32"},[e._v("Data Size")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"tracking-wide text-xs uppercase text-cosmos-black-opacity-70 hit"},[n("td",{staticClass:"py-8 pr-32"},[e._v("User name")]),n("td",{staticClass:"py-8 pr-32"},[e._v("Cluster name")]),n("td",{staticClass:"py-8 pr-32"},[e._v("Nb records")]),n("td",{staticClass:"py-8 pr-32"},[e._v("Data Size")])])}];function il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?il(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ll={name:"Mcm",props:["panelKey"],mixins:[al],components:{Pagination:Xs},data:function(){return{clusters:[],users:[],formatHumanNumber:W,numberWithCommas:Q,query:"9",page:0,hitsPerPage:20,nbHits:1}},watch:{query:function(){this.page=0,this.refineUsers()},page:function(){this.refineUsers()}},created:function(){this.refineUsers(),this.loadClusters()},methods:{loadClusters:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ve(this.panelAppId,this.panelAdminAPIKey,this.panelServer);case 2:return t=e.sent,e.next=5,t.listClusters();case 5:n=e.sent,this.clusters=Object.freeze(n.clusters);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),refineUsers:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ve(this.panelAppId,this.panelAdminAPIKey,this.panelServer);case 2:if(t=e.sent,0!==this.query.length){e.next=13;break}return e.next=6,t.getTopUserIDs();case 6:n=e.sent,a=[],Object.keys(n.topUsers).forEach((function(e){a.push.apply(a,Object(ce["a"])(n.topUsers[e].map((function(t){return ol({},t,{clusterName:e})}))))})),a.sort((function(e,t){return t.dataSize-e.dataSize})),this.users=Object.freeze(a),e.next=19;break;case 13:return e.next=15,t.searchUserIDs(this.query,{page:this.page,hitsPerPage:this.hitsPerPage});case 15:for(s=e.sent,r=0;r<s.hits.length;r++)s.hits[r].userID=s.hits[r]._highlightResult.userID.value.replace("<b>","<em>").replace("</b>","</em>"),s.hits[r].clusterName=s.hits[r]._highlightResult.clusterName.value.replace("<b>","<em>").replace("</b>","</em>");this.users=Object.freeze(s.hits),this.nbHits=s.nbHits;case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},cl=ll,ul=Object(D["a"])(cl,sl,rl,!1,null,null,null),pl=ul.exports,dl={name:"Explorer",components:{Mcm:pl,Checks:nl,Fetcher:Lo,Results:Gi,PerformSearch:ft,ErrorMessage:no},props:["panelKey","readOnly"],mixins:[ot,al],data:function(){return{nbHits:0,nbRules:0,nbSynonyms:0,nbChecks:0,errorMessage:null,algoliaResponse:null,analyseAlgoliaResponse:null}},created:function(){this.panelUserId||"mcm"!==this.panelCurrentTab||(this.panelCurrentTab="hits")},computed:{appId:function(){return this.panelAppId},indexName:function(){return this.panelIndexName},displayMode:{get:function(){return this.$store.state.panels[this.panelKey].displayMode||"list"},set:function(e){this.$store.commit("panels/".concat(this.panelKey,"/setDisplayMode"),e)}},otherPanelKey:function(){return"leftPanel"===this.panelKey?"rightPanel":"leftPanel"},canJumpRules:function(){if(!this.$store.state.panels.splitMode)return!1;if(this.sameIndexOnEachPanel)return!1;var e=this.otherPanelKey;return"rules"===this.$store.state.panels[e].currentTab},canJumpSynonyms:function(){if(!this.$store.state.panels.splitMode)return!1;if(this.sameIndexOnEachPanel)return!1;var e=this.otherPanelKey;return"synonyms"===this.$store.state.panels[e].currentTab},canJumpRecords:function(){if(!this.$store.state.panels.splitMode)return!1;if(this.sameIndexOnEachPanel)return!1;var e=this.otherPanelKey,t="hits"===this.$store.state.panels[e].currentTab,n="list"===this.$store.state.panels[e].displayMode;if(!t||!n)return!1;var a=this.$store.state.panels[e].appId,s=this.$store.state.panels[e].indexName,r=this.$store.state.apps[a][s];return!(!r||!r.refIndexSettings)&&!r.refIndexSettings.primary}},methods:{formatHumanNumber:W,onFetchSynonyms:function(e,t){this.nbSynonyms=t},onFetchRules:function(e,t){this.nbRules=t},onFetchHits:function(e){this.$root.$emit("".concat(this.panelKey,"UpdateResponse"),e),this.algoliaResponse=e,this.nbHits=e?e.nbHits:0,this.$emit("onFetchHits",e)},onFetchAnalyseHits:function(e){this.$root.$emit("".concat(this.panelKey,"UpdateAnalyseResponse"),e),this.analyseAlgoliaResponse=e,this.$emit("onFetchAnalyseHits",e)},onUpdateChecksCount:function(e){this.nbChecks=e},onSetParamValue:function(e,t){this.$store.commit("".concat(this.indexCommitPrefix,"/setParamValue"),{configKey:this.searchConfigKey,key:e,value:t})},onDeleteParam:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/deleteParam"),{configKey:this.searchConfigKey,inputKey:e})},onShouldUpdateQuery:function(e){"rightPanel"===this.panelKey&&this.$store.state.panels.twoInputs&&this.$store.state.panels.comparePanels?this.onSetParamValue("query",e):this.$store.commit("panels/setQuery",e)}}},hl=dl,ml=Object(D["a"])(hl,U,V,!1,null,null,null),fl=ml.exports,yl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("params-panel",{attrs:{"panel-key":e.panelKey,"config-key":e.searchConfigKey,"read-only":e.readOnly}}),e.isLeftPanel||!e.sameIndexOnEachPanel?n("div",[n("params-panel",{attrs:{"panel-key":e.panelKey,"config-key":"indexSettings","read-only":e.readOnly}})],1):e._e()],1)},gl=[],vl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.indexData?n("div",[n("params-header",{attrs:{"panel-key":e.panelKey,"config-key":e.configKey,keys:e.sortedKeys,open:e.open},on:{onSetOpen:function(t){e.open=t}}}),n("div",{staticClass:"bg-white",class:e.open?"p-8 py-12":""},[e.open?n("params",{attrs:{id:e.panelKey+"-"+e.configKey,"panel-key":e.panelKey,"config-key":e.configKey,params:e.params,"ref-params":e.refParams,"raw-params":e.rawParams,keys:e.sortedKeys,"keys-indexer":e.indexKeysIndexer},on:{onSetParamValue:e.onSetParamValue,onSetParamEnabled:e.onSetParamEnabled,onAddArrayElement:e.onAddArrayElement,onDeleteArrayElement:e.onDeleteArrayElement,onDeleteKey:e.onDeleteKey,onRestoreKey:e.onRestoreKey}}):e._e(),"indexSettings"===e.configKey?n("div",[n("div",{staticClass:"mt-24 border-t border-proton-grey-opacity-20"}),n("save-or-copy-settings",{attrs:{"panel-key":e.panelKey,"read-only":e.readOnly}})],1):e._e()],1)],1):e._e()},bl=[],xl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-telluric-blue text-xs uppercase tracking-wide flex items-center border-b border-proton-grey bg-white p-8 bg-proton-grey-opacity-40",class:"indexSettings"===e.configKey?"border-t":""},[n("div",{staticClass:"mr-auto"},[e._v(e._s("indexSettings"!==e.configKey?"Search Params":"Index Settings"))]),n("button",{staticClass:"relative group"},["indexSettings"===e.configKey&&e.isIndexSettingsDirty?n("history-icon",{staticClass:"ml-8 cursor-pointer text-solstice-blue",class:"flex-grow-0 w-12 h-12 flex-shrink-0 block",on:{click:function(t){return e.$store.commit(e.indexCommitPrefix+"/resetIndexSettings")}}}):e._e(),n("tooltip",{attrs:{position:"leftPanel"===e.panelKey?"center":"right"}},[e._v("\n            Cancel all changes\n        ")])],1),n("button",{staticClass:"relative group"},["leftPanel"===e.panelKey&&e.paramsCamJump?n("flip-right-icon",{staticClass:"ml-8 cursor-pointer text-solstice-blue",class:"flex-grow-0 w-12 h-12 flex-shrink-0 block",on:{click:function(t){return e.$store.commit("panels/jumpParams",{panelKey:e.panelKey,configKey:e.configKey})}}}):e._e(),n("tooltip",{attrs:{position:"leftPanel"===e.panelKey?"center":"right"}},[e._v("\n            Apply all "+e._s("indexSettings"!==e.configKey?"search params":"index settings")+" in the right panel index.\n        ")])],1),n("button",{staticClass:"relative group"},[n("copy-icon",{staticClass:"ml-8 cursor-pointer text-solstice-blue",class:"flex-grow-0 w-12 h-12 flex-shrink-0 block",on:{click:e.copyToClipboard}}),n("tooltip",{attrs:{position:"leftPanel"===e.panelKey?"center":"right"}},[e._v("\n            Copy to clipboard\n        ")])],1),n("button",{staticClass:"relative group"},["rightPanel"===e.panelKey&&e.paramsCamJump?n("flip-left-icon",{staticClass:"ml-8 cursor-pointer text-solstice-blue",class:"flex-grow-0 w-12 h-12 flex-shrink-0 block",on:{click:function(t){return e.$store.commit("panels/jumpParams",{panelKey:e.panelKey,configKey:e.configKey})}}}):e._e(),n("tooltip",{attrs:{position:"leftPanel"===e.panelKey?"center":"right"}},[e._v("\n            Apply all "+e._s("indexSettings"!==e.configKey?"search params":"index settings")+" in the left panel index.\n        ")])],1),n("button",{staticClass:"relative group"},[e.keys.length>0?n("trash-icon",{staticClass:"ml-8 cursor-pointer text-solstice-blue",class:"flex-grow-0 w-12 h-12 flex-shrink-0 block",on:{click:function(t){return e.$store.commit("panels/clearParams",{panelKey:e.panelKey,configKey:e.configKey})}}}):e._e(),n("tooltip",{attrs:{position:"leftPanel"===e.panelKey?"center":"right"}},[e._v("\n            "+e._s("indexSettings"!==e.configKey?"Remove":"Delete")+"\n            every "+e._s("indexSettings"!==e.configKey?"search params":"index settings")+"\n            "+e._s("indexSettings"!==e.configKey?"":". Will ask for confirmation")+"\n        ")])],1),n("button",{staticClass:"relative group"},[n("chevron-down-icon",{staticClass:"text-telluric-blue ml-24 w-8 h-8 cursor-pointer",class:"flex-grow-0 w-8 h-8 flex-shrink-0 block "+(e.open?"":"rotate-180"),on:{click:function(t){return e.$emit("onSetOpen",!e.open)}}})],1)])},_l=[],wl={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 8",fill:"currentColor"},u),...p},r.concat([n("path",{attrs:{d:"M7 8a1 1 0 01-.71-.29l-6-6A1 1 0 011.71.29L7 5.59l5.29-5.3a1 1 0 111.42 1.42l-6 6A1 1 0 017 8z"}})]))}},kl={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("rect",{attrs:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}}),n("path",{attrs:{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"}})]))}},Il=n("d3ad"),Cl=n.n(Il),Al={name:"ParamsHeader",props:["panelKey","configKey","keys","open"],mixins:[al,ot],components:{Tooltip:Bt,ChevronDownIcon:wl,CopyIcon:kl,TrashIcon:Nt,FlipLeftIcon:$t,FlipRightIcon:Tt,HistoryIcon:Ea},computed:{appId:function(){return this.panelAppId},indexName:function(){return this.panelIndexName},paramsCamJump:function(){return this.$store.state.panels.splitMode&&this.keys.length>0&&("indexSettings"!==this.configKey||!this.sameIndexOnEachPanel)}},methods:{copyToClipboard:function(){var e=Ge(this.indexData[this.configKey]);Cl()(JSON.stringify(e,null,2))}}},Pl=Al,Sl=Object(D["a"])(Pl,xl,_l,!1,null,null,null),Ol=Sl.exports,jl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-24"},[e.tasksGroup||e.displayCopyOption?e._e():n("div",{staticClass:"flex"},[!e.readOnly&&e.isIndexSettingsDirty?n("button",{staticClass:"block bg-white rounded border border-saturn-2 text-saturn-1 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm relative group",on:{click:function(t){return e.saveSettings()}}},[e._v("\n            Save in current index\n            "),n("tooltip",{attrs:{position:"leftPanel"===e.panelKey?"left":"right"}},[e._v("Launch a setSettings immediately")])],1):e._e(),n("button",{staticClass:"block bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm relative group",on:{click:function(t){e.displayCopyOption=!0}}},[e._v("\n            "+e._s(e.isIndexSettingsDirty?"Save in copy":"Copy Index")+"\n            "),n("tooltip",{attrs:{position:"leftPanel"===e.panelKey?"left":"right"}},[e._v("Display copy options."),n("br"),e._v("Will ask for confirmation")])],1)]),e.displayCopyOption&&!e.tasksGroup?n("div",[n("h4",{staticClass:"mb-8"},[e._v("\n            "+e._s(e.isIndexSettingsDirty?"Copy and save in":"Copy to")+"\n        ")]),n("div",{staticClass:"flex text-solstice-blue"},[n("app-selector",{staticClass:"mr-16",attrs:{"only-algolia":e.readOnly},model:{value:e.dstAppId,callback:function(t){e.dstAppId=t},expression:"dstAppId"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dstIndexName,expression:"dstIndexName"}],staticClass:"input-custom mr-8 w-124",domProps:{value:e.dstIndexName},on:{input:function(t){t.target.composing||(e.dstIndexName=t.target.value)}}})],1),e.indexName.length>0?n("div",{staticClass:"mt-16"},[e.sameAppIdAsPanel?n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inReplicaCopy,expression:"inReplicaCopy"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.inReplicaCopy)?e._i(e.inReplicaCopy,null)>-1:e.inReplicaCopy},on:{change:function(t){var n=e.inReplicaCopy,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&(e.inReplicaCopy=n.concat([r])):i>-1&&(e.inReplicaCopy=n.slice(0,i).concat(n.slice(i+1)))}else e.inReplicaCopy=s}}}),e._v("\n                    In a replica\n                ")])]):e._e(),e.inReplicaCopy?e._e():n("div",[n("div",[n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.limitCopy.enabled,expression:"limitCopy.enabled"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.limitCopy.enabled)?e._i(e.limitCopy.enabled,null)>-1:e.limitCopy.enabled},on:{change:function(t){var n=e.limitCopy.enabled,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.limitCopy,"enabled",n.concat([r])):i>-1&&e.$set(e.limitCopy,"enabled",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.limitCopy,"enabled",s)}}}),e._v("\n                            Limit number of hits\n                            "),e.limitCopy.enabled?n("span",[e._v("\n                                : "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.limitCopy.nbHits,expression:"limitCopy.nbHits"}],staticClass:"input-custom inline w-72",attrs:{type:"number",min:"0",step:"1000"},domProps:{value:e.limitCopy.nbHits},on:{input:function(t){t.target.composing||e.$set(e.limitCopy,"nbHits",t.target.value)}}})]):e._e()])]),e.sameAppCopyMethod?e._e():n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.configureBatchSize,expression:"configureBatchSize"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.configureBatchSize)?e._i(e.configureBatchSize,null)>-1:e.configureBatchSize},on:{change:function(t){var n=e.configureBatchSize,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&(e.configureBatchSize=n.concat([r])):i>-1&&(e.configureBatchSize=n.slice(0,i).concat(n.slice(i+1)))}else e.configureBatchSize=s}}}),e._v("\n                            Configure batch size\n                            "),e.configureBatchSize?n("span",[e._v("\n                                : "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.batchSize,expression:"batchSize"}],staticClass:"input-custom inline w-72",attrs:{type:"number",min:"1",max:"1000",step:"100"},domProps:{value:e.batchSize},on:{input:function(t){t.target.composing||(e.batchSize=t.target.value)}}})]):e._e()])]),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.limitCopy.currentQueryOnly,expression:"limitCopy.currentQueryOnly"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.limitCopy.currentQueryOnly)?e._i(e.limitCopy.currentQueryOnly,null)>-1:e.limitCopy.currentQueryOnly},on:{change:function(t){var n=e.limitCopy.currentQueryOnly,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.limitCopy,"currentQueryOnly",n.concat([r])):i>-1&&e.$set(e.limitCopy,"currentQueryOnly",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.limitCopy,"currentQueryOnly",s)}}}),e._v("\n                            Limit to current query\n                        ")])]),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.overwriteDefaultTimeout,expression:"overwriteDefaultTimeout"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.overwriteDefaultTimeout)?e._i(e.overwriteDefaultTimeout,null)>-1:e.overwriteDefaultTimeout},on:{change:function(t){var n=e.overwriteDefaultTimeout,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&(e.overwriteDefaultTimeout=n.concat([r])):i>-1&&(e.overwriteDefaultTimeout=n.slice(0,i).concat(n.slice(i+1)))}else e.overwriteDefaultTimeout=s}}}),e._v("\n                            Force write timeout\n                            "),e.overwriteDefaultTimeout?n("span",[e._v("\n                                : "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.writeTimeout,expression:"writeTimeout"}],staticClass:"input-custom inline w-72",attrs:{type:"number",min:"30",max:"1000",step:"10"},domProps:{value:e.writeTimeout},on:{input:function(t){t.target.composing||(e.writeTimeout=t.target.value)}}}),e._v(" secs\n                            ")]):e._e()])]),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.copyResources.partial,expression:"copyResources.partial"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.copyResources.partial)?e._i(e.copyResources.partial,null)>-1:e.copyResources.partial},on:{change:function(t){var n=e.copyResources.partial,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.copyResources,"partial",n.concat([r])):i>-1&&e.$set(e.copyResources,"partial",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.copyResources,"partial",s)}}}),e._v("\n                            Copy only some resources\n                        ")]),e.copyResources.partial?n("div",{staticClass:"ml-12"},[n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.copyResources.records,expression:"copyResources.records"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.copyResources.records)?e._i(e.copyResources.records,null)>-1:e.copyResources.records},on:{change:function(t){var n=e.copyResources.records,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.copyResources,"records",n.concat([r])):i>-1&&e.$set(e.copyResources,"records",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.copyResources,"records",s)}}}),e._v("\n                                    Copy records\n                                ")])]),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.copyResources.synonyms,expression:"copyResources.synonyms"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.copyResources.synonyms)?e._i(e.copyResources.synonyms,null)>-1:e.copyResources.synonyms},on:{change:function(t){var n=e.copyResources.synonyms,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.copyResources,"synonyms",n.concat([r])):i>-1&&e.$set(e.copyResources,"synonyms",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.copyResources,"synonyms",s)}}}),e._v("\n                                    Copy synonyms\n                                ")])]),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.copyResources.rules,expression:"copyResources.rules"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.copyResources.rules)?e._i(e.copyResources.rules,null)>-1:e.copyResources.rules},on:{change:function(t){var n=e.copyResources.rules,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.copyResources,"rules",n.concat([r])):i>-1&&e.$set(e.copyResources,"rules",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.copyResources,"rules",s)}}}),e._v("\n                                    Copy rules\n                                ")])]),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.copyResources.settings,expression:"copyResources.settings"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.copyResources.settings)?e._i(e.copyResources.settings,null)>-1:e.copyResources.settings},on:{change:function(t){var n=e.copyResources.settings,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&e.$set(e.copyResources,"settings",n.concat([r])):i>-1&&e.$set(e.copyResources,"settings",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.copyResources,"settings",s)}}}),e._v("\n                                    Copy settings\n                                ")])])]):e._e()])])]),n("div",{staticClass:"flex mt-16"},[n("button",{staticClass:"block bg-white rounded border border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm relative group",on:{click:function(t){e.displayCopyOption=!1}}},[e._v("\n                    Cancel\n                ")]),n("button",{staticClass:"block bg-white rounded border border-saturn-2 text-saturn-1 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm relative group",on:{click:e.copyIndex}},[e._v("\n                    "+e._s(e.isIndexSettingsDirty?"Copy, save, open in other panel":"Copy, open in other panel")+"\n                    "),n("tooltip",[e._v("Launch the copy immediately")])],1)])]):e._e()]):e._e(),n("task-group-view",{attrs:{"tasks-group":e.tasksGroup}}),e.errorMessage.length>0?n("div",{staticClass:"border border-mars-1 mt-16 p-8 rounded"},[n("div",[e._v(e._s(e.errorMessage))])]):e._e()],1)},Rl=[],Nl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("custom-select",{staticClass:"min-w-140 border-b border-telluric-blue-opacity-60 text-solstice-blue pb-4",attrs:{value:e.value,options:e.appIds,refine:e.refine},on:{input:e.onInput},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.option,s=t.inDropDown,r=t.isSelected,i=t.highlightString;return[n("div",[n("div",{staticClass:"flex"},[n("div",{domProps:{innerHTML:e._s(s?i(a):a)}}),s&&e.apps[a].__app_name?n("span",[e._v("\n                     - "),n("span",{domProps:{innerHTML:e._s(i(e.apps[a].__app_name))}})]):e._e()]),s&&e.apps[a].__app_owner?n("div",{class:r?"":"text-solstice-blue-opacity-60",domProps:{innerHTML:e._s(i(e.apps[a].__app_owner))}}):e._e()])]}}])},[n("template",{slot:"icon"},[n("box-icon",{staticClass:"block w-12 h-12 -mt-1 mr-8 fill-current"})],1)],2)},$l=[],Tl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"relative focus:outline-none",attrs:{tabindex:"-1"},on:{keyup:e.onKeyUp,keydown:e.onKeyDown,blur:e.fakeBlur}},[e.dropdownOpened&&e.refine?e._e():n("div",{staticClass:"flex items-center py-4 cursor-pointer text-sm leading-none",on:{click:e.openDropDown}},[e._t("icon"),e._t("default",null,{option:e.value,inDropDown:!1}),n("span",{staticClass:"ml-auto"}),n("chevron-down-icon",{staticClass:"block ml-24 w-8 h-8 fill-current"})],2),e.dropdownOpened&&e.refine?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"px-8 py-4 text-solstice-blue rounded text-base bg-moon-grey w-full",domProps:{value:e.query},on:{keyup:e.onKeyUp,keydown:e.onKeyDown,blur:e.onBlur,input:function(t){t.target.composing||(e.query=t.target.value)}}}):e._e(),e.dropdownOpened?n("div",{staticClass:"shadow absolute z-10 bg-white dropdown mt-4 max-h-312 min-w-full overflow-y-scroll"},e._l(e.options,(function(t,a){return n("div",{staticClass:"flex p-8 cursor-pointer",class:e.selectedIndex===a?"bg-nebula-blue text-white hover:bg-nebula-blue hover:text-white":"",on:{mousedown:function(t){e.allowBlur=!1},mousemove:function(t){e.selectedIndex=a},mouseleave:function(t){e.selectedIndex=-1},click:function(t){e.selectedIndex=a,e.onSelected(t),e.allowBlur=!0}}},[e._t("default",null,{option:t,inDropDown:!0,isSelected:e.selectedIndex===a,highlightString:e.highlightString})],2)})),0):e._e()])])},Dl=[],Kl={name:"CustomSelect",props:["value","options","displayEmptyQuery","refine","stringValueAttribute","allowFreeText"],components:{ChevronDownIcon:wl},data:function(){var e=this.stringValueAttribute&&this.value?this.value[this.stringValueAttribute]:this.value;return{allowBlur:!0,selectedIndex:-1,dropdownOpened:!1,query:e||""}},watch:{query:function(){if(this.refine){this.selectedIndex=-1;var e=this.query===this.stringValue?"":this.query;this.refine(e)}},value:function(){this.refine&&(this.query=this.stringValue)}},computed:{stringValue:function(){return this.stringValueAttribute&&this.value?this.value[this.stringValueAttribute]:this.value||""}},methods:{highlightString:function(e){return ie(e,this.query)},fakeBlur:function(){this.refine||this.onBlur()},onBlur:function(){this.allowBlur&&(this.dropdownOpened=!1,this.selectedIndex=-1)},onKeyDown:function(e){13!==e.which&&38!==e.which&&40!==e.which||e.preventDefault()},onKeyUp:function(e){var t;if(13===e.which||38===e.which||40===e.which)return e.preventDefault(),e.stopImmediatePropagation(),13===e.which&&this.onSelected(e),38===e.which&&(t=this.selectedIndex-1,t<0&&(t=this.options.length-1),this.selectedIndex=t),40===e.which&&(t=this.selectedIndex+1,t>this.options.length-1&&(t=0),this.selectedIndex=t),!1},onSelected:function(e){this.allowBlur=!1,-1!==this.selectedIndex&&this.options.length>0?this.$emit("input",this.options[this.selectedIndex]):this.allowFreeText&&this.query.length>0?this.$emit("input",{name:this.query}):this.$emit("onSelected",this.query,e),this.selectedIndex=0!==this.query.length||this.displayEmptyQuery?0:-1,this.allowBlur=!0,this.dropdownOpened=!1},openDropDown:function(){var e=this;this.dropdownOpened=!0,this.query=this.stringValue,this.refine&&a["default"].nextTick((function(){e.$refs.input.focus(),e.$refs.input.setSelectionRange(0,e.$refs.input.value.length)}))}}},El=Kl,Ml=Object(D["a"])(El,Tl,Dl,!1,null,null,null),Fl=Ml.exports,zl={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 23.53"},u),...p},r.concat([n("path",{attrs:{d:"M20.34 4.31l-8-4a3.07 3.07 0 00-2.68 0l-8 4A3 3 0 000 7v9.51a3 3 0 001.65 2.7l8 4a3 3 0 002.69 0l8-4A3 3 0 0022 16.53V7a3 3 0 00-1.66-2.69zM10.56 2.1A1 1 0 0111 2a1 1 0 01.44.1l7.32 3.66L11 9.64 3.24 5.76zm-8 15.32a1 1 0 01-.55-.9V7.37l8 4v9.78zm16.89 0L12 21.14v-9.77l8-4v9.16a1 1 0 01-.56.89z"}})]))}},ql={methods:{ownedByAlgolia:function(e){var t=this.$store.state.apps[e];return"MySuperApp"===e||e.endsWith(".local")||e.endsWith(".test")||t&&t.__app_owner&&t.__app_owner.length>0&&t.__app_owner.endsWith("@algolia.com")}}},Hl={name:"AppSelector",components:{CustomSelect:Fl,BoxIcon:zl},props:["value","onlyAlgolia"],data:function(){return{query:""}},mixins:[ql],computed:{apiKey:function(){return this.$store.state.apps[this.appId]?this.$store.state.apps[this.appId].key:""},apps:function(){return this.$store.state.apps},appIds:function(){var e=this,t=Object.keys(this.apps).filter((function(t){return!e.onlyAlgolia||e.ownedByAlgolia(t)}));if(0===this.query.length)return t;var n=this.query.toLowerCase();return t.filter((function(t){return!(!e.apps[t].__app_name||!e.apps[t].__app_name.toLowerCase().includes(n))||(!(!e.apps[t].__app_owner||!e.apps[t].__app_owner.toLowerCase().includes(n))||t.toLowerCase().includes(n))}))}},created:function(){this.value?this.$store.commit("apps/addAppId",{appId:this.value}):this.appIds.length>0&&(this.$emit("input",this.appIds[0]),this.$store.commit("apps/addAppId",{appId:this.appIds[0]}))},methods:{refine:function(e){this.query=e},onInput:function(e){this.query="",this.$emit("input",e),this.$store.commit("apps/addAppId",{appId:e})}}},Bl=Hl,Ll=Object(D["a"])(Bl,Nl,$l,!1,null,null,null),Ul=Ll.exports,Vl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.tasksGroup?n("div",[n("div",{staticClass:"mb-8"},[n("b",[e._v(e._s(e.tasksGroup.name))])]),e._l(e.tasksGroup.tasks,(function(t){return n("div",[n("div",[e._v("\n            "+e._s(t.name)+"\n            "),t.outOf?n("span",[e._v(e._s(t.nth)+"/"+e._s(t.outOf))]):e._e(),t.done?n("span",[n("check-icon",{staticClass:"w-12 h-12"})],1):e._e(),t.running?n("span",[n("loader-icon",{staticClass:"w-12 h-12 infinte-rotate"})],1):e._e()])])}))],2):e._e()},Wl=[],Ql={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:["feather feather-check",i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-check"},u),...p},r.concat([n("path",{attrs:{d:"M20 6L9 17l-5-5"}})]))}},Jl={props:["tasksGroup"],components:{LoaderIcon:j,CheckIcon:Ql}},Gl=Jl,Xl=Object(D["a"])(Gl,Vl,Wl,!1,null,null,null),Zl=Xl.exports;function Yl(e){this.tasks=[],this.tasksIds=[],this.name=e,this.addTask=function(e){this.tasks.push(e)},this.addAlgoliaTaskId=function(e){this.tasksIds.push(e)},this.run=Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.tasks.length)){e.next=7;break}return e.next=4,this.tasks[t].run();case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})))}function ec(e,t){this.name=e,t&&(this.callback=t),this.outOf=null,this.nth=null,this.running=!1,this.done=!1,this.setCallback=function(e){this.callback=e},this.setNth=function(e){this.nth=e},this.setOutOf=function(e){this.outOf=e},this.run=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.running=!0,e.next=3,this.callback();case 3:this.running=!1,this.done=!0;case 5:case"end":return e.stop()}}),e,this)})))}function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ac={name:"SaveOrCopySettings",components:{Tooltip:Bt,AppSelector:Ul,TaskGroupView:Zl},props:["panelKey","readOnly"],mixins:[ot,al],data:function(){return{errorMessage:"",dstAppId:null,dstIndexName:"",inReplicaCopy:!1,configureBatchSize:!1,limitCopy:{enabled:!1,nbHits:1e3,currentQueryOnly:!1},copyResources:{partial:!1,records:!0,settings:!0,synonyms:!0,rules:!0},batchSize:1e3,overwriteDefaultTimeout:!1,writeTimeout:30,tasksGroup:null,displayCopyOption:!1}},created:function(){this.dstAppId=this.readOnly?null:this.panelAppId,this.dstIndexName="".concat(this.panelIndexName,"_test")},computed:{appId:function(){return this.panelAppId},indexName:function(){return this.panelIndexName},sameAppIdAsPanel:function(){return this.dstAppId===this.panelAppId},sameAppCopyMethod:function(){return this.sameAppIdAsPanel&&!this.limitCopy.enabled&&!this.limitCopy.currentQueryOnly&&!this.copyResources.partial}},methods:{adminAPIKey:function(e){return this.$store.state.apps[e].key},userId:function(e){return this.$store.state.apps[e].userId},getConfig:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.configureBatchSize?this.batchSize:1e3,e.t0=this.dstAppId,e.t1=this.dstIndexName,e.t2=this.panelAppId,e.t3=this.panelIndexName,e.t4=this.panelKey,e.t5="leftPanel"===this.panelKey?"rightPanel":"leftPanel",e.next=9,Ve(this.panelAppId,this.adminAPIKey(this.panelAppId),this.panelServer,this.userId(this.panelAppId));case 9:if(e.t6=e.sent,!this.dstAppId){e.next=16;break}return e.next=13,Ve(this.dstAppId,this.adminAPIKey(this.dstAppId),this.panelServer,this.userId(this.dstAppId));case 13:e.t7=e.sent,e.next=17;break;case 16:e.t7=null;case 17:return e.t8=e.t7,e.t9=this.$store.state.panels.query,e.t10=this.limitCopy.enabled?Math.min(t,this.limitCopy.nbHits):t,e.t11=this.inReplicaCopy,e.t12=this.isIndexSettingsDirty,e.t13=nc({},this.copyResources),n={dstAppId:e.t0,dstIndexName:e.t1,srcAppId:e.t2,srcIndexName:e.t3,panelKey:e.t4,otherPanelKey:e.t5,srcClient:e.t6,dstClient:e.t8,query:e.t9,hitsPerPage:e.t10,inReplicaCopy:e.t11,applyUnsavedSettings:e.t12,copyResources:e.t13},n.panelIndex=n.srcClient.customInitIndex(n.srcIndexName),n["searchParams"]=Object.assign(this.searchParams,{hitsPerPage:n.hitsPerPage,query:n.query}),n["indexSettings"]=Object.assign({},this.indexSettings),n["srcIndex"]=n.srcClient.customInitIndex(this.panelIndexName),n.dstClient&&(n["dstIndex"]=n.dstClient.customInitIndex(this.dstIndexName),n.timeoutBackup=n.dstClient.transporter.timeouts,n.dstClient.transporter.timeouts.read=Math.ceil(this.writeTimeout/15*1e3),n.dstClient.transporter.timeouts.write=Math.ceil(1e3*this.writeTimeout)),e.abrupt("return",n);case 30:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),copyIndex:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getConfig();case 2:if(t=e.sent,t.applyUnsavedSettings&&this.$store.commit("".concat(this.indexCommitPrefix,"/resetIndexSettings")),!this.sameAppCopyMethod||this.userId(t.srcAppId)||this.userId(t.dstAppId)){e.next=10;break}return e.next=7,this.sameAppCopy(t);case 7:this.tasksGroup=e.sent,e.next=13;break;case 10:return e.next=12,this.differentAppCopy(t);case 12:this.tasksGroup=e.sent;case 13:return this.$root.$emit("onShouldPauseProxy"),e.prev=14,this.errorMessage="",e.next=18,this.tasksGroup.run();case 18:t.dstClient.transporter.timeouts=t.timeoutBackup,e.next=26;break;case 21:throw e.prev=21,e.t0=e["catch"](14),this.errorMessage=e.t0.message,this.tasksGroup=null,e.t0;case 26:this.$root.$emit("onShouldResumeProxy"),this.tasksGroup=null,this.$store.commit("panels/".concat(t.otherPanelKey,"/setPanelConfig"),{appId:t.dstAppId,indexName:t.dstIndexName}),this.$store.commit("panels/setSplitMode",!0);case 30:case"end":return e.stop()}}),e,this,[[14,21]])})));function t(){return e.apply(this,arguments)}return t}(),sameAppCopy:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,r,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Yl("Copy index ".concat(t.srcAppId,":").concat(t.srcIndexName," to ").concat(t.dstAppId,":").concat(t.dstIndexName)),e.next=3,t.srcIndex.getSettings();case 3:return a=e.sent,s=t.applyUnsavedSettings?t.indexSettings:a,r=a.slaves?"slaves":"replicas",i=a[r]||[],n.addTask(new ec("Setting settings on copy",Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return delete s.replicas,e.next=3,t.dstIndex.setSettings(s).wait();case 3:case"end":return e.stop()}}),e)}))))),n.addTask(new ec("Copy rules and synonyms",Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.srcClient.copyIndex(t.srcIndexName,t.dstIndexName,{scope:["rules","synonyms"]}).wait();case 2:case"end":return e.stop()}}),e)}))))),n.addTask(new ec("Copy records",Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return-1===i.indexOf(t.dstIndexName)&&i.push(t.dstIndexName),a[r]=i,e.next=4,t.panelIndex.setSettings(a).wait();case 4:if(t.inReplicaCopy){e.next=9;break}return i.splice(i.indexOf(t.dstIndexName),1),a[r]=i,e.next=9,t.panelIndex.setSettings(a).wait();case 9:o.$root.$emit("shouldTriggerSearch",t.srcIndexName);case 10:case"end":return e.stop()}}),e)}))))),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),differentAppCopy:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,r,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Yl("Copy index ".concat(t.srcAppId,":").concat(t.srcIndexName," to ").concat(t.dstAppId,":").concat(t.dstIndexName)),e.next=3,t.srcIndex.getSettings();case 3:return a=e.sent,s=t.applyUnsavedSettings?t.indexSettings:a,t.copyResources.partial&&!t.copyResources.settings||n.addTask(new ec("Copy settings + unsaved",Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return delete s.replicas,e.next=3,t.dstIndex.setSettings(s).wait();case 3:case"end":return e.stop()}}),e)}))))),t.copyResources.partial&&!t.copyResources.synonyms||n.addTask(new ec("Copy synonyms",Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.srcIndex.browseSynonyms({hitsPerPage:1e3,batch:function(e){t.dstIndex.saveSynonyms(e,{replaceExistingSynonyms:!1})}});case 2:case"end":return e.stop()}}),e)}))))),t.copyResources.partial&&!t.copyResources.rules||n.addTask(new ec("Copy rules",Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.srcIndex.browseRules({hitsPerPage:1e3,batch:function(e){t.dstIndex.saveRules(e,{clearExistingRules:!1})}});case 2:case"end":return e.stop()}}),e)}))))),t.copyResources.partial&&!t.copyResources.records||(this.limitCopy.currentQueryOnly?n.addTask(new ec("Copy records",Object(P["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object.assign({},t.searchParams,{attributesToRetrieve:["*"],analytics:!1,enableABTest:!1,page:0}),e.next=3,t.srcIndex.customSearch(a);case 3:return s=e.sent,e.next=6,t.dstIndex.saveObjects(s.hits.map((function(e){return delete e._highlightResult,delete e._snippetResult,e})));case 6:r=e.sent,r.taskIDs.forEach((function(e){return n.addAlgoliaTaskId(e)}));case 8:case"end":return e.stop()}}),e)}))))):(r=new ec("Copy records"),r.setCallback(Object(P["a"])(regeneratorRuntime.mark((function e(){var a,s,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=0,e.next=3,t.srcIndex.customBrowse({query:"",hitsPerPage:t.hitsPerPage,attributesToRetrieve:["*"]});case 3:return s=e.sent,i=o.limitCopy.enabled?Math.min(s.nbHits,o.limitCopy.nbHits):s.nbHits,a+=s.hits.length,r.setNth(0),r.setOutOf(Math.ceil(i/t.hitsPerPage)),e.next=10,t.dstIndex.saveObjects(s.hits);case 10:l=e.sent,l.taskIDs.forEach((function(e){return n.addAlgoliaTaskId(e)})),r.setNth(s.page+1);case 13:if(!s.cursor||o.limitCopy.enabled&&!(a<o.limitCopy.nbHits)){e.next=25;break}return e.next=16,t.srcIndex.customBrowse({cursor:s.cursor});case 16:return s=e.sent,a+=s.hits.length,e.next=20,t.dstIndex.saveObjects(s.hits);case 20:l=e.sent,l.taskIDs.forEach((function(e){return n.addAlgoliaTaskId(e)})),r.setNth(s.page+1),e.next=13;break;case 25:case"end":return e.stop()}}),e)})))),n.addTask(r))),i=new ec("Wait Tasks"),i.setCallback(Object(P["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(n.tasksIds.length>0)){e.next=11;break}i.setNth(0),i.setOutOf(n.tasksIds.length),a=0;case 4:if(!(a<n.tasksIds.length)){e.next=11;break}return e.next=7,t.dstIndex.waitTask(n.tasksIds[a]);case 7:i.setNth(a+1);case 8:a++,e.next=4;break;case 11:o.$root.$emit("shouldTriggerSearch",t.srcIndexName);case 12:case"end":return e.stop()}}),e)})))),n.addTask(i),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),saveSettings:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getConfig();case 2:return t=e.sent,n=new Yl("Update settings of ".concat(t.srcAppId,":").concat(t.srcIndexName)),a={},Object.keys(fe).forEach((function(e){if(void 0!==fe[e].settings_default){if("searchableAttributes"===e&&t.indexSettings.attributesToIndex)return;a[e]=fe[e].settings_default}})),s=t.indexSettings,r=Object.assign(a,s),n.addTask(new ec("Set settings",Object(P["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.panelIndex.setSettings(r);case 2:a=e.sent,n.addAlgoliaTaskId(a.taskID);case 4:case"end":return e.stop()}}),e)}))))),n.addTask(new ec("Wait Tasks",Object(P["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<n.tasksIds.length)){e.next=7;break}return e.next=4,t.panelIndex.waitTask(n.tasksIds[a]);case 4:a++,e.next=1;break;case 7:i.$root.$emit("shouldTriggerSearch",t.srcIndexName);case 8:case"end":return e.stop()}}),e)}))))),this.tasksGroup=n,e.prev=11,this.errorMessage="",e.next=15,this.tasksGroup.run();case 15:e.next=22;break;case 17:throw e.prev=17,e.t0=e["catch"](11),this.errorMessage=e.t0.message,this.tasksGroup=null,e.t0;case 22:this.tasksGroup=null,this.$store.commit("apps/".concat(t.srcAppId,"/").concat(t.srcIndexName,"/replaceIndexSettings"),s);case 24:case"end":return e.stop()}}),e,this,[[11,17]])})));function t(){return e.apply(this,arguments)}return t}()}},sc=ac,rc=Object(D["a"])(sc,jl,Rl,!1,null,null,null),ic=rc.exports,oc={name:"ParamsPanel",components:{SaveOrCopySettings:ic,Params:Va,ParamsHeader:Ol},props:["panelKey","configKey","readOnly"],mixins:[ot,al],data:function(){return{open:!0}},computed:{appId:function(){return this.panelAppId},indexName:function(){return this.panelIndexName},sortedKeys:function(){return Object.keys(this.params).sort((function(e,t){return"searchableAttributes"===e?-1:"searchableAttributes"===t?1:"attributesToIndex"===e?-1:"attributesToIndex"===t?1:"customRanking"===e?-1:"customRanking"===t?1:"attributesForFaceting"===e?-1:"attributesForFaceting"===t?1:e<t?-1:e>t?1:0}))},params:function(){return"indexSettings"!==this.configKey?this.indexData[this.configKey]||{}:Object.assign({},this.refIndexSettingsRaw,this.indexSettingsRaw)},rawParams:function(){return"indexSettings"===this.configKey?this.indexSettingsRaw:this.searchParamsRaw},refParams:function(){return"indexSettings"===this.configKey?this.refIndexSettingsRaw:this.searchParamsRaw}},methods:{onSetParamValue:function(e,t){this.$store.commit("".concat(this.indexCommitPrefix,"/setParamValue"),{configKey:this.configKey,key:e,value:t})},onSetParamEnabled:function(e,t){this.$store.commit("".concat(this.indexCommitPrefix,"/setParamEnabled"),{configKey:this.configKey,inputKey:e,value:t})},onAddArrayElement:function(e){var t=this.params[e].value;t.push(""),this.onSetParamValue(e,t)},onDeleteArrayElement:function(e,t){this.$store.commit("".concat(this.indexCommitPrefix,"/deleteArrayElement"),{configKey:this.configKey,inputKey:e,positionKey:t})},onDeleteKey:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/deleteParam"),{configKey:this.configKey,inputKey:e})},onRestoreKey:function(e){this.$store.commit("".concat(this.indexCommitPrefix,"/restoreIndexSetting"),{panelKey:this.panelKey,inputKey:e})}}},lc=oc,cc=Object(D["a"])(lc,vl,bl,!1,null,null,null),uc=cc.exports,pc={name:"DashboardConfig",components:{ParamsPanel:uc},mixins:[al],props:["panelKey","readOnly"]},dc=pc,hc=Object(D["a"])(dc,yl,gl,!1,null,null,null),mc=hc.exports,fc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex p-8 border-b border-proton-grey bg-proton-grey-opacity-40 text-telluric-blue text-xs uppercase tracking-wide"},[n("div",[e._v("\n            Query management\n        ")]),n("div",{staticClass:"ml-auto w-8 h-8 leading-none flex items-center justify-center cursor-pointer",on:{click:function(t){e.open=!e.open}}},[n("chevron-down-icon",{class:"flex-grow-0 w-8 h-8 flex-shrink-0 block fill-current "+(e.open?"":"rotate-180")})],1)]),e.open?n("div",{staticClass:"border-b border-proton-grey"},[n("div",[n("h4",{staticClass:"p-16"},[e._v("Last Query")]),n("pre",{class:"px-16 py-4 cursor-pointer "+(e.currentQuery===e.panelQuery?"bg-proton-grey-opacity-50":""),on:{click:function(t){return e.goToQuery(e.currentQuery)}}},[e._v('"'+e._s(e.currentQuery)+'"')])]),n("div",[n("h4",{staticClass:"p-16"},[e._v("Top Queries (last 7 days)")]),n("div",{staticClass:"max-h-300 overflow-y-scroll pb-24"},[e._l(e.topQueries,(function(t,a){return n("div",{staticClass:"px-16 py-4 cursor-pointer",class:t===e.panelQuery?"bg-proton-grey-opacity-50":"",on:{click:function(n){return e.goToQuery(t)}}},[n("span",[e._v(e._s(a+1)+".")]),e._v(" "),n("span",[e._v(e._s(t))])])})),e.topQueries.length<=0?n("div",{staticClass:"ml-16 italic"},[e._v("\n                    No top queries yet\n                ")]):e._e()],2)])]):e._e()])},yc=[],gc={name:"Queries",components:{ChevronDownIcon:wl},props:["panelKey"],mixins:[al],data:function(){return{open:!1,panel:"leftPanel",lastQuery:null,lastQueryJustSaved:!1,topQueries:[],region:"us"}},mounted:function(){this.fetchTopQueries()},watch:{panelAppId:function(){this.region="us",this.fetchTopQueries()},panelIndexName:function(){this.region="us",this.fetchTopQueries()},panelQuery:function(e,t){this.lastQueryJustSaved?(this.lastQueryJustSaved=!1,null===this.lastQuery&&(this.lastQuery=t)):this.lastQuery=e}},computed:{currentQuery:function(){return null!==this.lastQuery?this.lastQuery:this.panelQuery},panelQuery:{get:function(){return this.$store.state.panels.query},set:function(e){this.$store.commit("panels/setQuery",e)}}},methods:{fetchTopQueries:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.topQueries=[],e.next=3,fetch("https://analytics.".concat(this.region,".algolia.com/2/searches?index=").concat(this.panelIndexName,"&limit=100"),{headers:{"X-Algolia-Application-Id":this.panelAppId,"X-Algolia-API-Key":this.panelAdminAPIKey}});case 3:if(t=e.sent,200===t.status){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,t.json();case 8:if(n=e.sent,null!==n.searches){e.next=12;break}return"de"!==this.region&&(this.region="de",this.fetchTopQueries()),e.abrupt("return");case 12:this.topQueries=n.searches.filter((function(e){return e.search.length>0})).map((function(e){return e.search}));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goToQuery:function(e){this.lastQueryJustSaved=!0,this.panelQuery=e}}},vc=gc,bc=Object(D["a"])(vc,fc,yc,!1,null,null,null),xc=bc.exports,_c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.indexInfo?n("div",{staticClass:"flex items-center text-sm text-solstice-blue-opacity-80"},[n("div",{staticClass:"border-b border-dotted border-telluric-blue-opacity-60"},[e._v("\n            Records: "+e._s(e.numberWithCommas(e.indexInfo.entries))+"\n        ")]),n("div",{staticClass:"border-b border-dotted border-telluric-blue-opacity-60 ml-12"},[e._v("\n            Index size: "+e._s(e.formatHumanNumber(e.indexInfo.fileSize,2,["B","KB","MB","GB"],1e3))+"\n        ")]),e.avgRecordSize>5e3?n("div",{staticClass:"border-b border-dotted border-telluric-blue-opacity-60 ml-12"},[e._v("\n            Avg record size: "+e._s(e.formatHumanNumber(e.avgRecordSize,2,["B","KB","MB","GB"],1e3))+"\n        ")]):e._e(),e.nbBuildingJobs>0?n("div",{staticClass:"border-b border-dotted border-telluric-blue-opacity-60 ml-12"},[e._v("\n            Index jobs: "+e._s(e.nbBuildingJobs)+"\n        ")]):e._e(),e.sumBuildingJobs>0?n("div",{staticClass:"border-b border-dotted border-telluric-blue-opacity-60 ml-12"},[e._v("\n            App jobs: "+e._s(e.sumBuildingJobs)+"\n        ")]):e._e(),e.nbShards>1||e.indexInfo.fileSize>2048e6?n("div",{staticClass:"border-b border-dotted border-telluric-blue-opacity-60 ml-12"},[e._v("\n            Nb Shards: "+e._s(e.nbShards)+"\n        ")]):e._e(),e.replicas.length>0?n("div",{staticClass:"border-b border-dotted border-telluric-blue-opacity-60 ml-12"},[e._v("\n            replicas: "+e._s(e.replicas.length)+"\n        ")]):e._e(),e.indexSettings.primary?n("div",{staticClass:"border-b border-dotted border-telluric-blue-opacity-60 ml-12"},[e._v("\n            Primary: "+e._s(e.indexSettings.primary)+"\n        ")]):e._e()]):e._e()])},wc=[],kc={name:"IndexInfo",props:["panelKey"],mixins:[ot,al],components:{},data:function(){return{indexInfo:null,buildingIndices:{},formatHumanNumber:W,numberWithCommas:Q}},watch:{panelAppId:function(e,t){e!==t&&this.fetchIndexData(this.panelIndexName)},panelIndexName:function(e,t){e!==t&&this.fetchIndexData(this.panelIndexName)}},created:function(){var e=this;this.fetchBuildingIndices(),this.fetchIndexData(this.panelIndexName),window.setInterval((function(){e.fetchBuildingIndices(),e.fetchIndexData(e.panelIndexName)}),15e3)},computed:{appId:function(){return this.panelAppId},indexName:function(){return this.panelIndexName},avgRecordSize:function(){return this.indexInfo.entries?this.indexInfo.dataSize/this.indexInfo.entries:0},replicas:function(){return this.indexSettings.replicas||[]},sumBuildingJobs:function(){var e=0;for(var t in this.buildingIndices)e+=this.buildingIndices[t];return e},nbBuildingJobs:function(){return this.buildingIndices[this.panelIndexName]||0},nbShards:function(){return this.advancedIndexSettings?this.advancedIndexSettings.nbShardsAuto>1?this.advancedIndexSettings.nbShardsAuto:this.indexSettings.nbShards||1:1}},methods:{fetchIndexData:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.indexData){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ve(this.panelAppId,this.panelAdminAPIKey);case 4:return n=e.sent,e.next=7,n.listIndices({queryParameters:{page:0,prefix:t}});case 7:a=e.sent,a.items.forEach((function(e){e.name===t&&(s.indexInfo=e)}));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),fetchBuildingIndices:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.indexData){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ve(this.panelAppId,this.panelAdminAPIKey);case 4:return t=e.sent,e.next=7,t.transporter.write({method:"GET",path:"1/indexes/*/stats"});case 7:n=e.sent,this.buildingIndices=n.building;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Ic=kc,Cc=Object(D["a"])(Ic,_c,wc,!1,null,null,null),Ac=Cc.exports,Pc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-center text-solstice-blue",class:e.creatingNewIndex?"mr-24":""},[n("button",{staticClass:"cursor-pointer ml-8 flex items-center text-solstice-blue relative group",on:{click:function(t){return e.enableCreatingNewIndex()}}},[n("plus-circle-icon",{staticClass:"w-16 h-16 text-solstice-blue"}),n("tooltip",[e._v("Create an index. Will ask for the name")])],1),e.creatingNewIndex&&!e.pendingCreation?n("input",{directives:[{name:"model",rawName:"v-model",value:e.newIndexName,expression:"newIndexName"}],ref:"input",staticClass:"px-8 ml-8 w-128 bg-moon-grey p-4 rounded text-solstice-blue",attrs:{placeholder:"new_index_name"},domProps:{value:e.newIndexName},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createIndex()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.creatingNewIndex=!1}],input:function(t){t.target.composing||(e.newIndexName=t.target.value)}}}):e._e(),e.creatingNewIndex&&!e.pendingCreation?n("button",{staticClass:"cursor-pointer ml-8 px-8 py-4 border border-telluric-blue-opacity-60 rounded text-solstice-blue text-sm",on:{click:function(t){e.creatingNewIndex=!1}}},[e._v("\n        Cancel\n    ")]):e._e(),e.creatingNewIndex&&!e.pendingCreation&&e.newIndexName.length>0?n("button",{staticClass:"cursor-pointer ml-8 px-8 py-4 border border-telluric-blue-opacity-60 rounded text-solstice-blue text-sm",on:{click:function(t){return e.createIndex()}}},[e._v("\n        Create\n    ")]):e._e(),e.pendingCreation?n("div",{staticClass:"ml-8 flex items-center"},[n("loader-icon",{staticClass:"w-12 h-12 infinte-rotate"}),n("div",{staticClass:"pl-4"},[e._v("Creating "+e._s(e.newIndexName))])],1):e._e()])},Sc=[],Oc={name:"NewIndex",components:{Tooltip:Bt,PlusCircleIcon:wt,LoaderIcon:j},mixins:[al],props:["appId","apiKey"],data:function(){return{creatingNewIndex:!1,newIndexName:"",pendingCreation:!1}},methods:{createIndex:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ve(this.appId,this.apiKey);case 2:return t=e.sent,n=t.customInitIndex(this.newIndexName).setSettings({}),this.pendingCreation=!0,e.next=7,n.wait();case 7:this.pendingCreation=!1,this.creatingNewIndex=!1,this.$emit("onIndexCreated",this.newIndexName),this.newIndexName="";case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),enableCreatingNewIndex:function(){var e=this;this.creatingNewIndex=!0,a["default"].nextTick((function(){var t=e.$refs.input;e.$refs.input.focus(),t.setSelectionRange(0,t.value.length)}))}}},jc=Oc,Rc=Object(D["a"])(jc,Pc,Sc,!1,null,null,null),Nc=Rc.exports,$c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("custom-select",{staticClass:"min-w-140 border-b border-telluric-blue-opacity-60 text-solstice-blue pb-4",attrs:{"string-value-attribute":"name",options:e.indicesWithForced,refine:e.refine,"allow-free-text":e.allowFreeText},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.option,s=t.inDropDown,r=t.isSelected,i=t.highlightString;return[n("div",{domProps:{innerHTML:e._s(s?i(a.name):a.name)}}),s?n("div",{staticClass:"ml-auto"}):e._e(),s&&void 0!==a.entries?n("div",{staticClass:"ml-16",class:r?"text-white":"text-solstice-blue-opacity-50"},[e._v("\n            "+e._s(a.entries)+" records\n        ")]):e._e()]}}]),model:{value:e.indexInfo,callback:function(t){e.indexInfo=t},expression:"indexInfo"}},[n("template",{slot:"icon"},[n("list-icon",{staticClass:"block w-12 h-12 mr-8 -mt-1 fill-current"})],1)],2)},Tc=[],Dc={name:"IndexSelector",components:{AppSelector:Ul,CustomSelect:Fl,BoxIcon:zl,ListIcon:vt},props:["appId","value","forcedIndices","allowFreeText"],data:function(){return{allIndices:[],indices:[],indexInfo:{name:this.value},nbPages:1,maxNbPagesInMemory:5}},created:function(){this.registerIndex(),this.updateIndices(!1)},computed:{indicesWithForced:function(){var e=this.forcedIndices?this.forcedIndices:[];return[].concat(Object(ce["a"])(e),Object(ce["a"])(this.indices))},indexName:{get:function(){return this.indexInfo.name},set:function(e){a["default"].set(this.indexInfo,"name",e)}},adminAPIKey:function(){return this.$store.state.apps[this.appId]?this.$store.state.apps[this.appId].key:null}},watch:{value:function(){this.indexInfo.name=this.value},appId:function(){this.indexName=this.value,this.$emit("input",null),this.updateIndices(!0)},indexName:function(){this.indexInfo.name!==this.value&&this.$emit("input",this.indexInfo.name),this.registerIndex(),this.updateIndices(!1)},adminAPIKey:function(){this.updateIndices(!0)}},methods:{registerIndex:function(){var e=this;this.appId&&this.indexInfo.name&&(this.$store.commit("apps/".concat(this.appId,"/addIndex"),this.indexName),["searchParams","searchParams2"].forEach((function(t){e.$store.commit("apps/".concat(e.appId,"/").concat(e.indexName,"/deleteParam"),{configKey:t,inputKey:"page"})})))},refine:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.appId&&this.adminAPIKey){e.next=2;break}return e.abrupt("return");case 2:if(!(t.length<=0)){e.next=5;break}return this.indices=this.allIndices,e.abrupt("return");case 5:if(!(this.nbPages>this.maxNbPagesInMemory)){e.next=15;break}return e.next=8,Ve(this.appId,this.adminAPIKey);case 8:return n=e.sent,e.next=11,n.listIndices({queryParameters:{page:0,prefix:encodeURIComponent(t)}});case 11:a=e.sent,this.indices=a.items.sort((function(e,t){return e.updatedAt<t.updatedAt?1:e.updatedAt>t.updatedAt?-1:0})),e.next=17;break;case 15:s=t.split(" "),this.indices=this.allIndices.filter((function(e){return s.every((function(t){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}))})).sort((function(e,n){return e.name===t?-1:n.name===t?1:0}));case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),updateIndices:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.appId&&this.adminAPIKey){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ve(this.appId,this.adminAPIKey);case 4:return n=e.sent,e.next=7,n.listIndices({queryParameters:{page:0}});case 7:if(a=e.sent,this.nbPages=a.nbPages,!(this.nbPages>1&&this.nbPages<=this.maxNbPagesInMemory)){e.next=13;break}return e.next=12,n.listIndices();case 12:a=e.sent;case 13:if(this.allIndices=a.items.sort((function(e,t){return e.updatedAt<t.updatedAt?1:e.updatedAt>t.updatedAt?-1:0})),this.indices=this.allIndices,!(this.indices.length<=0)){e.next=17;break}return e.abrupt("return");case 17:(t&&this.indexInfo.name!==this.value||null===this.value)&&(this.indexInfo.name=this.value?this.value:this.$store.state.apps[this.appId].lastIndexName||this.indices[0].name,this.$emit("input",this.indexInfo.name));case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},Kc=Dc,Ec=Object(D["a"])(Kc,$c,Tc,!1,null,null,null),Mc=Ec.exports,Fc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("custom-select",{staticClass:"text-solstice-blue text-sm border-b border-telluric-blue-opacity-60 pb-4",attrs:{value:e.value,options:e.options},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option;return[e._v(e._s(n))]}}])},[n("template",{slot:"icon"},[n("server-icon",{staticClass:"block -mt-1 mr-8 w-12 h-12"})],1)],2)},zc=[],qc={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("rect",{attrs:{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}}),n("rect",{attrs:{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}}),n("path",{attrs:{d:"M6 6h0M6 18h0"}})]))}},Hc={},Bc={},Lc=null;function Uc(){return Vc.apply(this,arguments)}function Vc(){return Vc=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object({NODE_ENV:"production",BASE_URL:"/metaparams/"}).VUE_APP_METAPARAMS_BACKEND_ENDPOINT||"https://tools-backend.algolia.com",e.next=3,fetch("".concat(t,"/applications-search-key"),{credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a.key);case 8:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}var Wc=function(e,t){return Qc.apply(this,arguments)};function Qc(){return Qc=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Bc[t]){e.next=5;break}return e.next=3,we(10);case 3:e.next=0;break;case 5:if(!Hc[t]){e.next=7;break}return e.abrupt("return",Hc[t]);case 7:if(Bc[t]=!0,null!==Lc){e.next=12;break}return e.next=11,Uc();case 11:Lc=e.sent;case 12:return a=ve()("X20GSLY1CL",Lc),s=a.initIndex("applications_production"),e.next=16,s.search("",{filters:"application_id:".concat(t)});case 16:return r=e.sent,r.hits.length>0&&r.hits[0].clusters_and_replicas_names&&r.hits[0].clusters_and_replicas_names.length>=0?n?Hc[t]=r.hits[0].clusters_and_replicas_names:(i=r.hits[0].clusters_and_replicas_names.slice(1),Hc[t]=["-dsn"].concat(Object(ce["a"])(i))):Hc[t]=["-dsn"],Bc[t]=!1,e.abrupt("return",Hc[t]);case 20:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}var Jc={name:"ServerSelector",components:{ServerIcon:qc,CustomSelect:Fl},props:["appId","value","displayMainCluster","displayMainClusterMachines","displayAllOption","displayDsn","displayAllClusters","resetOnChangeAppId"],data:function(){return{options:[]}},created:function(){this.loadClusterList()},watch:{appId:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.resetOnChangeAppId&&this.$emit("input",null),e.next=3,this.loadClusterList();case 3:null===this.value&&this.options.length>0&&this.$emit("input",this.options[0]);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},methods:{loadClusterList:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],this.displayAllOption&&t.push("all"),this.displayMainCluster&&t.push("main cluster"),this.displayDsn&&t.push("-dsn"),this.displayMainClusterMachines&&t.push("-1","-2","-3"),e.next=7,Wc(this.appId,!0);case 7:n=e.sent,this.displayAllClusters?this.options=[].concat(t,Object(ce["a"])(n)):this.options=[].concat(t,Object(ce["a"])(n.slice(1)));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Gc=Jc,Xc=Object(D["a"])(Gc,Fc,zc,!1,null,null,null),Zc=Xc.exports,Yc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isMcm?n("custom-select",{staticClass:"min-w-140 text-solstice-blue text-sm border-b border-telluric-blue-opacity-60 pb-4",attrs:{value:e.value,refine:e.refine,options:e.users},on:{input:function(t){return e.$emit("input",t.userID)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.option,s=t.inDropDown,r=t.isSelected,i=t.highlightString;return[n("div",[n("div",{domProps:{innerHTML:e._s(s?i(e.userLabel(a.userID)):e.userLabel(a))}}),s?n("div",{class:r?"text-white":"text-solstice-blue-opacity-50"},[a.nbRecords?n("span",[e._v("("+e._s(a.nbRecords)+" records) - ")]):e._e(),a.clusterName?n("span",[e._v(e._s(a.clusterName))]):e._e()]):e._e()])]}}],null,!1,2560778267)},[n("template",{slot:"icon"},[n("user-icon",{staticClass:"block -mt-1 mr-8 w-12 h-12"})],1)],2):e._e()},eu=[],tu={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("path",{attrs:{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}}),n("circle",{attrs:{cx:"12",cy:"7",r:"4"}})]))}},nu={name:"UserSelector",components:{UserIcon:tu,CustomSelect:Fl},props:["appId","value"],data:function(){return{users:[],isMcm:!1}},created:function(){this.loadUsers()},watch:{appId:function(){this.isMcm=!1,this.loadUsers()}},computed:{adminAPIKey:function(){return this.$store.state.apps[this.appId]?this.$store.state.apps[this.appId].key:null}},methods:{loadUsers:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.refine("");case 3:this.isMcm=!0,this.$emit("input","*"),e.next=12;break;case 7:e.prev=7,e.t0=e["catch"](0),this.isMcm=!1,this.users=[],this.$emit("input",null);case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),refine:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ve(this.appId,this.adminAPIKey);case 2:return n=e.sent,e.next=5,n.transporter.read({method:"POST",path:"1/clusters/mapping/search",data:{query:t,hitsPerPage:40}});case 5:a=e.sent,t.length<=0?a.hits.unshift({userID:"*"},{userID:"."}):a.hits.push({userID:"*"},{userID:"."}),this.users=a.hits;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),userLabel:function(e){return"*"===e?"* (shared objects)":"."===e?". (all objects in machine)":e}}},au=nu,su=Object(D["a"])(au,Yc,eu,!1,null,null,null),ru=su.exports,iu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.algoliaResponse&&e.algoliaResponse.disjunctiveFacets?n("div",[e._m(0),n("div",{staticClass:"px-8 py-12"},e._l(e.algoliaResponse.disjunctiveFacets,(function(t,a){return n("facet",e._g(e._b({attrs:{"facet-name":a,"facet-values":t}},"facet",e.$props,!1),e.$listeners))})),1)]):e._e()},ou=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex p-8 border-b border-proton-grey bg-proton-grey-opacity-40 text-telluric-blue text-xs uppercase tracking-wide"},[n("div",[e._v("\n            Facets\n        ")])])}],lu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.facetValues?n("div",{staticClass:"mb-32"},[n("div",{staticClass:"mb-12 text-solstice-blue break-all"},[e._v("\n        "+e._s(e.facetName)+"\n    ")]),e.isSearchable?n("div",[n("input",{staticClass:"input-custom px-8 py-4 mb-12 w-full",attrs:{placeholder:"Search "+this.facetName},domProps:{value:e.searchQuery},on:{input:e.refine}})]):e._e(),n("div",{staticClass:"px-8"},[e._l(e.displayedValues,(function(t){return n("facet-refinement",e._g(e._b({attrs:{refinement:t}},"facet-refinement",e.$props,!1),e.$listeners))})),e.values.length>10?n("div",{staticClass:"text-nebula-blue cursor-pointer hover:underline",on:{click:function(t){e.collapse=!e.collapse}}},[e._v("\n            "+e._s(e.collapse?"Show all ("+e.values.length+")":"Show less")+"\n        ")]):e._e()],2)]):e._e()},cu=[],uu=n("0e5a"),pu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex mb-4"},[n("div",{staticClass:"truncate cursor-pointer hover:underline mr-8 hit",class:e.refinement.isActive?"font-bold underline":"",domProps:{innerHTML:e._s(e.refinement.highlighted)},on:{click:function(t){return e.toggleRefinement(e.refinement.value)}}}),void 0!==e.refinement.count?n("div",{staticClass:"ml-auto text-nova-grey"},[e._v("\n        "+e._s(e.refinement.count)+"\n    ")]):e._e()])},du=[],hu={name:"FacetRefinement",props:["facetName","refinement","appId","indexName","searchParams","configKey"],computed:{facetFilters:function(){return this.searchParams.facetFilters||[]}},methods:{toggleRefinement:function(e){var t=this,n=this.facetFilters.filter((function(e){return Array.isArray(e)?e.filter((function(e){return!e.startsWith("".concat(t.facetName,":"))})):!e.startsWith("".concat(t.facetName,":"))}));this.refinement.isActive||n.push("".concat(this.facetName,":").concat(e)),this.$store.commit("apps/".concat(this.appId,"/").concat(this.indexName,"/setParamValue"),{configKey:this.configKey,key:"facetFilters",value:n})}}},mu=hu,fu=Object(D["a"])(mu,pu,du,!1,null,null,null),yu=fu.exports;function gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gu(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bu={name:"Facet",components:{FacetRefinement:yu},props:["facetName","facetValues","appId","indexName","query","searchParams","indexSettings","configKey"],data:function(){return{collapse:!0,searchQuery:"",searchedRefinements:[]}},watch:{appId:function(){this.searchQuery="",this.refine()},indexName:function(){this.searchQuery="",this.refine()},query:function(){this.refine()},searchParams:function(){this.refine()},indexSettings:function(){this.refine()}},computed:{facetFilters:function(){return this.searchParams.facetFilters||[]},isSearchable:function(){var e=this;return(this.indexSettings.attributesForFaceting||[]).some((function(t){return t==="searchable(".concat(e.facetName,")")}))},fetchedOrSearchedValues:function(){var e=this;return this.searchQuery.length>0?this.searchedRefinements:Object.keys(this.facetValues).map((function(t){var n=e.facetFilters.some((function(n){return n==="".concat(e.facetName,":").concat(t)}));return{value:t,highlighted:t,count:e.facetValues[t],isActive:n}}))},values:function(){var e=this,t=this.facetFilters.filter((function(t){return!Array.isArray(t)&&t.startsWith("".concat(e.facetName,":"))})).map((function(e){var t=e.split(":"),n=Object(uu["a"])(t,2),a=(n[0],n[1]);return a}));return t.forEach((function(t){e.fetchedOrSearchedValues.some((function(e){return e[0]===t}))||e.fetchedOrSearchedValues.unshift([t,void 0,!0])})),this.fetchedOrSearchedValues.sort((function(e,t){return t.count-e.count})).sort((function(e,t){return t.isActive-e.isActive}))},displayedValues:function(){return this.collapse?this.values.slice(0,10):this.values}},methods:{refine:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t){var n,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&(this.searchQuery=t.target.value),!(this.searchQuery.length<=0)){e.next=4;break}return this.searchedRefinements=[],e.abrupt("return");case 4:if(this.isSearchable){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Qe(this.appId,this.$store.state.apps[this.appId].key,this.indexName,this.server,this.userId);case 8:return n=e.sent,e.next=11,n.customSearchForFacetValues(vu({facetName:this.facetName,facetQuery:this.searchQuery},this.searchParams,{facetFilters:n.buildFacetFilters(this.facetFilters,"".concat(this.facetName,":")),query:this.query}));case 11:a=e.sent,this.searchedRefinements=a.facetHits.map((function(e){var t=s.facetFilters.some((function(t){return t==="".concat(s.facetName,":").concat(e.value)}));return vu({},e,{isActive:t})}));case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},xu=bu,_u=Object(D["a"])(xu,lu,cu,!1,null,null,null),wu=_u.exports,ku={name:"Facets",components:{Facet:wu},props:["panelKey","appId","indexName","query","searchParams","indexSettings","configKey"],data:function(){return{algoliaResponse:null}},created:function(){var e=this;this.$root.$on("".concat(this.panelKey,"UpdateResponse"),(function(t){e.algoliaResponse=t}))}},Iu=ku,Cu=Object(D["a"])(Iu,iu,ou,!1,null,null,null),Au=Cu.exports,Pu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-center text-solstice-blue",class:e.deletingIndex?"mr-24":""},[n("button",{staticClass:"cursor-pointer ml-8 flex items-center text-solstice-blue relative group",on:{click:function(t){return e.enableCreatingNewIndex()}}},[n("trash-icon",{staticClass:"w-16 h-16 text-solstice-blue"}),n("tooltip",[e._v("Delete the index. Will ask for confirmation.")])],1),e.deletingIndex&&!e.pendingDeletion?n("input",{directives:[{name:"model",rawName:"v-model",value:e.indexNameToDelete,expression:"indexNameToDelete"}],ref:"input",staticClass:"px-8 ml-8 w-200 bg-moon-grey p-4 rounded text-solstice-blue",attrs:{placeholder:"To delete type the index name"},domProps:{value:e.indexNameToDelete},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.deletingIndex=!1,e.indexNameToDelete=""},input:function(t){t.target.composing||(e.indexNameToDelete=t.target.value)}}}):e._e(),e.deletingIndex&&!e.pendingDeletion?n("button",{staticClass:"cursor-pointer ml-8 px-8 py-4 border border-telluric-blue-opacity-60 rounded text-solstice-blue text-sm",on:{click:function(t){e.deletingIndex=!1,e.indexNameToDelete=""}}},[e._v("\n        Cancel\n    ")]):e._e(),e.deletingIndex&&!e.pendingDeletion&&e.indexNameToDelete===e.panelIndexName?n("button",{staticClass:"cursor-pointer bg-mars-1 ml-8 px-8 py-4 border border-white rounded text-white text-sm",on:{click:function(t){return e.deleteIndex()}}},[e._v("\n        I want to delete the index: "+e._s(e.indexNameToDelete)+"\n    ")]):e._e(),e.pendingDeletion?n("div",{staticClass:"ml-8 flex items-center"},[n("loader-icon",{staticClass:"w-12 h-12 infinte-rotate"}),n("div",{staticClass:"pl-4"},[e._v("Deleting "+e._s(e.indexNameToDelete))])],1):e._e()])},Su=[],Ou={name:"IndexDelete",components:{Tooltip:Bt,TrashIcon:Nt,LoaderIcon:j},mixins:[al],props:["panelKey"],data:function(){return{deletingIndex:!1,indexNameToDelete:"",pendingDeletion:!1}},methods:{deleteIndex:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,r,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.panelIndexName===this.indexNameToDelete){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ve(this.panelAppId,this.panelAdminAPIKey,this.panelServer,this.panelUserId);case 4:return t=e.sent,n=t.customInitIndex(this.indexNameToDelete),e.next=8,n.delete();case 8:return a=e.sent,this.pendingDeletion=!0,e.next=12,n.waitTask(a.taskID);case 12:return this.pendingDeletion=!1,this.deletingIndex=!1,e.next=16,t.listIndices({queryParameters:{page:0}});case 16:s=e.sent,r=s.items.length>0?s.items[0].name:null,i="leftPanel"===this.panelKey?"rightPanel":"leftPanel",o=this.$store.state.panels[i].appId,l=this.$store.state.panels[i].indexName,o===this.panelAppId&&l!==this.indexNameToDelete&&(r=l),this.$store.commit("panels/".concat(this.panelKey,"/setPanelConfig"),{appId:this.panelAppId,indexName:r}),this.indexNameToDelete="";case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),enableCreatingNewIndex:function(){var e=this;this.deletingIndex=!0,a["default"].nextTick((function(){var t=e.$refs.input;e.$refs.input.focus(),t.setSelectionRange(0,t.value.length)}))}}},ju=Ou,Ru=Object(D["a"])(ju,Pu,Su,!1,null,null,null),Nu=Ru.exports,$u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-center pl-16 bg-white rounded border border-proton-grey-opacity-80 h-40"},[n("search-icon",{staticClass:"block w-16 h-16 mr-16 text-telluric-blue fill-current"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"search",staticClass:"flex-1 block h-full bg-transparent text-telluric-blue leading-normal",attrs:{placeholder:"Enter query, searchParams, curl command, ..."},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),!e.$store.state.panels.splitMode||e.panelKey&&"leftPanel"!==e.panelKey?e._e():n("div",{staticClass:"text-telluric-blue-opacity-40"},[e._v("\n        ≠ queries "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.twoInputs,expression:"twoInputs"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.twoInputs)?e._i(e.twoInputs,null)>-1:e.twoInputs},on:{change:function(t){var n=e.twoInputs,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&(e.twoInputs=n.concat([r])):i>-1&&(e.twoInputs=n.slice(0,i).concat(n.slice(i+1)))}else e.twoInputs=s}}})]),n("custom-select",{staticClass:"ml-16 bg-moon-grey h-full pl-16 px-8 flex items-center text-telluric-blue rounded-r",attrs:{options:Object.keys(e.methodOptions)},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option;return[e._v(e._s(e.methodOptions[n]))]}}]),model:{value:e.panelMethod,callback:function(t){e.panelMethod=t},expression:"panelMethod"}})],1)},Tu=[],Du={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},u),...p},r.concat([n("path",{attrs:{d:"M19.71 18.29L16 14.61A9 9 0 1014.61 16l3.68 3.68a1 1 0 001.42 0 1 1 0 000-1.39zM2 9a7 7 0 1112 4.93A7 7 0 012 9z"}})]))}},Ku=n("09f4"),Eu=n.n(Ku),Mu=function(e){return e.startsWith("[")&&e.endsWith("]")},Fu=function(e){var t=e;return'"'===t[0]&&(t=e.substr(1,e.length-2)),"\\"===t[1]&&(t=t.replace(/\\"/g,'"')),t},zu=function(e,t){if(me.a[e]&&["integer","boolean"].includes(me.a[e].value_type)){if("false"===t)return 0;if("true"===t)return 1;var n=parseInt(t);return isNaN(n)?t:n}return t},qu=function(e){return JSON.parse(Fu(e),(function(e,t){return"params"===e?Object.fromEntries(Object(ce["a"])(new URLSearchParams(t)).map((function(e){var t=Object(uu["a"])(e,2),n=t[0],a=t[1];return Mu(a)?[n,JSON.parse(a)]:[n,zu(n,a)]}))):t}))};function Hu(e){var t=null;try{t=Eu()(e.replace(/\\ /g," "))}catch(v){return null}if("Script"===t.type&&t.commands.length>0&&"Command"===t.commands[0].type&&"curl"===t.commands[0].name.text){for(var n=t.commands[0].suffix,a={},s="",r={},i="",o="",l="",c="",u=0;u<n.length;u++)if("-H"!==n[u].text&&"--header"!==n[u].text){if(n[u].text.startsWith("http")){i=n[u].text;var p=new URL(i);s=p.pathname;var d=p.hostname.match(/(.*?)-(.*?)\.algolia\.?net(\.com)?/);d&&(o=d[1].toUpperCase(),c="-".concat(d[2]))}"-d"!==n[u].text&&"--data"!==n[u].text||(u++,a=qu(n[u].text))}else{u++;var h=n[u].text,m=h.split(": ");"x-algolia-user-token"===m[0]&&(r.userToken=m[1])}if(i.length>0){if(s.match(/\/1\/indexes\/\*\/queries/)&&a.requests&&a.requests.length>0){var f=a.requests[0];f.indexName&&(l=f.indexName),f.params&&(r=f.params)}else{var y=s.match(/\1\/indexes\/(.*?)\/query/);y&&(l=y[1],r=a.params?a.params:a)}if(l){var g=r.query||"";return delete r.query,{appId:o,indexName:l,machine:c,query:g,params:r}}}}return null}var Bu={name:"SearchBox",props:["panelKey"],mixins:[al,ot],components:{SearchIcon:Du,CustomSelect:Fl},data:function(){return{methodOptions:{search:"Search",browse:"Browse"}}},computed:{appId:function(){return this.panelAppId},indexName:function(){return this.panelIndexName},twoInputs:{get:function(){return this.$store.state.panels.twoInputs||!1},set:function(e){var t=this;if(this.$store.state.panels.splitMode){try{var n=JSON.parse(selected);return Object.keys(n).map((function(e){t.setParamValue(e,n[e])})),this.inputState.setInput("none")}catch(a){}e?this.$store.commit("apps/".concat(this.$store.state.panels.rightPanel.appId,"/").concat(this.$store.state.panels.rightPanel.indexName,"/setParamValue"),{configKey:this.sameIndexOnEachPanel?"searchParams2":"searchParams",key:"query",value:this.query}):this.$store.commit("apps/".concat(this.$store.state.panels.rightPanel.appId,"/").concat(this.$store.state.panels.rightPanel.indexName,"/deleteParam"),{configKey:this.sameIndexOnEachPanel?"searchParams2":"searchParams",inputKey:"query"})}this.panelMethod=this.panelMethod,this.$store.commit("panels/setTwoInputs",e)}},query:{get:function(){return"rightPanel"===this.panelKey&&this.indexData?this.searchParams.query||"":this.$store.state.panels.query},set:function(e){var t=this,n=e,a=this.panelAppId,s=this.panelIndexName;if(n.trim().startsWith("{"))try{var r=JSON.parse(n);Object.keys(r).forEach((function(e){"query"===e?(n=r.query,t.$refs.search.value=n):t.$store.commit("apps/".concat(a,"/").concat(s,"/setParamValue"),{configKey:t.searchConfigKey,key:e,value:r[e]})}))}catch(o){}if(e.startsWith("curl ")){var i=Hu(e);i&&(n=i.query,a=i.appId,s=i.indexName,this.$store.commit("apps/addAppId",{appId:a}),this.$store.commit("apps/".concat(a,"/addIndex"),s),this.$store.commit("panels/".concat(this.panelKey,"/setPanelConfig"),{appId:a,indexName:s}),this.$nextTick((function(){t.$store.commit("panels/".concat(t.panelKey,"/setPanelConfig"),{appId:a,indexName:s})}),1),this.$store.commit("panels/".concat(this.panelKey,"/setServer"),i.machine),this.$store.commit("panels/clearParams",{panelKey:this.panelKey,configKey:this.searchConfigKey}),Object.keys(i.params).forEach((function(e){t.$store.commit("apps/".concat(i.appId,"/").concat(i.indexName,"/setParamValue"),{configKey:t.searchConfigKey,key:e,value:i.params[e]})}))),this.$refs.search.value=n}return"rightPanel"===this.panelKey?this.$store.commit("apps/".concat(a,"/").concat(s,"/setParamValue"),{configKey:this.searchConfigKey,key:"query",value:n}):this.$store.commit("panels/setQuery",n)}}}},Lu=Bu,Uu=Object(D["a"])(Lu,$u,Tu,!1,null,null,null),Vu=Uu.exports,Wu={name:"Dashboard",props:["panelKey"],mixins:[ot,al,ql],components:{SearchBox:Vu,Tooltip:Bt,IndexDelete:Nu,IndexNew:Nc,IndexInfo:Ac,AppSelector:Ul,IndexSelector:Mc,Queries:xc,DashboardConfig:mc,Explorer:fl,FlipLeftIcon:$t,FlipRightIcon:Tt,ServerSelector:Zc,MaximizeIcon:Kr,MinimizeIcon:Er,Facets:Au,UserSelector:ru},data:function(){return{forceWrite:!1}},computed:{appId:{get:function(){return this.$store.state.panels[this.panelKey].appId},set:function(e){this.$store.commit("panels/".concat(this.panelKey,"/setPanelConfig"),{appId:e,indexName:null})}},indexName:{get:function(){return this.$store.state.panels[this.panelKey].indexName},set:function(e){this.$store.commit("panels/".concat(this.panelKey,"/setPanelConfig"),{appId:this.appId,indexName:e})}},canWrite:function(){var e=["dsn","-dsn","-1","-2","-3"].includes(this.panelServer);return e&&(this.forceWrite||this.ownedByAlgolia(this.appId))}},methods:{onIndexCreated:function(e){this.$store.commit("panels/".concat(this.panelKey,"/setPanelConfig"),{appId:this.panelAppId,indexName:e})}}},Qu=Wu,Ju=Object(D["a"])(Qu,B,L,!1,null,null,null),Gu=Ju.exports,Xu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex flex-col justify-center w-full bg-white z-10 border-b border-solid border-proton-grey-opacity-80",staticStyle:{height:"94px"}},[n("div",{staticClass:"flex px-16 py-12"},[n("div",{staticClass:"flex w-full"},[n("div",{staticClass:"flex items-center text-telluric-blue mr-16 text-lg"},[n("algolia-logo-experimental",{staticClass:"w-20 h-20 mr-8"}),e._m(0),e.appName?n("chevron-left",{staticClass:"w-12 h-12 rotate-180 mr-4"}):e._e(),e.appName?n("div",{staticClass:"mt-2 font-bold"},[e._v(e._s(e.appName))]):e._e()],1),e._t("default")],2)])])])},Zu=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-4 mt-2"},[n("a",{attrs:{href:"/apps"}},[e._v("Tools")])])}],Yu={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 120"},u),...p},r.concat([n("path",{attrs:{fill:"#ffbb1f",d:"M104.2 0H15.8C7.1 0 0 7 0 15.8v88.4c0 8.7 7.1 15.8 15.8 15.8h88.4c8.7 0 15.8-7.1 15.8-15.8V15.8C120 7.1 112.9 0 104.2 0z"}}),n("path",{attrs:{fill:"#FFF",d:"M30.3 41.9c.1 0 .1 0 0 0 1.3-1.7 2.6-3.3 4.1-4.7 1.5-1.5 3-2.8 4.7-4 .3-.2.4-.7.2-1 0 0 0-.1-.1-.1L37.1 30c-2-2-5.3-2-7.4 0l-2.5 2.5c-2 2-2 5.3 0 7.3l2 2c.4.4.8.4 1.1.1zM50.7 27.6h.2c3.4-1 7-1.5 10.6-1.5 3.4 0 6.9.5 10.2 1.4.4.1.8-.1.8-.5v-4.3c0-2.9-2.3-5.2-5.2-5.2H55.2c-2.9 0-5.2 2.3-5.2 5.2v4.2c-.1.4.3.7.7.7zM61.4 30.3c-18.7 0-33.9 15.2-33.9 33.9s15.2 33.9 33.9 33.9 33.9-15.2 33.9-33.9-15.2-33.9-33.9-33.9zm0 57.8c-13.2-.1-23.9-10.8-23.8-24 0-13.2 10.8-23.9 23.9-23.8 13.2 0 23.9 10.8 23.8 23.9 0 13.2-10.7 23.9-23.9 23.9z"}}),n("path",{attrs:{fill:"#FFF",d:"M62.1 44.5c-.4 0-.7.3-.7.7V63c0 .4.3.7.7.7.1 0 .2 0 .3-.1l15.8-8.2c.4-.2.5-.6.3-1-3.4-5.9-9.6-9.7-16.4-9.9z"}})]))}},ep={name:"AppHeader",props:["appName"],components:{AlgoliaLogoExperimental:Yu,ChevronLeft:Ws}},tp=ep,np=Object(D["a"])(tp,Xu,Zu,!1,null,null,null),ap=np.exports,sp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$store.state.panels.manageAppsPanel||Object.keys(e.$store.state.apps).length<=0?n("div",{staticClass:"flex"},[n("div",{staticClass:"rounded bg-white m-16 mr-64 border border-solid border-proton-grey-opacity-60"},[n("div",{staticClass:"text-telluric-blue text-xs uppercase tracking-wide flex items-center border-b border-t-0 border-proton-grey bg-white p-8 bg-proton-grey-opacity-80"},[n("div",[e._v("Manage AppIDs")]),n("close-icon",{staticClass:"cursor-pointer ml-auto w-12 h-12",on:{click:function(t){return e.$store.commit("panels/setManageAppsPanel",!1)}}})],1),n("div",[n("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 m-8 p-8"},[e._v("\n                To function this app requires Algolia credentials. You must provide the Admin API Key for every feature to work properly.\n            ")]),n("table",[e._m(0),e._l(e.apps,(function(t,a){return n("tr",[n("td",{staticClass:"p-8"},[e._v(e._s(a))]),n("td",{staticClass:"p-8"},[t.key?n("span",[e._v("\n                            "+e._s(t.key.substring(0,4)+t.key.substring(4).replace(/./g,"*"))+"\n                        ")]):e._e()]),n("td",{staticClass:"p-8"},[e._v(e._s(t.__app_name))]),n("td",{staticClass:"p-8"},[e._v(e._s(t.__app_owner))]),n("td",{staticClass:"p-8"},[n("trash-icon",{staticClass:"w-12 h-12 cursor-pointer",on:{click:function(t){return e.deleteApp(a)}}})],1)])})),n("tr",[n("td",{staticClass:"p-8 pt-32"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newAppId,expression:"newAppId"}],staticClass:"w-full bg-proton-grey-opacity-20 p-4",attrs:{placeholder:"appId"},domProps:{value:e.newAppId},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAppId(t)},input:function(t){t.target.composing||(e.newAppId=t.target.value)}}})]),n("td",{staticClass:"p-8 pt-32"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newApiKey,expression:"newApiKey"}],staticClass:"w-full bg-proton-grey-opacity-20 p-4",attrs:{placeholder:"apiKey"},domProps:{value:e.newApiKey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAppId(t)},input:function(t){t.target.composing||(e.newApiKey=t.target.value)}}})]),n("td",{staticClass:"p-8 pt-32"},[n("button",{on:{click:e.addAppId}},[e._v("Add")])])])],2)])])]):e._e()},rp=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"text-left"},[n("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("App ID")]),n("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("API Key")]),n("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("App name")]),n("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"},[e._v("App owner")]),n("th",{staticClass:"p-8 text-xs uppercase tracking-wide font-normal"})])}],ip={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("path",{attrs:{d:"M18 6L6 18M6 6l12 12"}})]))}},op={name:"AppManagement",components:{TrashIcon:Nt,CloseIcon:ip},data:function(){return{newAppId:"",newApiKey:""}},created:function(){var e=this;this.appIds.length>0&&!this.apps[this.appIds[0]].__app_owner&&this.fetchAppsInfo(),this.$root.$on("onFetchAppsInfo",(function(){return e.fetchAppsInfo()}))},computed:{apps:function(){return this.$store.state.apps},appIds:function(){return Object.keys(this.apps)}},methods:{addAppId:function(){this.newAppId.length>0&&this.newApiKey.length>0&&(this.$store.commit("apps/addAppId",{appId:this.newAppId,apiKey:this.newApiKey}),this.newAppId="",this.newApiKey="",this.fetchAppsInfo())},deleteApp:function(e){this.$store.commit("apps/deleteAppId",e)},fetchAppsInfo:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object.keys(this.apps),n=Object({NODE_ENV:"production",BASE_URL:"/metaparams/"}).VUE_APP_METAPARAMS_BACKEND_ENDPOINT||"https://tools-backend.algolia.com",e.next=4,fetch("".concat(n,"/apps/").concat(t.join(",")),{credentials:"include",headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:s=e.sent,s.forEach((function(e){r.$store.commit("apps/addAppId",{appId:e.application_id,apiKey:r.apps[e.application_id].key}),r.$store.commit("apps/".concat(e.application_id,"/setAppName"),e.name),r.$store.commit("apps/".concat(e.application_id,"/setAppOwner"),e.user.email)}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},lp=op,cp=Object(D["a"])(lp,sp,rp,!1,null,null,null),up=cp.exports,pp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-full"},[n("div",{staticClass:"flex text-telluric-blue text-sm"},[n("hits-config"),n("panels-config",{staticClass:"ml-auto"}),n("div",{class:Object.keys(e.$store.state.apps).length>0?"ml-48":"ml-auto"},[e._m(0),n("div",{staticClass:"flex h-48"},[Object.keys(e.$store.state.apps).length>0?n("div",{staticClass:"h-full flex items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-16"},[n("button",{staticClass:"h-full py-8 px-16",on:{click:function(t){e.shareStatePanel=!e.shareStatePanel}}},[n("div",[n("share-icon",{staticClass:"w-auto h-16",class:[e.shareStatePanel?"text-nebula-blue":"text-cosmos-black-opacity-60"]})],1),n("div",{staticClass:"mt-4"},[e._v("\n                            Share State\n                        ")])])]):e._e(),n("div",{staticClass:"h-full flex items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-16"},[n("button",{staticClass:"h-full py-8 px-16",on:{click:function(t){e.manageAppsPanel=!e.manageAppsPanel}}},[n("div",[n("box-icon",{staticClass:"w-auto h-16 fill-current",class:[e.manageAppsPanel?"text-nebula-blue":"text-cosmos-black-opacity-60"]})],1),n("div",{staticClass:"mt-4"},[e._v("\n                            Manage AppIDs\n                        ")])])])])])],1)])},dp=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-8"},[n("h4",[e._v("Management")])])}],hp={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},u),...p},r.concat([n("circle",{attrs:{cx:"18",cy:"5",r:"3"}}),n("circle",{attrs:{cx:"6",cy:"12",r:"3"}}),n("circle",{attrs:{cx:"18",cy:"19",r:"3"}}),n("path",{attrs:{d:"M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"}})]))}},mp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex text-telluric-blue text-sm"},[Object.keys(e.$store.state.apps).length>0?n("div",{staticClass:"ml-48 mr-48"},[e._m(0),n("div",{staticClass:"flex h-48"},[n("div",{staticClass:"h-full flex items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out"},[n("button",{staticClass:"h-full py-8 px-16",on:{click:function(t){e.showRankingInfo=!e.showRankingInfo}}},[n("div",[n("slider-icon",{staticClass:"w-auto h-16 fill-current",class:[e.showRankingInfo?"text-nebula-blue":"text-cosmos-black-opacity-60"]})],1),n("div",{staticClass:"mt-4"},[e._v("\n                        Ranking Info\n                    ")])])])])]):e._e(),Object.keys(e.$store.state.apps).length>0?n("div",{staticClass:"mr-48"},[e._m(1),n("div",{staticClass:"flex h-48"},[n("div",{staticClass:"w-148 h-full mr-16"},[n("button",{staticClass:"w-full h-full text-left py-4 px-8 block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out",on:{click:function(t){e.showSearchableAttributes=!e.showSearchableAttributes}}},[n("div",{staticClass:"flex items-center"},[n("div",[e.showSearchableAttributes?n("eye-icon",{staticClass:"text-nebula-blue w-auto h-12 stoke-current mr-8"}):e._e(),e.showSearchableAttributes?e._e():n("eye-off-icon",{staticClass:"w-auto h-12 stoke-current mr-8"})],1),n("div",[e._v("Searchable attributes")])]),e.showSearchableAttributes?n("div",{staticClass:"ml-20 mt-4 text-xs"},[e._v("\n                        Only matching "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.showOnlyMatchingAttributes,expression:"showOnlyMatchingAttributes"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showOnlyMatchingAttributes)?e._i(e.showOnlyMatchingAttributes,null)>-1:e.showOnlyMatchingAttributes},on:{click:function(e){e.stopPropagation()},change:function(t){var n=e.showOnlyMatchingAttributes,a=t.target,s=!!a.checked;if(Array.isArray(n)){var r=null,i=e._i(n,r);a.checked?i<0&&(e.showOnlyMatchingAttributes=n.concat([r])):i>-1&&(e.showOnlyMatchingAttributes=n.slice(0,i).concat(n.slice(i+1)))}else e.showOnlyMatchingAttributes=s}}})]):e._e()])]),n("div",{staticClass:"w-172 flex flex-col justify-between h-full"},[n("button",{staticClass:"w-full flex py-4 px-8 items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out",on:{click:function(t){e.showCustomRanking=!e.showCustomRanking}}},[e.showCustomRanking?n("eye-icon",{staticClass:"text-nebula-blue w-auto h-12 stoke-current mr-8"}):e._e(),e.showCustomRanking?e._e():n("eye-off-icon",{staticClass:"w-auto h-12 stoke-current mr-8"}),n("div",[e._v("Custom ranking attributes")])],1),n("button",{staticClass:"w-full flex py-4 px-8 items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out",on:{click:function(t){e.showAttributesForFaceting=!e.showAttributesForFaceting}}},[e.showAttributesForFaceting?n("eye-icon",{staticClass:"text-nebula-blue w-auto h-12 stoke-current mr-8"}):e._e(),e.showAttributesForFaceting?e._e():n("eye-off-icon",{staticClass:"w-auto h-12 stoke-current mr-8"}),n("div",[e._v("Faceting attributes")])],1)])])]):e._e()])},fp=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-8"},[n("h4",[e._v("Hits Display")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-8"},[n("h4",[e._v("Attributes Display")])])}],yp={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:["feather feather-sliders",i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-sliders"},u),...p},r.concat([n("path",{attrs:{d:"M4 21v-7M4 10V3M12 21v-9M12 8V3M20 21v-5M20 12V3M1 14h6M9 8h6M17 16h6"}})]))}},gp={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:["feather feather-eye",i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-eye"},u),...p},r.concat([n("path",{attrs:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}}),n("circle",{attrs:{cx:"12",cy:"12",r:"3"}})]))}},vp={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:["feather feather-eye-off",i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-eye-off"},u),...p},r.concat([n("path",{attrs:{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24M1 1l22 22"}})]))}},bp={name:"HitsConfig",components:{SliderIcon:yp,EyeIcon:gp,EyeOffIcon:vp},computed:{showSearchableAttributes:{get:function(){return this.$store.state.panels.showSearchableAttributes},set:function(e){this.$store.commit("panels/setShowSearchableAttributes",e)}},showCustomRanking:{get:function(){return this.$store.state.panels.showCustomRanking},set:function(e){this.$store.commit("panels/setShowCustomRanking",e)}},showAttributesForFaceting:{get:function(){return this.$store.state.panels.showAttributesForFaceting},set:function(e){this.$store.commit("panels/setShowAttributesForFaceting",e)}},showOnlyMatchingAttributes:{get:function(){return this.$store.state.panels.showOnlyMatchingAttributes},set:function(e){this.$store.commit("panels/setShowOnlyMatchingAttributes",e)}},showRankingInfo:{get:function(){return this.$store.state.panels.displayRankingInfo},set:function(e){this.$store.commit("panels/setDisplayRankingInfo",e)}}}},xp=bp,_p=Object(D["a"])(xp,mp,fp,!1,null,null,null),wp=_p.exports,kp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return Object.keys(e.$store.state.apps).length>0?n("div",{staticClass:"text-telluric-blue text-sm"},[e._m(0),n("div",{staticClass:"flex h-48"},[n("div",{staticClass:"h-full flex items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-16"},[n("button",{staticClass:"h-full py-8 px-16",on:{click:function(t){e.comparePanels=!e.comparePanels}}},[n("div",[n("compare-icon",{staticClass:"w-auto h-16 fill-current",class:[e.comparePanels?"text-nebula-blue":"text-cosmos-black-opacity-60"]})],1),n("div",{staticClass:"mt-4"},[e._v("\n                    Compare Hits\n                ")])])]),e.hideSplit?e._e():n("div",{staticClass:"h-full flex items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out"},[n("button",{staticClass:"h-full py-8 px-16",on:{click:function(t){return e.$store.commit("panels/setSplitMode",!e.$store.state.panels.splitMode)}}},[n("div",[n("split-icon",{staticClass:"w-auto h-16 fill-current",class:[e.$store.state.panels.splitMode?"text-nebula-blue":"text-cosmos-black-opacity-60"]})],1),n("div",{staticClass:"mt-4"},[e._v("\n                    Split Mode\n                ")])])])])]):e._e()},Ip=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-8"},[n("h4",[e._v("Panels")])])}],Cp={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 29.94 20"},u),...p},r.concat([n("path",{attrs:{d:"M6.94 1H3a3 3 0 00-3 3v12a3 3 0 003 3h3.94a3 3 0 003-3V4a3 3 0 00-3-3zm1 15a1 1 0 01-1 1H3a1 1 0 01-1-1V4a1 1 0 011-1h3.94a1 1 0 011 1zM26.94 1H23a3 3 0 00-3 3v12a3 3 0 003 3h3.94a3 3 0 003-3V4a3 3 0 00-3-3zm1 15a1 1 0 01-1 1H23a1 1 0 01-1-1V4a1 1 0 011-1h3.94a1 1 0 011 1zM15 2.4a1 1 0 01-1-1V1a1 1 0 012 0v.4a1 1 0 01-1 1zM15 15.86a1 1 0 01-1-1v-.75a1 1 0 012 0v.75a1 1 0 01-1 1zm0-4.49a1 1 0 01-1-1v-.74a1 1 0 012 0v.74a1 1 0 01-1 1zm0-4.48a1 1 0 01-1-1v-.75a1 1 0 112 0v.75a1 1 0 01-1 1zM15 20a1 1 0 01-1-1v-.4a1 1 0 012 0v.4a1 1 0 01-1 1z"}})]))}},Ap={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:[i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},u),...p},r.concat([n("circle",{attrs:{cx:"4",cy:"4",r:"3",fill:"transparent"}}),n("circle",{attrs:{cx:"20",cy:"4",r:"3",fill:"transparent"}}),n("circle",{attrs:{cx:"4",cy:"20",r:"3",fill:"transparent"}}),n("circle",{attrs:{cx:"20",cy:"20",r:"3",fill:"transparent"}}),n("path",{attrs:{d:"M8 4h8M8 20h8"}})]))}},Pp={name:"PanelsConfig",components:{SplitIcon:Cp,CompareIcon:Ap},props:["hideSplit"],computed:{comparePanels:{get:function(){return this.$store.state.panels.comparePanels},set:function(e){this.$store.commit("panels/setComparePanels",e)}}}},Sp=Pp,Op=Object(D["a"])(Sp,kp,Ip,!1,null,null,null),jp=Op.exports,Rp={name:"DisplayConfig",components:{BoxIcon:zl,ShareIcon:hp,HitsConfig:wp,PanelsConfig:jp},computed:{manageAppsPanel:{get:function(){return this.$store.state.panels.manageAppsPanel},set:function(e){this.$store.commit("panels/setManageAppsPanel",e)}},shareStatePanel:{get:function(){return this.$store.state.panels.shareStatePanel||!1},set:function(e){this.$store.commit("panels/setShareStatePanel",e)}}}},Np=Rp,$p=Object(D["a"])(Np,pp,dp,!1,null,null,null),Tp=$p.exports,Dp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enabled&&e.leftHits&&e.rightHits?n("div",{staticClass:"mt-16"},[n("div",{staticClass:"text-solstice-blue-opacity-80"},[n("div",{staticClass:"font-bold"},[e._v("\n            Nb of points : "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.analyseMaxNbPoints,expression:"analyseMaxNbPoints"}],staticStyle:{width:"50px"},attrs:{type:"number",min:"1"},domProps:{value:e.analyseMaxNbPoints},on:{input:function(t){t.target.composing||(e.analyseMaxNbPoints=t.target.value)}}})]),n("div",{staticClass:"font-bold mt-12 mb-4"},[e._v("\n            Tracked objectIDs/facetFilters:\n        ")]),n("tracked-elements",{attrs:{"forced-tracked":e.forcedTracked,"left-positions":e.leftTrackedPositions,"right-positions":e.rightTrackedPositions},on:{onClickLeft:function(t){return e.goToHit(t+1,"leftPanel")},onClickRight:function(t){return e.goToHit(t+1,"rightPanel")}},model:{value:e.trackedObjects,callback:function(t){e.trackedObjects=t},expression:"trackedObjects"}})],1),n("div",[n("svg",{attrs:{width:e.width,height:Math.max(e.leftHits.length,e.rightHits.length)*e.spaceBetweenCircle+50}},[n("defs",[n("marker",{attrs:{id:"arrowhead",markerWidth:"5",markerHeight:"4",refX:"0",refY:"2",orient:"auto"}},[n("polygon",{attrs:{points:"0 0, 4 2, 0 4",fill:"gray"}})])]),e._l(e.leftHits,(function(t,a){return n("g",[t._rankingInfo.startsRelevanceBucket?n("line",{attrs:{x1:10,y1:e.spaceBetweenCircle*a+28,x2:e.circleX-4,y2:e.spaceBetweenCircle*a+28,stroke:"gray","stroke-width":"1","stroke-dasharray":"4"}}):e._e(),e.splitMode&&-1!==e.leftInOther[a]?n("line",{attrs:{x1:e.circleX,y1:e.spaceBetweenCircle*a+36,x2:e.width-e.circleX,y2:e.spaceBetweenCircle*e.leftInOther[a]+36,stroke:e.circleFilledColorTransparent,"stroke-width":"2"}}):e._e(),n("g",{staticClass:"cursor-pointer",on:{click:function(t){return e.goToHit(a+1,"leftPanel")}}},[n("circle",{attrs:{r:e.radius,cx:e.circleX,cy:e.spaceBetweenCircle*a+36,fill:e.hitColor(!0,a),stroke:e.personalized(t)?e.circleStrokeColorPerso:"gray","stroke-width":"2"}}),n("text",{attrs:{x:e.circleX-e.textMargin,y:e.spaceBetweenCircle*a+40,"font-size":"12",fill:"gray","text-anchor":"end"}},[e._v("\n                        "+e._s(a+1)+"\n                    ")]),-1!==e.leftHitsTracked[a]?n("g",[n("line",{attrs:{x1:e.circleX-e.textMargin-35,y1:e.spaceBetweenCircle*a+36,x2:e.circleX-e.textMargin-25,y2:e.spaceBetweenCircle*a+36,stroke:"gray","stroke-width":"2","marker-end":"url(#arrowhead)"}}),n("text",{attrs:{x:e.circleX-e.textMargin-40,y:e.spaceBetweenCircle*a+38,"font-size":"12",fill:"gray","text-anchor":"end"}},[e._v("\n                            "+e._s(String.fromCharCode(97+e.leftHitsTracked[a]))+".\n                        ")])]):e._e()])])})),e.splitMode?n("g",e._l(e.rightHits,(function(t,a){return n("g",{staticClass:"cursor-pointer",on:{click:function(t){return e.goToHit(a+1,"rightPanel")}}},[t._rankingInfo.startsRelevanceBucket?n("line",{attrs:{x1:e.width-10,y1:e.spaceBetweenCircle*a+28,x2:e.width-e.circleX+4,y2:e.spaceBetweenCircle*a+28,stroke:"gray","stroke-width":"1","stroke-dasharray":"4"}}):e._e(),n("circle",{attrs:{r:e.radius,cx:e.width-e.circleX,cy:e.spaceBetweenCircle*a+36,fill:e.hitColor(!1,a),stroke:e.personalized(t)?e.circleStrokeColorPerso:"gray","stroke-width":"2"}}),n("text",{attrs:{x:e.width-e.circleX+e.textMargin,y:e.spaceBetweenCircle*a+40,"font-size":"12",fill:"gray","text-anchor":"start"}},[e._v(e._s(a+1)+"\n                    ")]),-1!==e.rightHitsTracked[a]?n("g",[n("line",{attrs:{x1:e.width-e.circleX+e.textMargin+35,y1:e.spaceBetweenCircle*a+36,x2:e.width-e.circleX+e.textMargin+25,y2:e.spaceBetweenCircle*a+36,stroke:"gray","stroke-width":"2","marker-end":"url(#arrowhead)"}}),n("text",{attrs:{x:e.width-e.circleX+e.textMargin+40,y:e.spaceBetweenCircle*a+38,"font-size":"12",fill:"gray","text-anchor":"start"}},[e._v("\n                            "+e._s(String.fromCharCode(97+e.rightHitsTracked[a]))+".\n                        ")])]):e._e()])})),0):e._e()],2)])]):e._e()},Kp=[],Ep=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.forcedTracked,(function(t,a){return n("div",[n("tracked-element",e._g({attrs:{value:t,"left-positions":e.leftPositions,"right-positions":e.rightPositions,"is-last-element":!1,index:a,editable:!1},on:{addTrackedObjectID:e.addTrackedObjectID,removeTrackedObjectID:e.removeTrackedObjectID}},e.$listeners))],1)})),e._l(e.trackedIds,(function(t,a){return n("div",[n("tracked-element",e._g({attrs:{"left-positions":e.leftPositions,"right-positions":e.rightPositions,"is-last-element":a===e.trackedIds.length-1,index:a+(e.forcedTracked||[]).length,"index-of-tracked":a,editable:!0},on:{addTrackedObjectID:e.addTrackedObjectID,removeTrackedObjectID:e.removeTrackedObjectID},model:{value:e.trackedIds[a],callback:function(t){e.$set(e.trackedIds,a,t)},expression:"trackedIds[index]"}},e.$listeners))],1)}))],2)},Mp=[],Fp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex"},[n("div",{staticClass:"flex truncate pb-4",staticStyle:{width:"calc(100% - 48px)"}},[n("span",{staticClass:"font-bold"},[e._v("\n                "+e._s(String.fromCharCode(97+e.index))+".\n            ")]),e.isLastElement&&e.editable?n("input",{ref:"objectidinput",staticClass:"input-custom shadow-sm focus:shadow-sm ml-4 mr-0",domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTrackedObjectID(t)}}}):n("span",{staticClass:"ml-4"},[e._v("\n                "+e._s(e.value)+"\n        ")])]),n("div",{staticClass:"ml-auto w-12 h-12"},[-1!==e.leftPositions[e.index]?n("login-icon",{staticClass:"w-full h-full cursor-pointer rotate-180",on:{click:function(t){return e.$emit("onClickLeft",e.leftPositions[e.index])}}}):e._e()],1),n("div",{staticClass:"ml-4 w-12 h-12"},[-1!==e.rightPositions[e.index]?n("login-icon",{staticClass:"w-full h-full cursor-pointer",on:{click:function(t){return e.$emit("onClickRight",e.rightPositions[e.index])}}}):e._e()],1),n("div",{staticClass:"ml-4 w-12 h-12"},[!e.isLastElement&&e.editable?n("trash-icon",{staticClass:"w-full h-full ml-4 cursor-pointer",on:{click:function(t){return e.$emit("removeTrackedObjectID",e.index)}}}):e._e()],1)])},zp=[],qp={functional:!0,render(e,t){const{_c:n,_v:a,data:s,children:r=[]}=t,{class:i,staticClass:o,style:l,staticStyle:c,attrs:u={},...p}=s;return n("svg",{class:["feather feather-log-in",i,o],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-log-in"},u),...p},r.concat([n("path",{attrs:{d:"M15 3h4a2 2 0 012 2v14a2 2 0 01-2 2h-4M10 17l5-5-5-5M15 12H3"}})]))}},Hp={name:"TrackedElement",components:{TrashIcon:Nt,LoginIcon:qp},props:["value","index","indexOfTracked","isLastElement","leftPositions","rightPositions","editable"],created:function(){var e=this;this.indexOfTracked>0&&this.$nextTick((function(){e.$refs.objectidinput&&e.$refs.objectidinput.focus()}))},methods:{addTrackedObjectID:function(){this.$emit("addTrackedObjectID")}}},Bp=Hp,Lp=Object(D["a"])(Bp,Fp,zp,!1,null,null,null),Up=Lp.exports,Vp={name:"TrackedElements",components:{TrackedElement:Up},props:["value","leftPositions","rightPositions","forcedTracked"],data:function(){return{trackedIds:this.value}},watch:{trackedIds:{deep:!0,handler:function(){this.$emit("input",JSON.parse(JSON.stringify(this.trackedIds)))}}},computed:{allTracked:function(){return[].concat(Object(ce["a"])(this.forcedTracked||[]),[this.trackedIds])}},methods:{addTrackedObjectID:function(){this.trackedIds[this.trackedIds.length-1].length>0&&this.trackedIds.push("")},removeTrackedObjectID:function(e){this.trackedIds.splice(e,1)}}},Wp=Vp,Qp=Object(D["a"])(Wp,Ep,Mp,!1,null,null,null),Jp=Qp.exports,Gp={name:"CompareHits",components:{TrackedElements:Jp},mixins:[al],props:["enabled","forcedTracked"],data:function(){return{width:224,radius:5,circleX:71,textMargin:10,spaceBetweenCircle:15,circleFilledColor:"#8d97e3",circleStrokeColorPerso:"#e34340",circleFilledColorTransparent:"rgba(166, 176, 249, 0.8)",leftResponse:null,rightResponse:null,leftTrackedPositions:[],rightTrackedPositions:[],leftHitsTracked:[],rightHitsTracked:[],leftInOther:[],rightInOther:[]}},created:function(){var e=this;this.trackedObjects&&0!==this.trackedObjects.length||(this.trackedObjects=[""]),this.$root.$on("leftPanelUpdateAnalyseResponse",(function(t){e.leftResponse=t,e.compute()})),this.$root.$on("rightPanelUpdateAnalyseResponse",(function(t){e.rightResponse=t,e.compute()}))},watch:{trackedObjects:function(){this.compute()},forcedTracked:function(){this.compute()}},computed:{splitMode:function(){return this.$store.state.panels.splitMode},leftHits:function(){return this.leftResponse&&this.leftResponse.hits?this.leftResponse.hits:[]},rightHits:function(){return this.rightResponse&&this.rightResponse.hits?this.rightResponse.hits:[]}},methods:{compute:function(){var e=this,t=[].concat(Object(ce["a"])(this.forcedTracked||[]),Object(ce["a"])(this.trackedObjects)).map((function(e){return e.replace(/\\\\/g,"\\")})),n=this.leftHits.map((function(){return-1})),a=this.rightHits.map((function(){return-1}));["left","right"].forEach((function(s){for(var r=t.map((function(){return-1})),i="left"===s?e.leftHits:e.rightHits,o=i.map((function(){return-1})),l=function(l){"left"===s&&(n[l]=e.rightHits.findIndex((function(e){return e.objectID===i[l].objectID})),-1!==n[l]&&(a[n[l]]=l)),t.forEach((function(e,t){var n=e.split(":"),a=n[0],s=n.length>1?n[1]:"";(i[l].objectID===e||n.length>1&&i[l][a]==s)&&(-1===o[l]&&(o[l]=t),-1===r[t]&&(r[t]=l))}))},c=0;c<i.length;c++)l(c);e["".concat(s,"TrackedPositions")]=Object.freeze(r),e["".concat(s,"HitsTracked")]=Object.freeze(o)})),this.leftInOther=Object.freeze(n),this.rightInOther=Object.freeze(a)},personalized:function(e){return e._rankingInfo&&e._rankingInfo.personalization&&e._rankingInfo.personalization.filtersScore>0},hitColor:function(e,t){return e?this.splitMode&&-1===this.leftInOther[t]?"white":this.circleFilledColor:-1!==this.rightInOther[t]?this.circleFilledColor:"white"},goToHit:function(e,t){this.$emit("onGoToHit",e,t)}}},Xp=Gp,Zp=Object(D["a"])(Xp,Dp,Kp,!1,null,null,null),Yp=Zp.exports,ed=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex"},[n("div",{staticClass:"rounded bg-white m-16 mr-64 border border-solid border-proton-grey-opacity-60 min-w-25p"},[n("div",{staticClass:"text-telluric-blue text-xs uppercase tracking-wide flex items-center border-b border-t-0 border-proton-grey bg-white p-8 bg-proton-grey-opacity-80"},[n("div",[e._v("Current state sharing link")]),n("close-icon",{staticClass:"cursor-pointer ml-auto w-12 h-12",on:{click:function(t){return e.$store.commit("panels/setShareStatePanel",!1)}}})],1),n("div",[n("div",{staticClass:"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 m-8 p-8"},[e._v("\n                The link will be valid for 6 months\n            ")]),e.newLink?n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"p-8"},[e._v("\n                    "+e._s(e.newLink)+"\n                ")]),n("div",{staticClass:"p-8"},[n("button",{staticClass:"bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out px-16 p-8 text-sm",on:{click:e.copy}},[e._v("\n                        Copy link\n                    ")])]),e.copied?n("div",{staticClass:"p-8"},[e._v("\n                    Copied!\n                ")]):e._e()]):e._e()])])])},td=[],nd={name:"ShareView",components:{CloseIcon:ip},data:function(){return{newLink:null,copied:!1}},created:function(){this.createShortLink()},watch:{exportableData:{deep:!0,handler:function(){this.$emit("onShouldClose")}}},computed:{origin:function(){return window.location.origin},exportableData:function(){var e=k(this.$store.state),t={apps:{},panels:e.panels},n={};return n[e.panels.leftPanel.appId]=e.panels.leftPanel.indexName,this.$store.state.panels.splitMode?n[e.panels.rightPanel.appId]=e.panels.rightPanel.indexName:(e.panels.rightPanel.appId=e.panels.leftPanel.appId,e.panels.rightPanel.indexName=e.panels.leftPanel.indexName),Object.keys(n).forEach((function(a){var s=n[a],r=e.apps[a][s];if(r){r.lastUsed;var i=Object(b["a"])(r,["lastUsed"]);t.apps[a]={},t.apps[a].lastIndexName=s,t.apps[a][s]=i}})),t}},methods:{copy:function(){Cl()(this.newLink),this.copied=!0},createShortLink:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object({NODE_ENV:"production",BASE_URL:"/metaparams/"}).VUE_APP_METAPARAMS_BACKEND_ENDPOINT||"https://tools-backend.algolia.com",e.next=3,fetch("".concat(t,"/state"),{credentials:"include",method:"POST",body:JSON.stringify({value:JSON.stringify(this.exportableData)}),headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,this.newLink="".concat(this.origin,"/metaparams?code=").concat(a.short_code);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},ad=nd,sd=Object(D["a"])(ad,ed,td,!1,null,null,null),rd=sd.exports,id={name:"AppLoggedIn",components:{InternalApp:H,SearchBox:Vu,DisplayConfig:Tp,ShareView:rd,CompareHits:Yp,AppHeader:ap,Dashboard:Gu,SplitIcon:Cp,CompareIcon:Ap,BarChartIcon:bt,AppManagement:up},data:function(){return{loadingSharingLink:!0}},created:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,r,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=new URL(window.location.href),n=t.searchParams.get("code"),!n){e.next=31;break}return a=Object({NODE_ENV:"production",BASE_URL:"/metaparams/"}).VUE_APP_METAPARAMS_BACKEND_ENDPOINT||"https://tools-backend.algolia.com",e.next=6,fetch("".concat(a,"/state/get/").concat(n),{credentials:"include",headers:{"Content-Type":"application/json"}});case 6:if(s=e.sent,!s.ok){e.next=30;break}return e.next=10,s.json();case 10:r=e.sent,i=JSON.parse(r.value),this.$store.commit("panels/replacePanels",i.panels),e.t0=regeneratorRuntime.keys(i.apps);case 14:if((e.t1=e.t0()).done){e.next=29;break}o=e.t1.value,this.$store.commit("apps/addAppId",{appId:o}),i.apps[o].lastIndexName&&this.$store.commit("apps/".concat(o,"/setLastIndexName"),i.apps[o].lastIndexName),e.t2=regeneratorRuntime.keys(i.apps[o]);case 19:if((e.t3=e.t2()).done){e.next=27;break}if(l=e.t3.value,"lastIndexName"!==l){e.next=23;break}return e.abrupt("continue",19);case 23:this.$store.commit("apps/".concat(o,"/addIndex"),l),this.$store.commit("apps/".concat(o,"/").concat(l,"/replaceIndexData"),i.apps[o][l]),e.next=19;break;case 27:e.next=14;break;case 29:this.$root.$emit("onFetchAppsInfo");case 30:window.history.replaceState({},document.title,"/metaparams");case 31:this.loadingSharingLink=!1;case 32:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{onGoToHit:function(e,t){var n="leftPanel"===t?"rightPanel":"leftPanel",a=this.$store.state.panels[t].appId,s=this.$store.state.panels[t].indexName,r=this.$store.state.panels[n].appId,i=this.$store.state.panels[n].indexName,o=a===r&&s===i,l=o&&"rightPanel"===t?"searchParams2":"searchParams",c=this.$store.state.apps[a][s][l],u=c.hitsPerPage&&c.hitsPerPage.enabled?c.hitsPerPage.value:8,p=c.page&&c.page.enabled?c.page.value:0,d=u||1,h=Math.floor((e-1)/d),m="#".concat(t,"-").concat(e);p!==h?(this.$store.commit("apps/".concat(a,"/").concat(s,"/setParamValue"),{configKey:l,key:"page",value:h}),this.$root.$emit("wantsToGoToAnchorAtNext",m)):this.$nextTick((function(){Xe(m)}))}}},od=id,ld=Object(D["a"])(od,C,A,!1,null,null,null),cd=ld.exports;a["default"].config.productionTip=!1,a["default"].config.performance=!0,new a["default"]({render:function(e){return e(cd)},store:I}).$mount("#app")},b980:function(e,t,n){"use strict";var a=n("ddc2"),s=n.n(a);s.a},ddc2:function(e,t,n){}});
//# sourceMappingURL=app.1138713a.js.map