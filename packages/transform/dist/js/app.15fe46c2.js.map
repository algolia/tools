{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../common/store/myStorage.js","webpack:///../common/store/modules/apps/index.js","webpack:///../common/store/modules/apps/app.js","webpack:///../common/store/modules/apps/apps.js","webpack:///../common/store/modules/panels/panel.js","webpack:///../common/store/modules/panels/panels.js","webpack:///../common/store/modules/apilogs.js","webpack:///../common/store/modules/indexdiffer.js","webpack:///../common/store/modules/indexanalyzer.js","webpack:///../common/store/modules/indexmanager.js","webpack:///../common/store/modules/relevancetesting.js","webpack:///../common/store/modules/insightsui.js","webpack:///../common/store/stateReducer.js","webpack:///../common/store/store.js","webpack:///./src/App.vue?6ed4","webpack:///../common/components/app/InternalApp.vue?e873","webpack:///../common/icons/loader.svg","webpack:///../common/components/app/AlgoliaProxy.vue?c3a9","webpack:///../common/components/app/AlgoliaProxy.vue","webpack:///../common/components/app/AlgoliaProxy.vue?2fe3","webpack:///../common/components/app/AlgoliaProxy.vue?a950","webpack:///../common/components/app/InternalApp.vue","webpack:///../common/components/app/InternalApp.vue?d6eb","webpack:///../common/components/app/InternalApp.vue?7d31","webpack:///../common/components/header/AppHeader.vue?cbe9","webpack:///../common/icons/logo-experimental.svg","webpack:///../common/icons/chevron-left.svg","webpack:///../common/components/header/AppHeader.vue","webpack:///../common/components/header/AppHeader.vue?b870","webpack:///../common/components/header/AppHeader.vue?2e73","webpack:///../common/components/configuration/AppManagement.vue?ed24","webpack:///../common/icons/trash.svg","webpack:///../common/icons/x.svg","webpack:///../common/components/configuration/AppManagement.vue","webpack:///../common/components/configuration/AppManagement.vue?861d","webpack:///../common/components/configuration/AppManagement.vue?ab19","webpack:///./src/DatasetSelector.vue?2177","webpack:///../common/components/selectors/AppSelector.vue?a454","webpack:///../common/components/selectors/CustomSelect.vue?6f05","webpack:///../common/icons/chevron-down.svg","webpack:///../common/utils/formatters.js","webpack:///../common/components/selectors/CustomSelect.vue","webpack:///../common/components/selectors/CustomSelect.vue?f7c3","webpack:///../common/components/selectors/CustomSelect.vue?583e","webpack:///../common/icons/box.svg","webpack:///../common/mixins/ownedByAlgolia.js","webpack:///../common/components/selectors/AppSelector.vue","webpack:///../common/components/selectors/AppSelector.vue?de41","webpack:///../common/components/selectors/AppSelector.vue?2ed0","webpack:///../common/components/selectors/IndexSelector.vue?aaa6","webpack:///../common/icons/list.svg","webpack:///../common/utils/time.js","webpack:///../common/utils/signature.js","webpack:///../common/utils/customIndexMethods.js","webpack:///../common/utils/algoliaHelpers.js","webpack:///../common/components/selectors/IndexSelector.vue","webpack:///../common/components/selectors/IndexSelector.vue?6357","webpack:///../common/components/selectors/IndexSelector.vue?ec21","webpack:///./src/FileStreamer.js","webpack:///./src/XmlStreamer.js","webpack:///src/DatasetSelector.vue","webpack:///./src/DatasetSelector.vue?50a7","webpack:///./src/DatasetSelector.vue","webpack:///./src/Transformer.vue?db9c","webpack:///./src/MonacoEditor.vue?8ee1","webpack:///src/MonacoEditor.vue","webpack:///./src/MonacoEditor.vue?fc5f","webpack:///./src/MonacoEditor.vue","webpack:///../common/components/explorer/hits/Attributes.vue?a9cc","webpack:///../common/components/explorer/hits/Attribute.vue?c66d","webpack:///../common/utils/types.js","webpack:///../common/components/explorer/hits/Attribute.vue","webpack:///../common/components/explorer/hits/Attribute.vue?27a5","webpack:///../common/components/explorer/hits/Attribute.vue?cef5","webpack:///../common/components/explorer/props.js","webpack:///../common/components/explorer/hits/Attributes.vue","webpack:///../common/components/explorer/hits/Attributes.vue?4700","webpack:///../common/components/explorer/hits/Attributes.vue?4e5c","webpack:///../common/components/explorer/hits/hitsTransformer.js","webpack:///../common/components/explorer/results/Pagination.vue?e777","webpack:///../common/components/explorer/results/paginator.js","webpack:///../common/components/explorer/results/Pagination.vue","webpack:///../common/components/explorer/results/Pagination.vue?4bac","webpack:///../common/components/explorer/results/Pagination.vue?31b5","webpack:///src/Transformer.vue","webpack:///./src/Transformer.vue?71f9","webpack:///./src/Transformer.vue","webpack:///./src/Applier.vue?5d50","webpack:///../common/components/TasksGroup.vue?43c4","webpack:///../common/icons/check.svg","webpack:///../common/components/TasksGroup.vue","webpack:///../common/components/TasksGroup.vue?9af3","webpack:///../common/components/TasksGroup.vue?4a3a","webpack:///../common/utils/tasks.js","webpack:///src/Applier.vue","webpack:///./src/Applier.vue?6637","webpack:///./src/Applier.vue","webpack:///./src/DisplayConfig.vue?f762","webpack:///src/DisplayConfig.vue","webpack:///./src/DisplayConfig.vue?72a3","webpack:///./src/DisplayConfig.vue","webpack:///src/App.vue","webpack:///./src/App.vue?59f5","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","options","storage","localStorage","timeBeforeSaving","getState","getItem","JSON","parse","setState","state","reducedState","reducer","setItem","stringify","store","savedState","k","replaceState","subscribe","mutation","namespaced","searchParams","searchParams2","indexSettings","advancedIndexSettings","refIndexSettings","imageAttributeName","autoTitleAttributeName","titleAttribute","ignoreImageProxy","imageSize","imageBaseUrl","imageSuffixUrl","lastUsed","Date","getTime","mutations","replaceIndexData","payload","keys","forEach","Vue","set","updateLastUsed","replaceIndexSettings","settings","enabled","setImageSize","setIgnoreImageProxy","setAutoTitleAttributeName","setTitleAttribute","resetIndexSettings","setImageAttributeName","setImageBaseUrl","setImageSuffixUrl","restoreIndexSetting","inputKey","setAdvancedIndexSettings","setParamValue","configKey","this","edit","setParamEnabled","deleteParam","delete","deleteArrayElement","positionKey","setKeysIndexer","setIndexAnalyzer","appId","adminApiKey","lastIndexName","userId","__app_name","__app_owner","setLastIndexName","setAppName","setAppOwner","setUserId","addIndex","indexName","modulePath","_modules","registerModule","index","preserveState","context","commit","addAppId","apiKey","app","panels","leftPanel","rightPanel","deleteAppId","unregisterModule","newAppId","remainingAppIds","server","displayMode","currentTab","method","setPanelConfig","apps","setMethod","setServer","setDisplayMode","setCurrentTab","panel","splitMode","query","twoInputs","displayRankingInfo","showSearchableAttributes","showCustomRanking","showAttributesForFaceting","showOnlyMatchingAttributes","comparePanels","manageAppsPanel","expandLeftPanel","analyseMaxNbPoints","shareStatePanel","trackedObjects","setTrackedObjects","setTwoInputs","replacePanels","setShareStatePanel","setExpandLeftPanel","setManageAppsPanel","setAnalyseMaxNbPoints","setComparePanels","setDisplayRankingInfo","setShowSearchableAttributes","setShowCustomRanking","setShowAttributesForFaceting","setShowOnlyMatchingAttributes","rightFromLeft","leftFromRight","setQuery","setSplitMode","jumpParams","otherPanelKey","panelKey","srcAppId","srcIndexName","dstAppId","dstIndexName","srcParams","dstParamsData","indexOf","clearParams","indexData","jumpParamValue","dstParams","logsType","setAppId","setIndexName","setLogsType","leftAppId","leftIndexName","rightAppId","rightIndexName","setLeftAppId","setLeftIndexName","setRightAppId","setRightIndexName","filtering","setFiltering","tab","setTab","oneWeekAgo","setDate","getDate","panelsRest","reduce","acc","innerAcc","indexNames","innerInnerAcc","rest","keysIndexer","indexAnalyzer","now","nbDaysSinceLastUse","Math","floor","use","Vuex","Store","apilogs","indexdiffer","relevancetesting","indexmanager","insightsui","indexanalyzer","plugins","createPersistedState","stateReducer","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","dataset","indexInfo","csvFile","jsonFile","xmlFile","xmlRootNode","transformer","_e","staticRenderFns","isProduction","_t","slot","_v","functional","children","class","classNames","style","staticStyle","assign","concat","authorized","currentUser","json","component","_m","_s","appName","$store","_l","substring","replace","deleteApp","directives","rawName","expression","domProps","_k","keyCode","composing","newApiKey","setType","includes","ref","setFiles","files","isDragring","file","$refs","click","preventDefault","dataTransfer","updateXmlRootNode","xmlError","model","callback","$$v","$set","extraObjectID","appIds","refine","onInput","scopedSlots","_u","fn","option","inDropDown","isSelected","highlightString","onKeyUp","onKeyDown","fakeBlur","dropdownOpened","openDropDown","onBlur","selectedIndex","allowBlur","onSelected","div","escapeHtml","textContent","innerHTML","escapeAndHighlightHit","regexp","highlightClassName","str","syntaxHighlight","match","cls","test","highlightStringBaseOnQuery","q","words","toLowerCase","split","sort","a","b","filter","trim","highlightedString","foundMatch","startsWith","methods","ownedByAlgolia","endsWith","indicesWithForced","allowFreeText","entries","sleep","ms","cache","lock","backendEndpoint","process","VUE_APP_METAPARAMS_BACKEND_ENDPOINT","fetch","credentials","headers","res","signature","getNewParams","params","newQuery","optionalWords","buildFacetFilters","facetFilters","needle","map","facetFilter","refinements","Array","isArray","refinement","safeJSONStringify","obj","toJSON","out","_getSearchParams","args","encodeURIComponent","toString","getDisjunctiveRequests","disjunctiveFacets","refinedFacets","paramsWithoutDisjunctiveFacets","requests","facets","facetName","forcedParams","analytics","attributesToRetrieve","attributesToHighlight","attributesToSnippet","hitsPerPage","page","explain","disjunctiveSearch","facetRefinements","requestOptions","transporter","read","path","strategy","newRes","results","customSearch","newParams","search","customBrowse","cursor","serializeQueryParameters","encode","customSearchForFacetValues","facetQuery","searchForFacetValues","isLocalAppId","clientCache","indexCache","getHosts","apikey","url","accept","host","getClient","noSignature","cacheKey","getSignature","logger","createConsoleLogger","createNullCache","baseClient","algoliasearch","requestsCache","responsesCache","hostsCache","hosts","client","addMethods","customInitIndex","base","mcmMethodsNames","initIndex","methodName","mcmMethod","param","waitMethod","wait","customIndexMethods","getSearchIndex","nbPages","allIndices","items","indices","finishCallBack","chunkSize","start","finished","paused","pause","resume","nextChunk","chunkLoaded","size","readChunk","input","end","min","reader","readAsText","FileReader","log","userRootItem","onHit","parser","sax","rootItem","stack","getFinalNodeName","ontext","currentObject","oncdata","onopentag","node","nodeName","attributes","finalNodeName","onclosetag","pop","noReset","freeze","nbHits","sample","$emit","hitsTransformer","transformObj","srcObjectExample","_v_","saveTransformer","saveAs","invisible","hasBeenSaved","savedConfig","generatedConfig","reset","body","deleteTransformer","notNewTransformers","dstObjectExample","item","needsCollapse","nbExtraAttributes","isCollapsed","isObject","collapsed","parentKey","highlightedValue","elt","isBoolean","isNumber","isNull","stringValue","rawStringValue","isString","v","String","constructor","isNumeric","isNaN","parseFloat","isFinite","images","paramsAndSettings","response","display","actions","excluded","recursivelyGetValues","getNewItemObject","highlightItem","snippetItem","newObject","hasMatchGlobal","getNewItem","_b_","_s_","getNewItemArray","array","newArray","hasMatch","matchLevel","hasMatch2","rawValue","_rv_","_highlightResult","_snippetResult","getNewItemArraySimple","getNewItemSimple","getNewItemObjectSimple","transformObjSimple","setPage","pages","range","nbPage","currentPage","total","padding","totalDisplayedPages","nbPagesDisplayed","paddingLeft","calculatePaddingLeft","paddingRight","first","last","current","isLastPage","isFirstPage","reloadTransformers","transformers","fetchTransformers","showAllApps","_i","$$a","$$el","$$c","checked","$$i","tasksGroup","_q","errorMessage","task","nth","outOf","TasksGroup","tasks","tasksIds","addTask","addAlgoliaTaskId","taskId","run","Task","running","done","setCallback","setNth","setOutOf","clientDst","timeouts","hits","lineObject","count","close","waitTask","$root","config","productionTip","performance","render","h","App","$mount"],"mappings":"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","file":"js/app.15fe46c2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-05d719ac\":\"7d0f2dc3\",\"chunk-0a995046\":\"99e28fc8\",\"chunk-2d0a30fb\":\"2a7a548e\",\"chunk-2d0a40d6\":\"2a0b02f4\",\"chunk-2d0a4fd8\":\"81dc81aa\",\"chunk-2d0ab0dc\":\"d977206a\",\"chunk-2d0ab4a9\":\"65289708\",\"chunk-2d0ab513\":\"78079fcb\",\"chunk-2d0abe96\":\"a034f1a4\",\"chunk-2d0b1d78\":\"22e6d786\",\"chunk-2d0b2574\":\"07523864\",\"chunk-2d0bce15\":\"6f12bb81\",\"chunk-2d0bce36\":\"b5b434f8\",\"chunk-2d0bd3b6\":\"dbdd6175\",\"chunk-2d0c20be\":\"710c8402\",\"chunk-2d0c4da6\":\"7bf83078\",\"chunk-2d0c55e3\":\"5fa86f4a\",\"chunk-2d0c7b72\":\"4e64cf8d\",\"chunk-2d0cbe46\":\"0dda1652\",\"chunk-2d0ceb19\":\"3e96f076\",\"chunk-2d0d0b5b\":\"1487c98e\",\"chunk-2d0d2b05\":\"dd2c9f49\",\"chunk-2d0d3bfb\":\"2194ab21\",\"chunk-2d0d6b53\":\"d20df811\",\"chunk-2d0d800a\":\"a67b7b38\",\"chunk-2d0da52f\":\"0a4b5036\",\"chunk-2d0da752\":\"7b32b30d\",\"chunk-2d0de3fb\":\"bd1d1f3b\",\"chunk-2d0dea5a\":\"655d8430\",\"chunk-2d0df1fd\":\"977a6739\",\"chunk-2d0df875\":\"c26474d5\",\"chunk-2d0e1b38\":\"e5ff503b\",\"chunk-2d0e212f\":\"eb09ae55\",\"chunk-2d0e4aca\":\"0bafc249\",\"chunk-2d0e6330\":\"523d30e2\",\"chunk-2d0e8804\":\"cdabd23d\",\"chunk-2d0e882f\":\"356a3dd0\",\"chunk-2d0e95fe\":\"7bb94fc3\",\"chunk-2d0e9772\":\"bc2b7664\",\"chunk-2d2073c1\":\"a98ba648\",\"chunk-2d208251\":\"997132de\",\"chunk-2d20f328\":\"ffb17918\",\"chunk-2d213345\":\"b9bd50f0\",\"chunk-2d213a22\":\"a8eecd13\",\"chunk-2d213a8c\":\"e0be1bf2\",\"chunk-2d213cc7\":\"1495ccfe\",\"chunk-2d21643e\":\"cfba30ea\",\"chunk-2d21a35a\":\"7c825b1c\",\"chunk-2d21a758\":\"ea7a248b\",\"chunk-2d21aedf\":\"8f8e8697\",\"chunk-2d21d122\":\"24d9b6c1\",\"chunk-2d21d130\":\"a8c52d45\",\"chunk-2d21e70f\":\"c2356d41\",\"chunk-2d225dd9\":\"6f304aaa\",\"chunk-2d2291e4\":\"33a41f35\",\"chunk-2d22c6c6\":\"a3432c06\",\"chunk-2d22d075\":\"3af3350e\",\"chunk-2d22d3e6\":\"6dee0bf2\",\"chunk-2d22d70a\":\"1542d28b\",\"chunk-2d230c94\":\"33c26566\",\"chunk-2d238114\":\"27cec247\",\"chunk-4301fce8\":\"399d59da\",\"chunk-772f41b1\":\"9cb179a2\",\"chunk-b1e1f7c0\":\"919303b9\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/transform/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export default function(options, storage, key) {\n    options = options || {};\n    storage = options.storage || (window && window.localStorage);\n    key = options.key || 'vuex';\n    const timeBeforeSaving = 500;\n    let timeout = null;\n\n    function getState(key, storage, value) {\n        try {\n            return (value = storage.getItem(key)) && typeof value !== 'undefined'\n                ? JSON.parse(value)\n                : undefined;\n        } catch (err) {}\n\n        return undefined;\n    }\n\n    function setState(key, state, storage) {\n        window.clearTimeout(timeout);\n        timeout = window.setTimeout(() => {\n            let reducedState = state;\n            if (options.reducer) {\n                reducedState = options.reducer(state);\n            }\n            storage.setItem(key, JSON.stringify(reducedState))\n        }, timeBeforeSaving);\n    }\n\n    return function(store) {\n        const savedState = getState(key, storage);\n\n        if (typeof savedState === 'object' && savedState !== null) {\n            let k;\n            for (k in store.state) {\n                if (savedState[k] === undefined) {\n                    savedState[k] = store.state[k];\n                }\n            }\n\n            store.replaceState(savedState);\n        }\n\n        store.subscribe(function(mutation, state) {\n            setState(key, state, storage);\n        });\n    };\n}\n","import Vue from 'vue';\n\nexport default function () {\n    return {\n        namespaced: true,\n        state: {\n            searchParams: {},\n            searchParams2: {},\n            indexSettings: {},\n            advancedIndexSettings: {},\n            refIndexSettings: {},\n            imageAttributeName: null,\n            autoTitleAttributeName: null,\n            titleAttribute: '',\n            ignoreImageProxy: false,\n            imageSize: 40,\n            imageBaseUrl: '',\n            imageSuffixUrl: '',\n            lastUsed: new Date().getTime(),\n        },\n        mutations: {\n            replaceIndexData(state, payload) {\n                Object.keys(payload).forEach((key) => {\n                    if (state[key] !== undefined) {\n                        Vue.set(state, key, payload[key]);\n                    }\n                });\n            },\n            updateLastUsed: (state) => {\n                state.lastUsed = new Date().getTime();\n            },\n            replaceIndexSettings(state, payload) {\n                const settings = payload;\n                Vue.set(state, 'indexSettings', {});\n                Object.keys(settings).forEach(function (key) {\n                    Vue.set(state.indexSettings, key, {value: settings[key], enabled: true});\n                });\n\n                Vue.set(state, 'refIndexSettings', JSON.parse(JSON.stringify(state.indexSettings)));\n            },\n            setImageSize(state, payload) {\n                Vue.set(state, 'imageSize', payload);\n            },\n            setIgnoreImageProxy(state, payload) {\n                Vue.set(state, 'ignoreImageProxy', payload);\n            },\n            setAutoTitleAttributeName(state, payload) {\n                Vue.set(state, 'autoTitleAttributeName', payload);\n            },\n            setTitleAttribute(state, payload) {\n                Vue.set(state, 'titleAttribute', payload);\n            },\n            resetIndexSettings(state) {\n                Vue.set(state, 'indexSettings', JSON.parse(JSON.stringify(state.refIndexSettings)));\n            },\n            setImageAttributeName(state, payload) {\n                Vue.set(state, 'imageAttributeName', payload);\n            },\n            setImageBaseUrl(state, payload) {\n                Vue.set(state, 'imageBaseUrl', payload);\n            },\n            setImageSuffixUrl(state, payload) {\n                Vue.set(state, 'imageSuffixUrl', payload);\n            },\n            restoreIndexSetting(state, payload) {\n                const inputKey = payload.inputKey;\n                Vue.set(state.indexSettings, inputKey, JSON.parse(JSON.stringify(state.refIndexSettings[inputKey])));\n            },\n            setAdvancedIndexSettings(state, payload) {\n                Vue.set(state, 'advancedIndexSettings', payload);\n            },\n            setParamValue(state, payload) {\n                const configKey = payload.configKey || this.state.edit.configKey;\n                Vue.set(state[configKey], payload.key, {value: payload.value, enabled: true});\n            },\n            setParamEnabled(state, payload) {\n                Vue.set(state[payload.configKey][payload.inputKey], 'enabled', payload.value);\n            },\n            deleteParam(state, payload) {\n                Vue.delete(state[payload.configKey], payload.inputKey);\n            },\n            deleteArrayElement(state, payload) {\n                Vue.delete(state[payload.configKey][payload.inputKey].value, payload.positionKey);\n            },\n            setKeysIndexer(state, payload) {\n                Vue.set(state, 'keysIndexer', payload);\n            },\n            setIndexAnalyzer(state, payload) {\n                Vue.set(state, 'indexAnalyzer', payload);\n            },\n        },\n    }\n}\n","import index from './index'\nimport Vue from 'vue'\n\nexport default function (appId, adminApiKey, lastIndexName) {\n    return {\n        namespaced: true,\n        state: {\n            key: adminApiKey,\n            lastIndexName: lastIndexName,\n            userId: null,\n            __app_name: '',\n            __app_owner: '',\n        },\n        mutations: {\n            setLastIndexName(state, payload) {\n                Vue.set(state, lastIndexName, payload);\n            },\n            setAppName: function (state, payload) {\n                Vue.set(state, '__app_name', payload);\n            },\n            setAppOwner: function (state, payload) {\n                Vue.set(state, '__app_owner', payload);\n            },\n            setUserId: function (state, payload) {\n                Vue.set(state, 'userId', payload);\n            },\n            addIndex: function (state, payload) {\n                const indexName = payload;\n                const modulePath = ['apps', appId, indexName];\n                let module = this._modules.get(modulePath);\n\n                if (module === undefined) { // Avoid having mutations registered twice\n                    if (!state[indexName]) {\n                        this.registerModule(['apps', appId, indexName], index())\n                    } else {\n                        this.registerModule(['apps', appId, indexName], index(), { preserveState: true })\n                    }\n                    module = this._modules.get(modulePath);\n                }\n\n                module.context.commit('updateLastUsed');\n            }\n        },\n    }\n}\n","import app from './app'\nimport Vue from 'vue';\n\nexport default {\n    namespaced: true,\n    modules: {},\n    mutations: {\n        addAppId(state, payload) {\n            const appId = payload.appId;\n            const modulePath = ['apps', appId];\n            const module = this._modules.get(modulePath);\n            const apiKey = payload.apiKey || null;\n\n            if (module !== undefined && state[appId]) {\n                if (payload.apiKey) {\n                    Vue.set(state[appId], 'key', apiKey);\n                }\n                return; // Avoid having mutations registered twice\n            }\n\n            if (!state[appId]) {\n                this.registerModule(['apps', appId], app(appId, apiKey, null));\n            } else {\n                this.registerModule(['apps', appId], app(appId, apiKey), { preserveState: true });\n            }\n\n            if (this.state.panels.leftPanel.appId === null) {\n                Vue.set(this.state.panels.leftPanel, 'appId', appId);\n            }\n            if (this.state.panels.rightPanel.appId === null) {\n                Vue.set(this.state.panels.rightPanel, 'appId', appId);\n            }\n        },\n        deleteAppId(state, payload) {\n            const appId = payload;\n            const modulePath = ['apps', appId];\n            const module = this._modules.get(modulePath);\n            if (module) {\n                this.unregisterModule(modulePath);\n            }\n\n            Vue.delete(state, appId);\n\n            let newAppId = null;\n            const remainingAppIds = Object.keys(state);\n\n            if (remainingAppIds.length > 0) newAppId = remainingAppIds[0];\n\n            if (this.state.panels.leftPanel.appId === appId) {\n                Vue.set(this.state.panels.leftPanel, 'appId', newAppId);\n            }\n\n            if (this.state.panels.rightPanel.appId === appId) {\n                Vue.set(this.state.panels.rightPanel, 'appId', newAppId);\n            }\n        }\n    }\n}\n","import Vue from 'vue';\n\nexport default function (appId, indexName) {\n    return {\n        namespaced: true,\n        state: {\n            appId: appId,\n            indexName: indexName,\n            server: '-dsn',\n            displayMode: 'list',\n            currentTab: 'hits',\n            method: 'search',\n        },\n        mutations: {\n            setPanelConfig(state, payload) {\n                Vue.set(state, 'appId', payload.appId);\n                Vue.set(state, 'indexName', payload.indexName);\n                Vue.set(state, 'server', '-dsn');\n\n                if (state.indexName) {\n                    Vue.set(this.state.apps[payload.appId], 'lastIndexName', state.indexName);\n                }\n            },\n            setMethod(state, payload) {\n                Vue.set(state, 'method', payload);\n            },\n            setServer(state, payload) {\n                Vue.set(state, 'server', payload);\n            },\n            setDisplayMode(state, payload) {\n                Vue.set(state, 'displayMode', payload);\n            },\n            setCurrentTab(state, payload) {\n                Vue.set(state, 'currentTab', payload);\n            }\n        },\n    }\n}\n","import Vue from 'vue';\nimport panel from \"./panel\";\n\nexport default {\n    namespaced: true,\n    modules: {\n        leftPanel: panel(null, null),\n        rightPanel: panel(null, null)\n    },\n    state: {\n        splitMode: false,\n        query: '',\n        twoInputs: false,\n        displayRankingInfo: false,\n        showSearchableAttributes: true,\n        showCustomRanking: true,\n        showAttributesForFaceting: true,\n        showOnlyMatchingAttributes: false,\n        comparePanels: false,\n        manageAppsPanel: true,\n        expandLeftPanel: false,\n        analyseMaxNbPoints: 100,\n        shareStatePanel: false,\n        trackedObjects: [],\n    },\n    mutations: {\n        setTrackedObjects: function (state, payload) {\n            Vue.set(state, 'trackedObjects', payload);\n        },\n        setTwoInputs: function (state, payload) {\n            Vue.set(state, 'twoInputs', payload);\n        },\n        replacePanels: function (state, payload) {\n            Object.keys(payload).forEach((key) => {\n                if (state[key] !== undefined) {\n                    Vue.set(state, key, payload[key]);\n                }\n            });\n        },\n        setShareStatePanel(state, payload) {\n            Vue.set(state, 'shareStatePanel', payload);\n        },\n        setExpandLeftPanel(state, payload) {\n            Vue.set(state, 'expandLeftPanel', payload);\n        },\n        setManageAppsPanel(state, payload) {\n            Vue.set(state, 'manageAppsPanel', payload);\n        },\n        setAnalyseMaxNbPoints(state, payload) {\n            Vue.set(state, 'analyseMaxNbPoints', payload);\n        },\n        setComparePanels(state, payload) {\n            Vue.set(state, 'comparePanels', payload);\n        },\n        setDisplayRankingInfo(state, payload) {\n            Vue.set(state, 'displayRankingInfo', payload);\n        },\n        setShowSearchableAttributes(state, payload) {\n            Vue.set(state, 'showSearchableAttributes', payload);\n        },\n        setShowCustomRanking(state, payload) {\n            Vue.set(state, 'showCustomRanking', payload);\n        },\n        setShowAttributesForFaceting(state, payload) {\n            Vue.set(state, 'showAttributesForFaceting', payload);\n        },\n        setShowOnlyMatchingAttributes(state, payload) {\n            Vue.set(state, 'showOnlyMatchingAttributes', payload);\n        },\n        rightFromLeft: function (state) {\n            Vue.set(state.rightPanel, 'appId', state.leftPanel.appId);\n            Vue.set(state.rightPanel, 'indexName', state.leftPanel.indexName);\n            Vue.set(this.state.apps[state.rightPanel.appId], 'lastIndexName', state.rightPanel.indexName);\n        },\n        leftFromRight: function (state) {\n            Vue.set(state.leftPanel, 'appId', state.rightPanel.appId);\n            Vue.set(state.leftPanel, 'indexName', state.rightPanel.indexName);\n            Vue.set(this.state.apps[state.leftPanel.appId], 'lastIndexName', state.leftPanel.indexName);\n        },\n        setQuery(state, payload) {\n            Vue.set(state, 'query', payload);\n        },\n        setSplitMode(state, payload) {\n            Vue.set(state, 'splitMode', payload);\n        },\n        jumpParams(state, payload) {\n            let configKey = payload.configKey;\n            const otherPanelKey = payload.panelKey === 'rightPanel' ? 'leftPanel': 'rightPanel';\n            const srcAppId = state[payload.panelKey].appId;\n            const srcIndexName = state[payload.panelKey].indexName;\n            const dstAppId = state[otherPanelKey].appId;\n            const dstIndexName = state[otherPanelKey].indexName;\n            const srcParams = this.state.apps[srcAppId][srcIndexName][configKey]; // Keep before change of key\n\n            if (configKey === 'searchParams2') {\n                configKey = 'searchParams';\n            } else if (configKey === 'searchParams' && srcAppId === dstAppId && srcIndexName === dstIndexName) {\n                configKey = 'searchParams2';\n            }\n\n            const dstParamsData = this.state.apps[dstAppId][dstIndexName];\n\n            Object.keys(srcParams).forEach((key) => {\n                if (['replicas'].indexOf(key) !== -1) return;\n                Vue.set(dstParamsData[configKey], key, JSON.parse(JSON.stringify(srcParams[key])));\n            });\n        },\n        clearParams(state, payload) {\n            let configKey = payload.configKey;\n            const srcAppId = state[payload.panelKey].appId;\n            const srcIndexName = state[payload.panelKey].indexName;\n            const indexData = this.state.apps[srcAppId][srcIndexName]; // Keep before change of key\n            Vue.set(indexData, configKey, {});\n        },\n        jumpParamValue(state, payload) {\n            let configKey = payload.configKey;\n            const otherPanelKey = payload.panelKey === 'rightPanel' ? 'leftPanel': 'rightPanel';\n            const srcAppId = state[payload.panelKey].appId;\n            const srcIndexName = state[payload.panelKey].indexName;\n            const dstAppId = state[otherPanelKey].appId;\n            const dstIndexName = state[otherPanelKey].indexName;\n            const srcParams = this.state.apps[srcAppId][srcIndexName][configKey];\n\n            if (configKey === 'searchParams2') {\n                configKey = 'searchParams';\n            } else if (configKey === 'searchParams' && srcAppId === dstAppId && srcIndexName === dstIndexName) {\n                configKey = 'searchParams2';\n            }\n\n            const dstParams = this.state.apps[dstAppId][dstIndexName][configKey];\n\n            Vue.set(dstParams, payload.inputKey, JSON.parse(JSON.stringify(srcParams[payload.inputKey])));\n        },\n    },\n}\n","import Vue from 'vue';\n\nexport default {\n    namespaced: true,\n    state: {\n        appId: null,\n        indexName: null,\n        server: null,\n        logsType: null,\n    },\n    mutations: {\n        setAppId: function (state, payload) {\n            Vue.set(state, 'appId', payload);\n        },\n        setIndexName: function (state, payload) {\n            Vue.set(state, 'indexName', payload);\n        },\n        setServer: function (state, payload) {\n            Vue.set(state, 'server', payload);\n        },\n        setLogsType: function (state, payload) {\n            Vue.set(state, 'logsType', payload);\n        }\n    }\n}\n","import Vue from 'vue';\n\nexport default {\n    namespaced: true,\n    state: {\n        leftAppId: null,\n        leftIndexName: null,\n        rightAppId: null,\n        rightIndexName: null,\n        currentTab: 'settings',\n    },\n    mutations: {\n        setLeftAppId: function (state, payload) {\n            Vue.set(state, 'leftAppId', payload)\n        },\n        setLeftIndexName: function (state, payload) {\n            Vue.set(state, 'leftIndexName', payload)\n        },\n        setRightAppId: function (state, payload) {\n            Vue.set(state, 'rightAppId', payload)\n        },\n        setRightIndexName: function (state, payload) {\n            Vue.set(state, 'rightIndexName', payload)\n        },\n        setCurrentTab: function (state, payload) {\n            Vue.set(state, 'currentTab', payload);\n        }\n    }\n}","import Vue from 'vue';\n\nexport default {\n    namespaced: true,\n    state: {\n        appId: null,\n        indexName: null,\n    },\n    mutations: {\n        setAppId: function (state, payload) {\n            Vue.set(state, 'appId', payload);\n        },\n        setIndexName: function (state, payload) {\n            Vue.set(state, 'indexName', payload);\n        },\n    }\n}\n","import Vue from 'vue';\n\nexport default {\n    namespaced: true,\n    state: {\n        appId: null,\n    },\n    mutations: {\n        setAppId: function (state, payload) {\n            Vue.set(state, 'appId', payload)\n        },\n    }\n}\n","import Vue from 'vue';\n\nexport default {\n    namespaced: true,\n    state: {\n        filtering: 'all',\n    },\n    mutations: {\n        setFiltering: function (state, payload) {\n            Vue.set(state, 'filtering', payload)\n        },\n    }\n}\n","import Vue from 'vue';\n\nexport default {\n    namespaced: true,\n    state: {\n        appId: null,\n        indexName: null,\n        tab: 'click'\n    },\n    mutations: {\n        setAppId: function (state, payload) {\n            Vue.set(state, 'appId', payload)\n        },\n        setIndexName: function (state, payload) {\n            Vue.set(state, 'indexName', payload)\n        },\n        setTab: function (state, payload) {\n            Vue.set(state, 'tab', payload)\n        },\n    }\n}\n","const oneWeekAgo = new Date();\noneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\n\nexport default function (state) {\n    const {\n        leftPanel,\n        rightPanel,\n        shareStatePanel,\n        manageAppsPanel,\n        ...panelsRest\n    } = state.panels;\n\n    return Object.keys(state).reduce((acc, key) => ({\n        ...acc,\n        [key]: state[key],\n        panels: {\n            leftPanel: state.panels.leftPanel,\n            rightPanel: state.panels.rightPanel,\n            ...panelsRest\n        },\n        apps: Object.keys(state.apps).reduce((innerAcc, appId) => {\n            const { key, lastIndexName, userId, __app_name, __app_owner,  ...indexNames } = state.apps[appId];\n            return ({\n                ...innerAcc,\n                [appId]: Object.keys(indexNames).reduce((innerInnerAcc, indexName) => {\n                    const  {\n                        indexSettings,\n                        refIndexSettings,\n                        advancedIndexSettings,\n                        keysIndexer,\n                        indexAnalyzer,\n                        autoTitleAttributeName,\n                        ...rest\n                    } = state.apps[appId][indexName];\n\n                    const now = new Date().getTime();\n                    const lastUsed = rest.lastUsed || oneWeekAgo.getTime();\n                    const nbDaysSinceLastUse = Math.floor((now - lastUsed) / 1000 / 3600 / 24);\n\n                    if (nbDaysSinceLastUse >= 7) {\n                        return innerInnerAcc;\n                    }\n\n                    return {...innerInnerAcc, [indexName]: rest}\n                }, {\n                    key,\n                    lastIndexName,\n                    userId,\n                    __app_name,\n                    __app_owner,\n                })\n            })\n        }, {})\n    }), {})\n}\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport createPersistedState from './myStorage';\n\nimport apps from './modules/apps/apps';\nimport panels from './modules/panels/panels';\nimport apilogs from './modules/apilogs';\nimport indexdiffer from \"./modules/indexdiffer\";\nimport indexanalyzer from './modules/indexanalyzer';\nimport indexmanager from \"./modules/indexmanager\";\nimport relevancetesting from \"./modules/relevancetesting\";\nimport insightsui from \"./modules/insightsui\";\nimport stateReducer from \"./stateReducer\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    modules: {\n        apps,\n        panels,\n        apilogs,\n        indexdiffer,\n        relevancetesting,\n        indexmanager,\n        insightsui,\n        indexanalyzer,\n    },\n    plugins: [createPersistedState({\n        reducer: stateReducer\n    })],\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('internal-app',[_c('div',{staticClass:\"min-h-screen pb-48\"},[_c('app-header',{attrs:{\"app-name\":\"Transform\"}},[_c('display-config',{staticClass:\"mx-16 mt-0 ml-auto\"})],1),_c('div',{staticClass:\"px-48 mt-24\"},[_c('app-management'),_c('dataset-selector',{on:{\"onUpdateDataset\":function($event){_vm.dataset = $event},\"onUpdateIndexInfo\":function($event){_vm.indexInfo = $event},\"onUpdateCsvFile\":function($event){_vm.csvFile = $event},\"onUpdateJsonFile\":function($event){_vm.jsonFile = $event},\"onUpdateXmlFile\":function($event){_vm.xmlFile = $event},\"onUpdateXmlRootNode\":function($event){_vm.xmlRootNode = $event}}}),(_vm.dataset)?_c('transformer',{attrs:{\"dataset\":_vm.dataset},on:{\"onUpdateTransformer\":function($event){_vm.transformer = $event}}}):_vm._e(),(_vm.dataset && _vm.transformer)?_c('applier',{attrs:{\"dataset\":_vm.dataset,\"index-info\":_vm.indexInfo,\"transformer\":_vm.transformer,\"csv-file\":_vm.csvFile,\"json-file\":_vm.jsonFile,\"xml-file\":_vm.xmlFile,\"xml-root-node\":_vm.xmlRootNode}}):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-moon-grey text-base font-sans-alt min-h-screen\",attrs:{\"id\":\"app\"}},[_c('algolia-proxy',{attrs:{\"enabled\":_vm.isProduction || true}},[_vm._t(\"default\",null,{\"slot\":\"loggedIn\"}),_c('div',{staticClass:\"h-screen flex justify-center items-center\",attrs:{\"slot\":\"loggedOut\"},slot:\"loggedOut\"},[_c('div',{staticClass:\"flex flex-col justify-center items-center\"},[_c('loader-icon',{staticClass:\"w-48 h-48 infinte-rotate\"}),_c('div',{staticClass:\"mt-20\"},[_vm._v(\"\\n                    Connecting to your Algolia account\\n                \")])],1)]),_c('div',{attrs:{\"slot\":\"unauthorized\"},slot:\"unauthorized\"},[_vm._v(\"\\n            This an internal algolia app.\\n        \")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-loader\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"class\":\"feather feather-loader\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83\"}})])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.authorized && (!_vm.enabled || _vm.currentUser))?_vm._t(\"loggedIn\"):(_vm.authorized)?_vm._t(\"loggedOut\"):_vm._t(\"unauthorized\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <slot name=\"loggedIn\" v-if=\"authorized && (!enabled || currentUser)\" />\n        <slot name=\"loggedOut\" v-else-if=\"authorized\" />\n        <slot name=\"unauthorized\" v-else />\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'AlgoliaProxy',\n        props: ['enabled'],\n        data: function () {\n            return {\n                currentUser: null,\n                authorized: true,\n                paused: false,\n            }\n        },\n        created:  function () {\n            this.connect();\n\n            this.$root.$on('onShouldPauseProxy', () => {\n                this.paused = true;\n            });\n\n            this.$root.$on('onShouldResumeProxy', () => {\n                this.paused = true;\n            });\n\n            window.addEventListener(\"focus\", () => {\n                if (!this.paused) {\n                    this.connect();\n                }\n            });\n        },\n        methods: {\n            connect: async function () {\n                if (!this.enabled) return;\n\n                const backendEndpoint = process.env.VUE_APP_METAPARAMS_BACKEND_ENDPOINT || 'https://tools-backend.algolia.com';\n                const res = await fetch(`${backendEndpoint}/user/info?redirect_to=${window.location.href}`, {\n                    credentials: 'include',\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                });\n                const json = await res.json();\n\n                if (json.error && json.error === 'not_authorized') {\n                    this.authorized = false;\n                }\n\n                if (json.redirect_url) {\n                    window.location.href = json.redirect_url;\n                    return;\n                }\n\n                this.currentUser = json;\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlgoliaProxy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlgoliaProxy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AlgoliaProxy.vue?vue&type=template&id=03cd1ed8&\"\nimport script from \"./AlgoliaProxy.vue?vue&type=script&lang=js&\"\nexport * from \"./AlgoliaProxy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div id=\"app\" class=\"bg-moon-grey text-base font-sans-alt min-h-screen\">\n        <algolia-proxy :enabled=\"isProduction || true\">\n            <slot slot=\"loggedIn\" />\n            <div slot=\"loggedOut\" class=\"h-screen flex justify-center items-center\">\n                <div class=\"flex flex-col justify-center items-center\">\n                    <loader-icon class=\"w-48 h-48 infinte-rotate\" />\n                    <div class=\"mt-20\">\n                        Connecting to your Algolia account\n                    </div>\n                </div>\n            </div>\n            <div slot=\"unauthorized\">\n                This an internal algolia app.\n            </div>\n        </algolia-proxy>\n    </div>\n\n</template>\n\n<script>\n    import LoaderIcon from \"common/icons/loader.svg\";\n    import AlgoliaProxy from \"common/components/app/AlgoliaProxy\";\n\n    const isProduction = process.env.NODE_ENV === 'production';\n\n    export default {\n        name: 'InternalApp',\n        components: {AlgoliaProxy, LoaderIcon},\n        data: function () {\n            return {isProduction};\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InternalApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InternalApp.vue?vue&type=template&id=99147aec&\"\nimport script from \"./InternalApp.vue?vue&type=script&lang=js&\"\nexport * from \"./InternalApp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"flex flex-col justify-center w-full bg-white z-10 border-b border-solid border-proton-grey-opacity-80\",staticStyle:{\"height\":\"94px\"}},[_c('div',{staticClass:\"flex px-16 py-12\"},[_c('div',{staticClass:\"flex w-full\"},[_c('div',{staticClass:\"flex items-center text-telluric-blue mr-16 text-lg\"},[_c('algolia-logo-experimental',{staticClass:\"w-20 h-20 mr-8\"}),_vm._m(0),(_vm.appName)?_c('chevron-left',{staticClass:\"w-12 h-12 rotate-180 mr-4\"}):_vm._e(),(_vm.appName)?_c('div',{staticClass:\"mt-2 font-bold\"},[_vm._v(_vm._s(_vm.appName))]):_vm._e()],1),_vm._t(\"default\")],2)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mr-4 mt-2\"},[_c('a',{attrs:{\"href\":\"/apps\"}},[_vm._v(\"Tools\")])])}]\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 120 120\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"fill\":\"#ffbb1f\",\"d\":\"M104.2 0H15.8C7.1 0 0 7 0 15.8v88.4c0 8.7 7.1 15.8 15.8 15.8h88.4c8.7 0 15.8-7.1 15.8-15.8V15.8C120 7.1 112.9 0 104.2 0z\"}}),_c('path',{attrs:{\"fill\":\"#FFF\",\"d\":\"M30.3 41.9c.1 0 .1 0 0 0 1.3-1.7 2.6-3.3 4.1-4.7 1.5-1.5 3-2.8 4.7-4 .3-.2.4-.7.2-1 0 0 0-.1-.1-.1L37.1 30c-2-2-5.3-2-7.4 0l-2.5 2.5c-2 2-2 5.3 0 7.3l2 2c.4.4.8.4 1.1.1zM50.7 27.6h.2c3.4-1 7-1.5 10.6-1.5 3.4 0 6.9.5 10.2 1.4.4.1.8-.1.8-.5v-4.3c0-2.9-2.3-5.2-5.2-5.2H55.2c-2.9 0-5.2 2.3-5.2 5.2v4.2c-.1.4.3.7.7.7zM61.4 30.3c-18.7 0-33.9 15.2-33.9 33.9s15.2 33.9 33.9 33.9 33.9-15.2 33.9-33.9-15.2-33.9-33.9-33.9zm0 57.8c-13.2-.1-23.9-10.8-23.8-24 0-13.2 10.8-23.9 23.9-23.8 13.2 0 23.9 10.8 23.8 23.9 0 13.2-10.7 23.9-23.9 23.9z\"}}),_c('path',{attrs:{\"fill\":\"#FFF\",\"d\":\"M62.1 44.5c-.4 0-.7.3-.7.7V63c0 .4.3.7.7.7.1 0 .2 0 .3-.1l15.8-8.2c.4-.2.5-.6.3-1-3.4-5.9-9.6-9.7-16.4-9.9z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M15 18l-6-6 6-6\"}})])\n          )\n        }\n      }\n    ","<template>\n    <div>\n        <div class=\"flex flex-col justify-center w-full bg-white z-10 border-b border-solid border-proton-grey-opacity-80\" style=\"height: 94px; \">\n            <div class=\"flex px-16 py-12\">\n                <div class=\"flex w-full\">\n                    <div class=\"flex items-center text-telluric-blue mr-16 text-lg\">\n                        <algolia-logo-experimental class=\"w-20 h-20 mr-8\"/>\n                        <div class=\"mr-4 mt-2\"><a href=\"/apps\">Tools</a></div>\n                        <chevron-left v-if=\"appName\" class=\"w-12 h-12 rotate-180 mr-4\" />\n                        <div v-if=\"appName\" class=\"mt-2 font-bold\">{{appName}}</div>\n                    </div>\n                    <slot />\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import AlgoliaLogoExperimental from \"../../icons/logo-experimental.svg\";\n    import ChevronLeft from \"../../icons/chevron-left.svg\";\n\n    export default {\n        name: 'AppHeader',\n        props: ['appName'],\n        components: {AlgoliaLogoExperimental, ChevronLeft},\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppHeader.vue?vue&type=template&id=44933fdd&\"\nimport script from \"./AppHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./AppHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$store.state.panels.manageAppsPanel || Object.keys(_vm.$store.state.apps).length <= 0)?_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"rounded bg-white m-16 mr-64 border border-solid border-proton-grey-opacity-60\"},[_c('div',{staticClass:\"text-telluric-blue text-xs uppercase tracking-wide flex items-center border-b border-t-0 border-proton-grey bg-white p-8 bg-proton-grey-opacity-80\"},[_c('div',[_vm._v(\"Manage AppIDs\")]),_c('close-icon',{staticClass:\"cursor-pointer ml-auto w-12 h-12\",on:{\"click\":function($event){return _vm.$store.commit('panels/setManageAppsPanel', false)}}})],1),_c('div',[_c('div',{staticClass:\"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 m-8 p-8\"},[_vm._v(\"\\n                To function this app requires Algolia credentials. You must provide the Admin API Key for every feature to work properly.\\n            \")]),_c('table',[_vm._m(0),_vm._l((_vm.apps),function(app,appId){return _c('tr',[_c('td',{staticClass:\"p-8\"},[_vm._v(_vm._s(appId))]),_c('td',{staticClass:\"p-8\"},[(app.key)?_c('span',[_vm._v(\"\\n                            \"+_vm._s(app.key.substring(0, 4) + app.key.substring(4).replace(/./g, '*'))+\"\\n                        \")]):_vm._e()]),_c('td',{staticClass:\"p-8\"},[_vm._v(_vm._s(app.__app_name))]),_c('td',{staticClass:\"p-8\"},[_vm._v(_vm._s(app.__app_owner))]),_c('td',{staticClass:\"p-8\"},[_c('trash-icon',{staticClass:\"w-12 h-12 cursor-pointer\",on:{\"click\":function($event){return _vm.deleteApp(appId)}}})],1)])}),_c('tr',[_c('td',{staticClass:\"p-8 pt-32\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newAppId),expression:\"newAppId\"}],staticClass:\"w-full bg-proton-grey-opacity-20 p-4\",attrs:{\"placeholder\":\"appId\"},domProps:{\"value\":(_vm.newAppId)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addAppId($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.newAppId=$event.target.value}}})]),_c('td',{staticClass:\"p-8 pt-32\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newApiKey),expression:\"newApiKey\"}],staticClass:\"w-full bg-proton-grey-opacity-20 p-4\",attrs:{\"placeholder\":\"apiKey\"},domProps:{\"value\":(_vm.newApiKey)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addAppId($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.newApiKey=$event.target.value}}})]),_c('td',{staticClass:\"p-8 pt-32\"},[_c('button',{on:{\"click\":_vm.addAppId}},[_vm._v(\"Add\")])])])],2)])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"text-left\"},[_c('th',{staticClass:\"p-8 text-xs uppercase tracking-wide font-normal\"},[_vm._v(\"App ID\")]),_c('th',{staticClass:\"p-8 text-xs uppercase tracking-wide font-normal\"},[_vm._v(\"API Key\")]),_c('th',{staticClass:\"p-8 text-xs uppercase tracking-wide font-normal\"},[_vm._v(\"App name\")]),_c('th',{staticClass:\"p-8 text-xs uppercase tracking-wide font-normal\"},[_vm._v(\"App owner\")]),_c('th',{staticClass:\"p-8 text-xs uppercase tracking-wide font-normal\"})])}]\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M18 6L6 18M6 6l12 12\"}})])\n          )\n        }\n      }\n    ","<template>\n    <div v-if=\"$store.state.panels.manageAppsPanel || Object.keys($store.state.apps).length <= 0\" class=\"flex\">\n        <div class=\"rounded bg-white m-16 mr-64 border border-solid border-proton-grey-opacity-60\">\n            <div class=\"text-telluric-blue text-xs uppercase tracking-wide flex items-center border-b border-t-0 border-proton-grey bg-white p-8 bg-proton-grey-opacity-80\">\n                <div>Manage AppIDs</div>\n                <close-icon\n                    class=\"cursor-pointer ml-auto w-12 h-12\"\n                    @click=\"$store.commit('panels/setManageAppsPanel', false)\"\n                />\n            </div>\n            <div>\n                <div class=\"text-nova-grey bg-moon-grey-opacity-50 border border-proton-grey-opacity-20 m-8 p-8\">\n                    To function this app requires Algolia credentials. You must provide the Admin API Key for every feature to work properly.\n                </div>\n                <table>\n                    <tr class=\"text-left\">\n                        <th class=\"p-8 text-xs uppercase tracking-wide font-normal\">App ID</th>\n                        <th class=\"p-8 text-xs uppercase tracking-wide font-normal\">API Key</th>\n                        <th class=\"p-8 text-xs uppercase tracking-wide font-normal\">App name</th>\n                        <th class=\"p-8 text-xs uppercase tracking-wide font-normal\">App owner</th>\n                        <th class=\"p-8 text-xs uppercase tracking-wide font-normal\"></th>\n                    </tr>\n                    <tr v-for=\"(app, appId) in apps\">\n                        <td class=\"p-8\">{{appId}}</td>\n                        <td class=\"p-8\">\n                            <span v-if=\"app.key\">\n                                {{app.key.substring(0, 4) + app.key.substring(4).replace(/./g, '*')}}\n                            </span>\n                        </td>\n                        <td class=\"p-8\">{{app.__app_name}}</td>\n                        <td class=\"p-8\">{{app.__app_owner}}</td>\n                        <td class=\"p-8\">\n                            <trash-icon class=\"w-12 h-12 cursor-pointer\" @click=\"deleteApp(appId)\" />\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class=\"p-8 pt-32\">\n                            <input\n                                class=\"w-full bg-proton-grey-opacity-20 p-4\"\n                                placeholder=\"appId\"\n                                v-model=\"newAppId\"\n                                @keyup.enter=\"addAppId\"\n                            >\n                        </td>\n                        <td class=\"p-8 pt-32\">\n                            <input\n                                class=\"w-full bg-proton-grey-opacity-20 p-4\"\n                                placeholder=\"apiKey\"\n                                v-model=\"newApiKey\"\n                                @keyup.enter=\"addAppId\"\n                            >\n                        </td>\n                        <td class=\"p-8 pt-32\">\n                            <button @click=\"addAppId\">Add</button>\n                        </td>\n                    </tr>\n                </table>\n\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import TrashIcon from '../../icons/trash.svg';\n    import CloseIcon from '../../icons/x.svg';\n\n    export default {\n        name: 'AppManagement',\n        components: {TrashIcon, CloseIcon},\n        data: function () {\n            return {\n                newAppId: \"\",\n                newApiKey: \"\",\n            }\n        },\n        created: function () {\n            if (this.appIds.length > 0 && !this.apps[this.appIds[0]].__app_owner) {\n                this.fetchAppsInfo();\n            }\n            this.$root.$on('onFetchAppsInfo', () => this.fetchAppsInfo());\n        },\n        computed: {\n            apps: function () {\n                return this.$store.state.apps;\n            },\n            appIds: function () {\n                return Object.keys(this.apps);\n            }\n        },\n        methods: {\n            addAppId: function() {\n                if (this.newAppId.length > 0 && this.newApiKey.length > 0) {\n                    this.$store.commit(\"apps/addAppId\", {\n                        appId: this.newAppId,\n                        apiKey: this.newApiKey\n                    });\n                    this.newAppId = \"\";\n                    this.newApiKey = \"\";\n                    this.fetchAppsInfo();\n                }\n            },\n            deleteApp: function (appId) {\n                this.$store.commit('apps/deleteAppId', appId);\n            },\n            fetchAppsInfo: async function () {\n                const apps = Object.keys(this.apps);\n                const backendEnpoint = process.env.VUE_APP_METAPARAMS_BACKEND_ENDPOINT || 'https://tools-backend.algolia.com';\n                const res = await fetch(`${backendEnpoint}/apps/${apps.join(',')}`, {\n                    credentials: 'include',\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                });\n                const json = await res.json();\n\n                json.forEach((appInfo) => {\n                    this.$store.commit(\"apps/addAppId\", { appId: appInfo.application_id, apiKey: this.apps[appInfo.application_id].key });\n                    this.$store.commit(`apps/${appInfo.application_id}/setAppName`, appInfo.name);\n                    this.$store.commit(`apps/${appInfo.application_id}/setAppOwner`, appInfo.user.email);\n                });\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppManagement.vue?vue&type=template&id=03cebbc5&\"\nimport script from \"./AppManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./AppManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"text-solstice-blue-opacity-80\"},[_vm._v(\"Extract\")]),_c('div',{staticClass:\"flex mt-24\"},[_c('div',{staticClass:\"w-232 cursor-pointer mr-24 text-center rounded border border-proton-grey-opacity-60 p-24\",class:_vm.type === 'index' ? 'bg-proton-grey-opacity-40' : 'bg-white',on:{\"click\":function($event){return _vm.setType('index')}}},[_vm._v(\"\\n            Algolia Index (∞ size)\\n        \")]),_c('div',{staticClass:\"w-232 cursor-pointer mr-24 text-center rounded border border-proton-grey-opacity-60 p-24\",class:_vm.type === 'csv' ? 'bg-proton-grey-opacity-40' : 'bg-white',on:{\"click\":function($event){return _vm.setType('csv')}}},[_vm._v(\"\\n            CSV (∞ size)\\n        \")]),_c('div',{staticClass:\"w-232 cursor-pointer mr-24 text-center rounded border border-proton-grey-opacity-60 p-24\",class:_vm.type === 'json' ? 'bg-proton-grey-opacity-40' : 'bg-white',on:{\"click\":function($event){return _vm.setType('json')}}},[_vm._v(\"\\n            JSON (∞ size)\\n        \")]),_c('div',{staticClass:\"w-232 cursor-pointer mr-24 text-center rounded border border-proton-grey-opacity-60 p-24\",class:_vm.type === 'xml' ? 'bg-proton-grey-opacity-40' : 'bg-white',on:{\"click\":function($event){return _vm.setType('xml')}}},[_vm._v(\"\\n            XML (∞ size)\\n        \")])]),(['json', 'csv', 'xml'].includes(_vm.type))?_c('div',[_c('div',{staticClass:\"mt-24\"},[_c('div',[_c('input',{ref:\"file\",staticClass:\"invisible\",attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.setFiles($event.target.files)}}}),_c('div',{staticClass:\"border cursor-pointer rounded p-48 mt-8\",class:_vm.isDragring ? 'border-mars-1' : 'border-proton-grey-opacity-60',on:{\"click\":function($event){_vm.file = null; _vm.$refs.file.click()},\"dragenter\":function($event){_vm.isDragring = true},\"dragleave\":function($event){_vm.isDragring = false},\"drop\":[function($event){_vm.isDragring = false},function($event){$event.preventDefault();return _vm.setFiles($event.dataTransfer.files)}],\"dragover\":function($event){$event.preventDefault();}}},[_c('div',[_vm._v(\"Click to choose file\")]),_c('div',{staticClass:\"my-12\"},[_vm._v(\"OR\")]),_c('div',[_vm._v(_vm._s(_vm.isDragring ? 'Drop file here' : 'Drag file here'))])]),(_vm.file)?_c('div',{staticClass:\"mt-4\"},[_vm._v(\"\\n                    Loaded: \"+_vm._s(_vm.file.name)+\"\\n                \")]):_vm._e(),(_vm.type === 'xml')?_c('div',{staticClass:\"flex mt-24\"},[_vm._v(\"\\n                    Xml node name:\\n                    \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.xmlRootNode),expression:\"xmlRootNode\"}],ref:\"\",staticClass:\"input-custom ml-8 w-124\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.xmlRootNode)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateXmlRootNode()},\"input\":function($event){if($event.target.composing){ return; }_vm.xmlRootNode=$event.target.value}}})]):_vm._e(),(_vm.xmlError)?_c('div',{staticClass:\"flex mt-16\"},[_c('div',{staticClass:\"border border-mars-1-opacity-60 bg-mars-1-opacity-20 p-8 rounded\",domProps:{\"innerHTML\":_vm._s(_vm.xmlError)}})]):_vm._e(),(_vm.isLoadingFile)?_c('div',{staticClass:\"mt-24\"},[_vm._v(\"Loading ...\")]):_vm._e()])])]):_vm._e(),(_vm.type === 'index')?_c('div',[_c('div',{staticClass:\"mt-24 flex\"},[_c('div',{staticClass:\"flex items-center\"},[_c('app-selector',{model:{value:(_vm.indexInfo.appId),callback:function ($$v) {_vm.$set(_vm.indexInfo, \"appId\", $$v)},expression:\"indexInfo.appId\"}}),_c('index-selector',{staticClass:\"ml-24\",attrs:{\"app-id\":_vm.indexInfo.appId},model:{value:(_vm.indexInfo.indexName),callback:function ($$v) {_vm.$set(_vm.indexInfo, \"indexName\", $$v)},expression:\"indexInfo.indexName\"}}),_c('div',{staticClass:\"flex ml-48\"},[_vm._v(\"\\n                    Fetch extra record:\\n                    \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.extraObjectID),expression:\"extraObjectID\"}],staticClass:\"input-custom ml-8 w-124\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.extraObjectID)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.extraObjectID=$event.target.value}}})])],1)])]):_vm._e(),(_vm.dataset && _vm.dataset.length > 0)?_c('div',{staticClass:\"mt-24\"},[_vm._v(\"\\n        \"+_vm._s(_vm.dataset.length)+\" records loaded\\n        \"),(_vm.sample)?_c('span',[_vm._v(\"\\n            (This is a sample, csv will be fully loaded during the apply step)\\n        \")]):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('custom-select',{staticClass:\"min-w-140 border-b border-telluric-blue-opacity-60 text-solstice-blue pb-4\",attrs:{\"value\":_vm.value,\"options\":_vm.appIds,\"refine\":_vm.refine},on:{\"input\":_vm.onInput},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar option = ref.option;\nvar inDropDown = ref.inDropDown;\nvar isSelected = ref.isSelected;\nvar highlightString = ref.highlightString;\nreturn [_c('div',[_c('div',{staticClass:\"flex\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(inDropDown ? highlightString(option) : option)}}),(inDropDown && _vm.apps[option].__app_name)?_c('span',[_vm._v(\"\\n                     - \"),_c('span',{domProps:{\"innerHTML\":_vm._s(highlightString(_vm.apps[option].__app_name))}})]):_vm._e()]),(inDropDown && _vm.apps[option].__app_owner)?_c('div',{class:!isSelected ? 'text-solstice-blue-opacity-60' : '',domProps:{\"innerHTML\":_vm._s(highlightString(_vm.apps[option].__app_owner))}}):_vm._e()])]}}])},[_c('template',{slot:\"icon\"},[_c('box-icon',{staticClass:\"block w-12 h-12 -mt-1 mr-8 fill-current\"})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"relative focus:outline-none\",attrs:{\"tabindex\":\"-1\"},on:{\"keyup\":_vm.onKeyUp,\"keydown\":_vm.onKeyDown,\"blur\":_vm.fakeBlur}},[(!_vm.dropdownOpened || !_vm.refine)?_c('div',{staticClass:\"flex items-center py-4 cursor-pointer text-sm leading-none\",on:{\"click\":_vm.openDropDown}},[_vm._t(\"icon\"),_vm._t(\"default\",null,{\"option\":_vm.value,\"inDropDown\":false}),_c('span',{staticClass:\"ml-auto\"}),_c('chevron-down-icon',{staticClass:\"block ml-24 w-8 h-8 fill-current\"})],2):_vm._e(),(_vm.dropdownOpened && _vm.refine)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],ref:\"input\",staticClass:\"px-8 py-4 text-solstice-blue rounded text-base bg-moon-grey w-full\",domProps:{\"value\":(_vm.query)},on:{\"keyup\":_vm.onKeyUp,\"keydown\":_vm.onKeyDown,\"blur\":_vm.onBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}):_vm._e(),(_vm.dropdownOpened)?_c('div',{staticClass:\"shadow absolute z-10 bg-white dropdown mt-4 max-h-312 min-w-full overflow-y-scroll\"},_vm._l((_vm.options),function(option,index){return _c('div',{staticClass:\"flex p-8 cursor-pointer\",class:(\"\" + (_vm.selectedIndex === index ? 'bg-nebula-blue text-white hover:bg-nebula-blue hover:text-white' : '')),on:{\"mousedown\":function($event){_vm.allowBlur = false},\"mousemove\":function($event){_vm.selectedIndex = index},\"mouseleave\":function($event){_vm.selectedIndex = -1},\"click\":function($event){_vm.selectedIndex = index; _vm.onSelected($event); _vm.allowBlur = true;}}},[_vm._t(\"default\",null,{\"option\":option,\"inDropDown\":true,\"isSelected\":_vm.selectedIndex === index,\"highlightString\":_vm.highlightString})],2)}),0):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 14 8\",\"fill\":\"currentColor\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M7 8a1 1 0 01-.71-.29l-6-6A1 1 0 011.71.29L7 5.59l5.29-5.3a1 1 0 111.42 1.42l-6 6A1 1 0 017 8z\"}})])\n          )\n        }\n      }\n    ","export function formatHumanNumber(\n    bytes,\n    decimals,\n    sizes,\n    divider\n) {\n    if (bytes === 0) return '0';\n    sizes = sizes || ['', 'K', 'M', 'B', 'T'];\n    divider = divider || 1000;\n    decimals = decimals || 0;\n\n    const i = Math.min(\n        Math.max(0, Math.floor(Math.log(Math.abs(bytes)) / Math.log(divider))),\n        sizes.length - 1\n    );\n    const nb = bytes / Math.pow(divider, i);\n\n    return (Math.abs(nb) > 1000 ? numberWithCommas(nb, decimals) : nb.toFixed(decimals)) + sizes[i];\n}\n\nexport function formatHumanDistance(nb) {\n    return formatHumanNumber(nb, 0, ['m', 'km'], 1000);\n}\n\nexport function numberWithCommas(x, precision) {\n    if (typeof x !== 'number') {\n        return x;\n    }\n\n    return (x || 0).toFixed(precision).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\nconst regexp = /^.*\\(([^()]+)\\)+(:.*)?$/g;\nconst regexp2 = /^(.*)(:.*)$/g;\n\nexport function cleanAttributeName(attribute) {\n    return attribute.trim().replace(regexp, '$1').replace(regexp2, '$1');\n}\n\nexport function humanNumber(number, decimals, dec_point, thousands_sep) {\n    var n = !isFinite(+number) ? 0 : +number,\n        prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\n        sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\n        dec = (typeof dec_point === 'undefined') ? '.' : dec_point,\n        toFixedFix = function (n, prec) {\n            // Fix for IE parseFloat(0.55).toFixed(0) = 0;\n            var k = Math.pow(10, prec);\n            return Math.round(n * k) / k;\n        },\n        s = (prec ? toFixedFix(n, prec) : Math.round(n)).toString().split('.');\n    if (s[0].length > 3) {\n        s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\n    }\n    if ((s[1] || '').length < prec) {\n        s[1] = s[1] || '';\n        s[1] += new Array(prec - s[1].length + 1).join('0');\n    }\n    return s.join(dec);\n}\n\nexport function cleanDeepAttributeName(attribute) {\n    return attribute.split('.')[0];\n}\n\nlet div = null;\nfunction escapeHtml(value) {\n    div = (div === null ? document.createElement('div') : div);\n    div.textContent = value;\n    return div.innerHTML;\n}\n\n\nexport function escapeAndHighlightHit(\n    value = '',\n    regexp = /<(\\/)?ais-highlight-(\\d+)>/g,\n    highlightClassName = ''\n) {\n    const str = value.replace(regexp, '{{{$1ais-highlight-$2}}}');\n\n    return escapeHtml(str).replace(\n        /{{{(\\/?)ais-highlight-[^}]*}}}/g,\n        highlightClassName === '' ? '<$1em>' : `<$1em class=\"${highlightClassName}\">`\n    );\n}\n\nexport function syntaxHighlight(json) {\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n        var cls = 'number';\n        if (/^\"/.test(match)) {\n            if (/:$/.test(match)) {\n                cls = 'key';\n            } else {\n                cls = 'string';\n            }\n        } else if (/true|false/.test(match)) {\n            cls = 'boolean';\n        } else if (/null/.test(match)) {\n            cls = 'null';\n        }\n        return '<span class=\"json-token ' + cls + '\">' + escapeAndHighlightHit(match) + '</span>';\n    });\n};\n\nexport function highlightJsonObject(json) {\n    return syntaxHighlight(JSON.stringify(json, null, 2));\n};\n\nexport function properHighlight(s) {\n    return s.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/&lt;b&gt;/g, '<em>').replace(/&lt;\\/b&gt;/g, '</em>');\n};\n\nexport function highlightStringBaseOnQuery(s, q) {\n    if (q.length <= 0) return s;\n\n    const words = q.toLowerCase().split(' ').sort((a, b) => { return b.length - a.length;}).filter((a) => {\n        return a.trim().length > 0;\n    });\n    let highlightedString = '';\n\n    for (let i = 0; i < s.length; i++) {\n        let foundMatch = false;\n        for (let j = 0; j < words.length; j++) {\n            if (s.toLowerCase().startsWith(words[j].toLowerCase(), i)) {\n                highlightedString += `<em>${s.slice(i, i + words[j].length)}</em>`;\n                i += words[j].length - 1;\n                foundMatch = true;\n                break;\n            }\n        }\n        if (!foundMatch) highlightedString += s[i];\n    }\n\n    return highlightedString;\n}\n","<template>\n    <div>\n        <div\n            class=\"relative focus:outline-none\"\n            tabindex=\"-1\"\n            @keyup=\"onKeyUp\"\n            @keydown=\"onKeyDown\"\n            @blur=\"fakeBlur\"\n        >\n            <div\n                v-if=\"!dropdownOpened || !refine\"\n                @click=\"openDropDown\"\n                class=\"flex items-center py-4 cursor-pointer text-sm leading-none\"\n            >\n                <slot name=\"icon\" />\n                <slot v-bind:option=\"value\" v-bind:inDropDown=\"false\" />\n                <span class=\"ml-auto\"></span>\n                <chevron-down-icon\n                    class=\"block ml-24 w-8 h-8 fill-current\"\n                />\n            </div>\n            <input\n                v-if=\"dropdownOpened && refine\"\n                ref=\"input\"\n                class=\"px-8 py-4 text-solstice-blue rounded text-base bg-moon-grey w-full\"\n                v-model=\"query\"\n                @keyup=\"onKeyUp\"\n                @keydown=\"onKeyDown\"\n                @blur=\"onBlur\"\n            />\n            <div\n                v-if=\"dropdownOpened\"\n                class=\"shadow absolute z-10 bg-white dropdown mt-4 max-h-312 min-w-full overflow-y-scroll\"\n            >\n                <div\n                    v-for=\"(option, index) in options\"\n                    :class=\"`${selectedIndex === index ? 'bg-nebula-blue text-white hover:bg-nebula-blue hover:text-white' : ''}`\"\n                    class=\"flex p-8 cursor-pointer\"\n                    @mousedown=\"allowBlur = false\"\n                    @mousemove=\"selectedIndex = index\"\n                    @mouseleave=\"selectedIndex = -1\"\n                    @click=\"selectedIndex = index; onSelected($event); allowBlur = true;\"\n                >\n                    <slot\n                        v-bind:option=\"option\"\n                        v-bind:inDropDown=\"true\"\n                        v-bind:isSelected=\"selectedIndex === index\"\n                        v-bind:highlightString=\"highlightString\"\n                    />\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import ChevronDownIcon from \"common/icons/chevron-down.svg\";\n    import Vue from 'vue';\n    import {highlightStringBaseOnQuery} from \"../../utils/formatters\";\n\n    export default {\n        name: 'CustomSelect',\n        props: ['value', 'options', 'displayEmptyQuery', 'refine', 'stringValueAttribute', 'allowFreeText'],\n        components: {ChevronDownIcon},\n        data: function () {\n            const value = this.stringValueAttribute && this.value ? this.value[this.stringValueAttribute] : this.value;\n            return {\n                allowBlur: true,\n                selectedIndex: -1,\n                dropdownOpened: false,\n                query: value || '',\n            }\n        },\n        watch: {\n            query: function () {\n                if (!this.refine) return;\n\n                this.selectedIndex = -1;\n                const query = this.query === this.stringValue ? '' : this.query;\n                this.refine(query);\n            },\n            value: function () {\n                if (!this.refine) return;\n\n                this.query = this.stringValue;\n            }\n        },\n        computed: {\n            stringValue: function () {\n                return this.stringValueAttribute && this.value ? this.value[this.stringValueAttribute] : (this.value || '');\n            }\n        },\n        methods: {\n            highlightString: function (s) {\n                return highlightStringBaseOnQuery(s, this.query);\n            },\n            fakeBlur: function () {\n                if (!this.refine) this.onBlur();\n            },\n            onBlur: function () {\n                if (this.allowBlur) {\n                    this.dropdownOpened = false;\n                    this.selectedIndex = -1;\n                }\n            },\n            onKeyDown: function (e) {\n                if (e.which === 13 || e.which === 38 || e.which === 40) e.preventDefault();\n            },\n            onKeyUp: function (e) {\n                if (e.which === 13 || e.which === 38 || e.which === 40) {\n                    e.preventDefault();\n                    e.stopImmediatePropagation();\n\n                    if (e.which === 13) this.onSelected(e); // enter or tab\n\n                    let index;\n\n                    if (e.which === 38) { // up\n                        index = this.selectedIndex - 1;\n                        if (index < 0) index = this.options.length - 1;\n                        this.selectedIndex = index;\n                    }\n\n                    if (e.which === 40) { // down\n                        index = this.selectedIndex + 1;\n                        if (index > this.options.length - 1) index = 0;\n                        this.selectedIndex = index;\n                    }\n                    return false;\n                }\n            },\n            onSelected: function (e) {\n                this.allowBlur = false;\n                if (this.selectedIndex !== -1 && this.options.length > 0) {\n                    this.$emit('input', this.options[this.selectedIndex]);\n                } else {\n                    if (this.allowFreeText && this.query.length > 0) {\n                        this.$emit('input', {name: this.query});\n                    } else {\n                        this.$emit('onSelected', this.query, e);\n                    }\n                }\n\n                this.selectedIndex = this.query.length === 0 && !this.displayEmptyQuery ? -1 : 0;\n                this.allowBlur = true;\n                this.dropdownOpened = false;\n            },\n            openDropDown: function () {\n                this.dropdownOpened = true;\n                this.query = this.stringValue;\n\n                if (this.refine) {\n                    Vue.nextTick(() => {\n                        this.$refs.input.focus();\n                        this.$refs.input.setSelectionRange(0, this.$refs.input.value.length);\n                    });\n                }\n            }\n        },\n\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomSelect.vue?vue&type=template&id=9d50fb6c&\"\nimport script from \"./CustomSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 22 23.53\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M20.34 4.31l-8-4a3.07 3.07 0 00-2.68 0l-8 4A3 3 0 000 7v9.51a3 3 0 001.65 2.7l8 4a3 3 0 002.69 0l8-4A3 3 0 0022 16.53V7a3 3 0 00-1.66-2.69zM10.56 2.1A1 1 0 0111 2a1 1 0 01.44.1l7.32 3.66L11 9.64 3.24 5.76zm-8 15.32a1 1 0 01-.55-.9V7.37l8 4v9.78zm16.89 0L12 21.14v-9.77l8-4v9.16a1 1 0 01-.56.89z\"}})])\n          )\n        }\n      }\n    ","export default {\n    methods: {\n        ownedByAlgolia(appId) {\n            const app = this.$store.state.apps[appId];\n            return appId === 'MySuperApp' ||\n                appId.endsWith('.local') ||\n                appId.endsWith('.test') ||\n                (app && app.__app_owner && app.__app_owner.length > 0 && app.__app_owner.endsWith('@algolia.com'));\n        },\n    }\n}\n","<template>\n    <custom-select\n        :value=\"value\"\n        @input=\"onInput\"\n        class=\"min-w-140 border-b border-telluric-blue-opacity-60 text-solstice-blue pb-4\"\n        :options=\"appIds\"\n        :refine=\"refine\"\n    >\n        <template slot=\"icon\"><box-icon class=\"block w-12 h-12 -mt-1 mr-8 fill-current\"/></template>\n        <template v-slot:default=\"{option, inDropDown, isSelected, highlightString}\">\n            <div>\n                <div class=\"flex\">\n                    <div v-html=\"inDropDown ? highlightString(option) : option\"></div>\n                    <span v-if=\"inDropDown && apps[option].__app_name\">\n                        &nbsp;- <span v-html=\"highlightString(apps[option].__app_name)\"></span>\n                        </span>\n                </div>\n                <div\n                    v-if=\"inDropDown && apps[option].__app_owner\"\n                    :class=\"!isSelected ? 'text-solstice-blue-opacity-60' : ''\"\n                    v-html=\"highlightString(apps[option].__app_owner)\"\n                >\n                </div>\n            </div>\n        </template>\n    </custom-select>\n</template>\n\n<script>\n    import CustomSelect from './CustomSelect';\n    import BoxIcon from '../../icons/box.svg';\n    import ownedByAlgoliaMixin from \"../../mixins/ownedByAlgolia\";\n\n    export default {\n        name: 'AppSelector',\n        components: {CustomSelect, BoxIcon},\n        props: ['value', 'onlyAlgolia'],\n        data: function () {\n            return {\n                query: '',\n            };\n        },\n        mixins: [ownedByAlgoliaMixin],\n        computed: {\n            apiKey: function () {\n                return this.$store.state.apps[this.appId] ? this.$store.state.apps[this.appId].key : '';\n            },\n            apps: function () {\n                return this.$store.state.apps;\n            },\n            appIds: function () {\n                const appIds = Object.keys(this.apps).filter((appId) => {\n                    if (this.onlyAlgolia) return this.ownedByAlgolia(appId);\n                    return true;\n                });\n\n                if (this.query.length === 0) return appIds;\n\n                const normalisedQuery = this.query.toLowerCase();\n\n                return appIds.filter((appId) => {\n                    if (this.apps[appId].__app_name && this.apps[appId].__app_name.toLowerCase().includes(normalisedQuery)) return true;\n                    if (this.apps[appId].__app_owner && this.apps[appId].__app_owner.toLowerCase().includes(normalisedQuery)) return true;\n\n                    return appId.toLowerCase().includes(normalisedQuery);\n                });\n            }\n        },\n        created: function () {\n            if (this.value) {\n                this.$store.commit(\"apps/addAppId\", {appId: this.value});\n            } else if (this.appIds.length > 0) {\n                this.$emit('input', this.appIds[0]);\n                this.$store.commit(\"apps/addAppId\", {appId: this.appIds[0]});\n            }\n        },\n        methods: {\n            refine: function (query) {\n                this.query = query;\n            },\n            onInput: function (e) {\n                this.query = '';\n                this.$emit('input', e);\n                this.$store.commit(\"apps/addAppId\", {appId: e});\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppSelector.vue?vue&type=template&id=ad4a5d4e&\"\nimport script from \"./AppSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./AppSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('custom-select',{staticClass:\"min-w-140 border-b border-telluric-blue-opacity-60 text-solstice-blue pb-4\",attrs:{\"string-value-attribute\":\"name\",\"options\":_vm.indicesWithForced,\"refine\":_vm.refine,\"allow-free-text\":_vm.allowFreeText},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar option = ref.option;\nvar inDropDown = ref.inDropDown;\nvar isSelected = ref.isSelected;\nvar highlightString = ref.highlightString;\nreturn [_c('div',{domProps:{\"innerHTML\":_vm._s(inDropDown ? highlightString(option.name) : option.name)}}),(inDropDown)?_c('div',{staticClass:\"ml-auto\"}):_vm._e(),(inDropDown && option.entries !== undefined)?_c('div',{staticClass:\"ml-16\",class:isSelected ? 'text-white': 'text-solstice-blue-opacity-50'},[_vm._v(\"\\n            \"+_vm._s(option.entries)+\" records\\n        \")]):_vm._e()]}}]),model:{value:(_vm.indexInfo),callback:function ($$v) {_vm.indexInfo=$$v},expression:\"indexInfo\"}},[_c('template',{slot:\"icon\"},[_c('list-icon',{staticClass:\"block w-12 h-12 mr-8 -mt-1 fill-current\"})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 14\",\"fill\":\"currentColor\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M19 2H6a1 1 0 010-2h13a1 1 0 010 2zM19 8H6a1 1 0 010-2h13a1 1 0 010 2zM19 14H6a1 1 0 010-2h13a1 1 0 010 2zM1 2H.8a.64.64 0 01-.18-.06.76.76 0 01-.18-.09 1.58 1.58 0 01-.15-.12l-.12-.17a.76.76 0 01-.09-.18A.64.64 0 010 1.2 1.5 1.5 0 010 1 1 1 0 01.08.62 1.15 1.15 0 01.29.29 1 1 0 011.38.08a1 1 0 01.33.21A1.05 1.05 0 012 1a1.5 1.5 0 010 .2.64.64 0 01-.06.18.76.76 0 01-.09.18l-.12.15A1.05 1.05 0 011 2zM1 8H.81a.6.6 0 01-.19-.06.76.76 0 01-.18-.09l-.15-.14A1 1 0 010 7a1 1 0 01.08-.38 1 1 0 01.21-.33l.15-.12a.76.76 0 01.18-.09A.6.6 0 01.81 6a1 1 0 01.9.27 1 1 0 01.21.33A1 1 0 012 7a1.5 1.5 0 010 .2.64.64 0 01-.06.18.76.76 0 01-.09.18l-.12.15A1.05 1.05 0 011 8zM1 14a1 1 0 01-.38-.08 1.15 1.15 0 01-.33-.21 1 1 0 01-.21-1.09 1 1 0 01.21-.33 1 1 0 011.09-.21 1.15 1.15 0 01.33.21 1.15 1.15 0 01.21.33.94.94 0 010 .76 1.15 1.15 0 01-.21.33A1 1 0 011 14z\"}})])\n          )\n        }\n      }\n    ","export default function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n","import sleep from \"./time\";\n\nconst cache = {};\n\nconst lock = {};\n\nexport default async function (appId) {\n    while (lock[appId]) {\n        await sleep(10);\n    }\n\n    if (cache[appId]) return cache[appId];\n\n    lock[appId] = true;\n    const backendEndpoint = process.env.VUE_APP_METAPARAMS_BACKEND_ENDPOINT || 'https://tools-backend.algolia.com';\n\n    const res = await fetch(`${backendEndpoint}/signature/${appId}`, {\n        credentials: 'include',\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n    });\n    const json = await res.json();\n    const signature = json.signature ? json.signature : '';\n\n    cache[appId] = signature;\n    lock[appId] = false;\n    return signature;\n}\n","import {encode} from '@algolia/client-common';\nimport { serializeQueryParameters } from '@algolia/transporter';\n\nconst getNewParams = function (params) {\n    const newQuery = {...params};\n    if (params['optionalWords=query'] && params.query) {\n        newQuery.optionalWords = params.query;\n    }\n    delete(newQuery['optionalWords=query']);\n    delete(newQuery['extraChartsAttributes']);\n\n    return newQuery;\n};\n\nconst buildFacetFilters = function (facetFilters, needle) {\n    return facetFilters.map((facetFilter) => {\n        const refinements = Array.isArray(facetFilter) ? facetFilter : [facetFilter];\n        return refinements.filter((refinement) => {\n            return !refinement.startsWith(needle);\n        })\n    }).filter((facetFilter) => facetFilter.length > 0);\n};\n\nconst safeJSONStringify = function (obj) {\n    /* eslint no-extend-native:0 */\n\n    if (Array.prototype.toJSON === undefined) {\n        return JSON.stringify(obj);\n    }\n\n    var toJSON = Array.prototype.toJSON;\n    delete Array.prototype.toJSON;\n    var out = JSON.stringify(obj);\n    Array.prototype.toJSON = toJSON;\n\n    return out;\n}\n\nconst _getSearchParams = function(args, params) {\n    if (args === undefined || args === null) {\n        return params;\n    }\n    for (var key in args) {\n        if (key !== null && args[key] !== undefined && args.hasOwnProperty(key)) {\n            params += params === '' ? '' : '&';\n            params += key + '=' + encodeURIComponent(Object.prototype.toString.call(args[key]) === '[object Array]' ? safeJSONStringify(args[key]) : args[key]);\n        }\n    }\n    return params;\n};\n\n\nconst getDisjunctiveRequests = function (indexName, disjunctiveFacets, refinedFacets, paramsWithoutDisjunctiveFacets) {\n    const requests = [];\n\n    requests.push({\n        indexName: indexName,\n        params: _getSearchParams({\n            ...paramsWithoutDisjunctiveFacets,\n            facets: disjunctiveFacets,\n        }, ''),\n    });\n\n    refinedFacets.forEach((facetName) => {\n        const facetFilters = buildFacetFilters(paramsWithoutDisjunctiveFacets.facetFilters || [], `${facetName}:`);\n\n        const forcedParams = {\n            facetFilters: facetFilters,\n            facets: [facetName],\n            analytics: false,\n            attributesToRetrieve: [],\n            attributesToHighlight: [],\n            attributesToSnippet: [],\n            hitsPerPage: 1,\n            page: 0,\n            explain: undefined,\n        };\n\n        requests.push({\n            indexName: indexName,\n            params: _getSearchParams(Object.assign({}, paramsWithoutDisjunctiveFacets, forcedParams), ''),\n        });\n    });\n\n    return requests;\n};\n\nconst disjunctiveSearch = async function (params) {\n    const {disjunctiveFacets, ...paramsWithoutDisjunctiveFacets} = params;\n\n    const facetFilters = paramsWithoutDisjunctiveFacets.facetFilters || [];\n    const facetRefinements = {};\n    disjunctiveFacets.forEach((facetName) => {\n        return facetFilters.forEach((facetFilter) => {\n            facetRefinements[facetName] = [];\n            const refinements = Array.isArray(facetFilter) ? facetFilter : [facetFilter];\n            refinements.forEach((refinement) => {\n                if (refinement.startsWith(`${facetName}:`)) {\n                    facetRefinements[facetName].push(refinement.replace(`${facetName}:`, ''));\n                }\n            });\n        });\n    });\n    const refinedFacets = Object.keys(facetRefinements).filter((facetName) => {\n        return facetRefinements[facetName].length > 0;\n    });\n\n    const requests = getDisjunctiveRequests(this.indexName, disjunctiveFacets, refinedFacets, paramsWithoutDisjunctiveFacets);\n    const requestOptions = {};\n    if (this.userId() !== undefined) requestOptions.headers = {'X-Algolia-User-ID': this.userId()};\n\n    const res = await this.transporter.read({\n        method: 'POST',\n        path: '1/indexes/*/queries',\n        data: {\n            requests: requests,\n            strategy: 'none'\n        },\n    }, requestOptions);\n\n    const newRes = res.results[0];\n\n    newRes.disjunctiveFacets = JSON.parse(JSON.stringify(newRes.facets || {}));\n\n    refinedFacets.forEach((facetName, i) => {\n        newRes.disjunctiveFacets[facetName] = res.results[i + 1].facets[facetName];\n        facetRefinements[facetName].forEach((value) => {\n            if (newRes.disjunctiveFacets[facetName] && newRes.disjunctiveFacets[facetName][value] === undefined) {\n                newRes.disjunctiveFacets[facetName][value] = null;\n            }\n        });\n    });\n\n    return newRes;\n};\n\nconst customSearch = function (params) {\n    const newParams = getNewParams(params);\n\n    if (newParams.disjunctiveFacets && newParams.disjunctiveFacets.length > 0) return this.disjunctiveSearch(newParams);\n    delete (newParams.disjunctiveFacets);\n\n    if (this.userId() !== undefined) newParams.headers = {'X-Algolia-User-ID': this.userId()};\n    return this.search(newParams.query || '', newParams);\n};\n\nconst customBrowse = function (params) {\n    const newParams = getNewParams(params);\n    const cursor = newParams.cursor || null;\n    delete (newParams.disjunctiveFacets);\n    delete (newParams.cursor);\n\n    const data = { params: serializeQueryParameters(newParams) };\n    if (cursor) data.cursor = cursor;\n\n    const requestOptions = {};\n    if (this.userId() !== undefined) requestOptions.headers = {'X-Algolia-User-ID': this.userId()};\n\n    return this.transporter.read({\n        method: 'POST',\n        path: encode('/1/indexes/%s/browse', this.indexName),\n        data: data,\n    }, requestOptions);\n};\n\nconst customSearchForFacetValues = function (args) {\n    const {\n        facetName,\n        facetQuery,\n        ...newParams\n    } = getNewParams(args);\n    if (this.userId() !== undefined) newParams.headers = {'X-Algolia-User-ID': this.userId()};\n    return this.searchForFacetValues(facetName, facetQuery, newParams);\n};\n\nexport default {\n    customSearch,\n    customBrowse,\n    disjunctiveSearch,\n    customSearchForFacetValues,\n    buildFacetFilters,\n}\n","import algoliasearch from 'algoliasearch';\nimport {createNullCache} from '@algolia/cache-common';\nimport {createConsoleLogger} from '@algolia/logger-console';\nimport {addMethods} from '@algolia/client-common';\nimport getSignature from \"./signature\";\nimport customIndexMethods from \"./customIndexMethods\";\n\nconst isLocalAppId = function (appId) {\n    return appId === 'MySuperApp' || appId.endsWith('.local') || appId.endsWith('.test');\n};\n\nconst clientCache = {};\nconst indexCache = {};\n\nfunction getHosts(appId, apikey, server) {\n    if (isLocalAppId(appId)) {\n        return [{url: 'localhost-1.algolia.io:8080', accept: 3}];\n    }\n\n    if (server === undefined || server === 'dsn' || server === '-dsn') { // bc\n        return [\n            {url: appId + '-1.algolianet.com', accept: 3},\n            {url: appId + '-2.algolianet.com', accept: 3},\n            {url: appId + '-3.algolianet.com', accept: 3},\n        ];\n    }\n\n    let host = null;\n\n    switch (server) {\n        case '-1':  host = {url: `${appId}-1.algolianet.com`, accept: 3}; break;\n        case '-2':  host = {url: `${appId}-2.algolianet.com`, accept: 3}; break;\n        case '-3':  host = {url: `${appId}-3.algolianet.com`, accept: 3}; break;\n        default:    host = {url: `${server}-1.algolia.net`, accept: 3};\n    }\n\n    return [host, host, host];\n\n}\n\nexport async function getClient(appId, apiKey, server, userId, noSignature) {\n    const cacheKey = `${appId}-${apiKey}-${server}-${userId}-${noSignature}`;\n    if (clientCache[cacheKey]) return clientCache[cacheKey];\n\n    let headers = {};\n\n    if (!isLocalAppId(appId) && apiKey && noSignature !== true) {\n        const signature = await getSignature(appId);\n        headers['X-Algolia-Signature'] = signature;\n    }\n\n    const logger = createConsoleLogger(1);\n    const cache = createNullCache();\n    const baseClient = algoliasearch(appId, apiKey || ' ', {\n        requestsCache: cache,\n        responsesCache: cache,\n        hostsCache: cache, // no retry strategy at all.\n        logger: logger,\n        hosts: getHosts(appId, apiKey, server),\n        headers: headers,\n    });\n\n    const client = addMethods(baseClient, {\n        customInitIndex: function (base) {\n            return function (indexName) {\n                const mcmMethodsNames = ['saveObjects', 'deleteObject', 'getObject', 'getObjects', 'waitTask', 'setSettings'];\n                const index = base.initIndex(indexName);\n\n                mcmMethodsNames.forEach((methodName) => {\n                    const mcmMethod = index[methodName];\n                    index[methodName] = function (param, requestOptions) {\n                        const options = requestOptions || {};\n                        const headers = options.headers || {};\n                        if (this.userId() !== undefined) headers['X-Algolia-User-ID'] = this.userId();\n                        if (methodName !== 'setSettings') options.headers = headers;\n                        const promise = mcmMethod(param, options);\n                        const waitMethod = promise.wait;\n                        promise.wait = () => waitMethod({headers});\n\n                        return promise;\n                    }\n                });\n\n                return {\n                    ...index,\n                    ...customIndexMethods,\n                    userId: function () {\n                        return userId || undefined;\n                    }\n                }\n            };\n        }\n    });\n\n    clientCache[cacheKey] = client;\n    return client;\n}\n\n// todo no need to cache this, only the client matters\nexport async function getSearchIndex(appId, apiKey, indexName, server, userId, noSignature) {\n    const cacheKey = `${appId}-${apiKey}-${indexName}-${server}-${userId}-${noSignature}`;\n    if (indexCache[cacheKey]) return indexCache[cacheKey];\n    const client = await getClient(appId, apiKey, server, userId, noSignature);\n    const index = client.customInitIndex(indexName);\n\n    indexCache[cacheKey] = index;\n\n    return indexCache[cacheKey];\n}\n\nexport function algoliaParams(params) {\n    const algParams = {};\n\n    Object.keys(params).forEach(function (key) {\n        if (params[key].enabled) {\n            algParams[key] = params[key].value;\n        }\n    });\n\n    return JSON.parse(JSON.stringify(algParams));\n}\n","<template>\n    <custom-select\n        v-model=\"indexInfo\"\n        class=\"min-w-140 border-b border-telluric-blue-opacity-60 text-solstice-blue pb-4\"\n        string-value-attribute=\"name\"\n        :options=\"indicesWithForced\"\n        :refine=\"refine\"\n        :allow-free-text=\"allowFreeText\"\n    >\n        <template slot=\"icon\"><list-icon class=\"block w-12 h-12 mr-8 -mt-1 fill-current\"/></template>\n        <template v-slot:default=\"{option, inDropDown, isSelected, highlightString}\">\n            <div v-html=\"inDropDown ? highlightString(option.name) : option.name\"></div>\n            <div v-if=\"inDropDown\" class=\"ml-auto\"></div>\n            <div\n                v-if=\"inDropDown && option.entries !== undefined\"\n                class=\"ml-16\"\n                :class=\"isSelected ? 'text-white': 'text-solstice-blue-opacity-50'\"\n            >\n                {{option.entries}} records\n            </div>\n        </template>\n    </custom-select>\n</template>\n\n<script>\n    import Vue from \"vue\"\n    import BoxIcon from \"../../icons/box.svg\";\n    import ListIcon from \"../../icons/list.svg\";\n    import CustomSelect from \"./CustomSelect\";\n    import AppSelector from \"./AppSelector\";\n    import {getClient} from \"../../utils/algoliaHelpers\";\n\n    export default {\n        name: \"IndexSelector\",\n        components: {AppSelector, CustomSelect, BoxIcon, ListIcon},\n        props: [\"appId\", \"value\", \"forcedIndices\", \"allowFreeText\"],\n        data: function () {\n            return {\n                allIndices: [],\n                indices: [],\n                indexInfo: {\n                    name: this.value,\n                },\n                nbPages: 1,\n                maxNbPagesInMemory: 5,\n            };\n        },\n        created: function () {\n            this.registerIndex();\n            this.updateIndices(false);\n        },\n        computed: {\n            indicesWithForced: function () {\n                const forcedIndices = this.forcedIndices ? this.forcedIndices : [];\n                return [...forcedIndices, ...this.indices];\n            },\n            indexName: {\n                get () {\n                    return this.indexInfo.name;\n                },\n                set(val) {\n                    Vue.set(this.indexInfo, 'name', val);\n                }\n            },\n            adminAPIKey: function () {\n                if (!this.$store.state.apps[this.appId]) return null;\n                return this.$store.state.apps[this.appId].key;\n            },\n        },\n        watch: {\n            value: function () {\n                this.indexInfo.name = this.value;\n            },\n            appId: function () {\n                this.indexName = this.value;\n                this.$emit('input', null);\n                this.updateIndices(true);\n            },\n            indexName: function () {\n                if (this.indexInfo.name !== this.value) {\n                    this.$emit('input', this.indexInfo.name);\n                }\n                this.registerIndex();\n                this.updateIndices(false);\n            },\n            adminAPIKey: function () {\n                this.updateIndices(true);\n            }\n        },\n        methods: {\n            registerIndex: function () {\n                if (!this.appId) return; // onboarding\n\n                if (this.indexInfo.name) {\n                    this.$store.commit(`apps/${this.appId}/addIndex`, this.indexName);\n                    ['searchParams', 'searchParams2'].forEach((k) => {\n                        this.$store.commit(`apps/${this.appId}/${this.indexName}/deleteParam`, {\n                            configKey: k,\n                            inputKey: 'page'\n                        });\n                    });\n                }\n            },\n            refine: async function (query) {\n                if (!this.appId || !this.adminAPIKey) return; // onboarding\n\n                if (query.length <= 0) {\n                    this.indices = this.allIndices;\n                    return;\n                }\n\n                if (this.nbPages > this.maxNbPagesInMemory) {\n                    const client = await getClient(this.appId, this.adminAPIKey);\n                    const data = await client.listIndices({\n                        queryParameters: {\n                            page: 0,\n                            prefix: encodeURIComponent(query),\n                        }\n                    });\n                    this.indices = data.items.sort((a, b) => {\n                        if (a.updatedAt < b.updatedAt) return 1;\n                        if (a.updatedAt > b.updatedAt) return -1;\n                        return 0;\n                    });\n                } else {\n                    const words = query.split(' ');\n\n                    this.indices = this.allIndices.filter(function (indexInfo) {\n                        return words.every(function (word) {\n                            return indexInfo.name.toLowerCase().indexOf(word.toLowerCase()) !== -1;\n                        });\n                    }).sort((a, b) => {\n                        if (a.name === query) return -1;\n                        if (b.name === query) return 1;\n                        return 0;\n                    });\n                }\n            },\n            updateIndices: async function (shouldSetIndex) {\n                if (!this.appId || !this.adminAPIKey) return; // onboarding\n\n                const client = await getClient(this.appId, this.adminAPIKey);\n\n                let data = await client.listIndices({\n                    queryParameters: {\n                        page: 0\n                    }\n                });\n                this.nbPages = data.nbPages;\n\n                if (this.nbPages > 1 && this.nbPages <= this.maxNbPagesInMemory) {\n                    data = await client.listIndices();\n                }\n\n                this.allIndices = data.items.sort((a, b) => {\n                    if (a.updatedAt < b.updatedAt) return 1;\n                    if (a.updatedAt > b.updatedAt) return -1;\n                    return 0;\n                });\n                this.indices = this.allIndices;\n\n                if (this.indices.length <= 0) return;\n\n                if ((shouldSetIndex && this.indexInfo.name !== this.value) || this.value === null) {\n                    this.indexInfo.name = this.value ? this.value : (this.$store.state.apps[this.appId].lastIndexName || this.indices[0].name);\n                    this.$emit('input', this.indexInfo.name);\n                }\n            },\n        }\n    };\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndexSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndexSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IndexSelector.vue?vue&type=template&id=a548fdb0&\"\nimport script from \"./IndexSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./IndexSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function (file, finishCallBack) {\n    const chunkSize = 1024 * 1024;\n    let start = 0;\n    let finished = false;\n    let paused = false;\n    let callback = () => {};\n\n    this.pause = () => {\n        paused = true;\n    };\n\n    this.resume = () => {\n        paused = false;\n        this.nextChunk();\n    };\n\n    this.chunkLoaded = (event) => {\n        start += chunkSize;\n        finished = !chunkSize || start >= file.size;\n\n        callback(event.target.result);\n        this.nextChunk();\n    };\n\n    this.readChunk = () => {\n        if (paused) return;\n\n        let input = file;\n        if (chunkSize)\n        {\n            const end = Math.min(start + chunkSize, file.size);\n            input = input.slice(start, end);\n        }\n        reader.readAsText(input, 'UTF-8');\n    };\n\n    this.nextChunk = function () {\n        if (!finished) {\n            this.readChunk();\n        } else {\n            finishCallBack();\n        }\n    };\n\n    this.start = function (c) {\n        callback = c;\n        this.nextChunk();\n    };\n\n    const reader = new FileReader();\n    reader.onload = this.chunkLoaded;\n    reader.onerror = () => {\n        console.log('error');\n    };\n}\n","import sax from \"sax\";\n\nexport default function (userRootItem, onHit) {\n    const parser = sax.parser(false);\n    const rootItem = userRootItem.toLowerCase() || 'item';\n    const stack = [];\n\n    const getFinalNodeName = function (name) {\n        const n = name.toLowerCase();\n        if (n.startsWith('g:') || n.startsWith('c:')) return n.slice(2);\n        return n;\n    };\n\n    parser.ontext = (t) => {\n        if (stack.length > 0) {\n            const currentObject = stack[stack.length - 1];\n            if (currentObject.value === undefined) {\n                currentObject.value = '';\n            }\n            currentObject.value += t.trim();\n        }\n    };\n\n    parser.oncdata = (t) => {\n        if (stack.length > 0) {\n            const currentObject = stack[stack.length - 1];\n            if (currentObject.value === undefined) {\n                currentObject.value = '';\n            }\n            currentObject.value += t;\n        }\n    };\n\n    parser.onopentag = (node) => {\n        const nodeName = node.name.toLowerCase();\n        if (nodeName === rootItem) {\n            if (Object.keys(node.attributes).length > 0) {\n                stack.push({attrs: Object.keys(node.attributes).reduce((acc, key) => ({\n                    ...acc,\n                    [getFinalNodeName(key)]: node.attributes[key],\n                }), {})});\n            } else {\n                stack.push({});\n            }\n        } else if (stack.length > 0) {\n            const finalNodeName = getFinalNodeName(nodeName);\n            let currentObject = stack[stack.length - 1];\n\n            if (currentObject[finalNodeName] === undefined) {\n                currentObject[finalNodeName] = {};\n                currentObject = currentObject[finalNodeName];\n            } else {\n                if (!Array.isArray(currentObject[finalNodeName])) {\n                    currentObject[finalNodeName] = [currentObject[finalNodeName]];\n                }\n                currentObject[finalNodeName].push({});\n                currentObject = currentObject[finalNodeName][currentObject[finalNodeName].length - 1];\n            }\n\n            if (Object.keys(node.attributes).length > 0) {\n                currentObject.attrs = Object.keys(node.attributes).reduce((acc, key) => ({\n                    ...acc,\n                    [getFinalNodeName(key)]: node.attributes[key],\n                }), {});\n            }\n\n            stack.push(currentObject);\n        }\n    };\n\n    parser.onclosetag = (n) => {\n        if (stack.length > 0) {\n            const object = stack.pop();\n            if (stack.length === 0) {\n                onHit(object);\n            }\n        }\n    };\n\n    return parser;\n}\n","<template>\n    <div>\n        <h2 class=\"text-solstice-blue-opacity-80\">Extract</h2>\n        <div class=\"flex mt-24\">\n            <div\n                @click=\"setType('index')\"\n                class=\"w-232 cursor-pointer mr-24 text-center rounded border border-proton-grey-opacity-60 p-24\"\n                :class=\"type === 'index' ? 'bg-proton-grey-opacity-40' : 'bg-white'\"\n            >\n                Algolia Index (∞ size)\n            </div>\n            <div\n                @click=\"setType('csv')\"\n                class=\"w-232 cursor-pointer mr-24 text-center rounded border border-proton-grey-opacity-60 p-24\"\n                :class=\"type === 'csv' ? 'bg-proton-grey-opacity-40' : 'bg-white'\"\n            >\n                CSV (∞ size)\n            </div>\n            <div\n                @click=\"setType('json')\"\n                class=\"w-232 cursor-pointer mr-24 text-center rounded border border-proton-grey-opacity-60 p-24\"\n                :class=\"type === 'json' ? 'bg-proton-grey-opacity-40' : 'bg-white'\"\n            >\n                JSON (∞ size)\n            </div>\n            <div\n                @click=\"setType('xml')\"\n                class=\"w-232 cursor-pointer mr-24 text-center rounded border border-proton-grey-opacity-60 p-24\"\n                :class=\"type === 'xml' ? 'bg-proton-grey-opacity-40' : 'bg-white'\"\n            >\n                XML (∞ size)\n            </div>\n        </div>\n        <div v-if=\"['json', 'csv', 'xml'].includes(type)\">\n            <div class=\"mt-24\">\n                <div>\n                    <input ref=\"file\" class=\"invisible\" type=\"file\" @change=\"setFiles($event.target.files)\">\n                    <div\n                        class=\"border cursor-pointer rounded p-48 mt-8\"\n                        :class=\"isDragring ? 'border-mars-1' : 'border-proton-grey-opacity-60'\"\n                        v-cloak\n                        @click=\"file = null; $refs.file.click()\"\n                        @dragenter=\"isDragring = true\"\n                        @dragleave=\"isDragring = false\"\n                        @drop=\"isDragring = false\"\n                        @drop.prevent=\"setFiles($event.dataTransfer.files)\"\n                        @dragover.prevent\n                    >\n                        <div>Click to choose file</div>\n                        <div class=\"my-12\">OR</div>\n                        <div>{{ isDragring ? 'Drop file here' : 'Drag file here' }}</div>\n                    </div>\n                    <div v-if=\"file\" class=\"mt-4\">\n                        Loaded: {{file.name}}\n                    </div>\n                    <div v-if=\"type === 'xml'\" class=\"flex mt-24\">\n                        Xml node name:\n                        <input\n                            ref=\"\"\n                            type=\"text\"\n                            v-model=\"xmlRootNode\"\n                            class=\"input-custom ml-8 w-124\"\n                            @keyup.enter=\"updateXmlRootNode()\"\n                        />\n                    </div>\n                    <div v-if=\"xmlError\" class=\"flex mt-16\">\n                        <div\n                            class=\"border border-mars-1-opacity-60 bg-mars-1-opacity-20 p-8 rounded\"\n                            v-html=\"xmlError\"\n                        >\n                        </div>\n                    </div>\n                    <div class=\"mt-24\" v-if=\"isLoadingFile\">Loading ...</div>\n                </div>\n            </div>\n        </div>\n        <div v-if=\"type === 'index'\">\n            <div class=\"mt-24 flex\">\n                <div class=\"flex items-center\">\n                    <app-selector v-model=\"indexInfo.appId\" />\n                    <index-selector\n                        v-model=\"indexInfo.indexName\"\n                        :app-id=\"indexInfo.appId\"\n                        class=\"ml-24\"\n                    />\n                    <div class=\"flex ml-48\">\n                        Fetch extra record:\n                        <input\n                            type=\"text\"\n                            v-model=\"extraObjectID\"\n                            class=\"input-custom ml-8 w-124\"\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div v-if=\"dataset && dataset.length > 0\" class=\"mt-24\">\n            {{dataset.length}} records loaded\n            <span v-if=\"sample\">\n                (This is a sample, csv will be fully loaded during the apply step)\n            </span>\n        </div>\n    </div>\n</template>\n\n<script>\n    import AppSelector from 'common/components/selectors/AppSelector';\n    import IndexSelector from 'common/components/selectors/IndexSelector';\n    import {getSearchIndex} from \"common/utils/algoliaHelpers\";\n    import Papa from 'papaparse';\n    import FileStreamer from \"./FileStreamer\";\n    import oboe from 'oboe';\n    import XmlStreamer from \"./XmlStreamer\";\n\n    export default {\n        name: 'DatasetSelector',\n        components: {AppSelector, IndexSelector},\n        data: function () {\n            return {\n                type: null,\n                url: '',\n                file: null,\n                rawDataSetString: '',\n                dataset: null,\n                csvFile: null,\n                jsonFile: null,\n                xmlFile: null,\n                extraObjectID: '',\n                isLoadingFile: false,\n                isDragring: false,\n                sample: false,\n                xmlError: '',\n                xmlRootNode: 'item',\n                indexInfo: {\n                    appId: null,\n                    indexName: null,\n                },\n                nbHits: null,\n            }\n        },\n        watch: {\n            dataset: function () {\n                this.$emit('onUpdateDataset', this.dataset);\n            },\n            csvFile: function () {\n                this.$emit('onUpdateCsvFile', this.csvFile);\n            },\n            jsonFile: function () {\n                this.$emit('onUpdateJsonFile', this.jsonFile);\n            },\n            xmlFile: function () {\n                this.$emit('onUpdateXmlFile', this.xmlFile);\n            },\n            indexInfo: {\n                deep: true,\n                handler: function () {\n                    this.loadIndex();\n                }\n            },\n            extraObjectID: function () {\n                this.loadIndex(true);\n            },\n        },\n        computed: {\n            apiKey: function () {\n                return this.indexInfo.appId && this.$store.state.apps[this.indexInfo.appId] ? this.$store.state.apps[this.indexInfo.appId].key : '';\n            },\n        },\n        methods: {\n            updateXmlRootNode: function () {\n                this.$emit('onUpdateXmlRootNode', this.xmlRootNode);\n                this.reset();\n                this.loadFile();\n            },\n            setType: function (type) {\n                this.reset();\n                this.type = type;\n                if (type === 'index') {\n                    this.loadIndex();\n                }\n            },\n            reset: function () {\n                this.nbHits = null;\n                this.dataset = null;\n                this.csvFile = null;\n                this.jsonFile = null;\n                this.isLoadingFile = false;\n                this.sample = false;\n                this.xmlError = '';\n                this.$emit('onUpdateIndexInfo', null);\n            },\n            setFiles: function (droppedFiles) {\n                if(!droppedFiles) return;\n                const files = [...droppedFiles];\n                this.file = files[0];\n                this.reset();\n                this.loadFile();\n            },\n            loadFile: function () {\n                if(!this.file) return;\n\n                if (this.type === 'json') {\n                    this.isLoadingFile = true;\n\n                    let count = 0;\n                    let hits = [];\n\n                    const stream = new FileStreamer(this.file, () => {\n                        this.jsonFile = this.file;\n                        this.dataset = Object.freeze(hits);\n                        this.isLoadingFile = false;\n                    });\n\n                    const oboeStream = oboe();\n                    oboeStream.node('!.[*]', (node) => {\n                        if (!this.isLoadingFile) return;\n\n                        hits.push(node);\n                        count++;\n\n                        if (count >= 100) {\n                            this.jsonFile = this.file;\n                            this.dataset = Object.freeze(hits);\n                            this.isLoadingFile = false;\n                            this.sample = true;\n                            stream.pause();\n                        }\n                    });\n\n                    stream.start(function (data) {\n                        oboeStream.emit('data', data);\n                    });\n                } else if (this.type === 'csv') {\n                    this.isLoadingFile = true;\n\n                    const hits = [];\n                    let count = 0;\n                    Papa.parse(this.file, {\n                        header: true,\n                        delimitersToGuess: [',', ';', '\\t', '#'],\n                        preview: 100,\n                        step: async (lineObject, parser) => {\n                            hits.push(lineObject.data);\n                            count++;\n                            if (count >= 100) {\n                                this.csvFile = this.file;\n                                this.dataset = Object.freeze(hits);\n                                this.isLoadingFile = false;\n                                this.sample = true;\n                            }\n                        },\n                        error: function () { count++; },\n                        complete: (results) => {\n                            this.csvFile = this.file;\n                            this.dataset = Object.freeze(hits);\n                            this.isLoadingFile = false;\n                        }\n                    });\n                } else if (this.type === 'xml') {\n                    this.isLoadingFile = true;\n\n                    let count = 0;\n                    let hits = [];\n\n                    const parser = new XmlStreamer(this.xmlRootNode, (node) => {\n                        if (!this.isLoadingFile) return;\n\n                        hits.push(node);\n                        count++;\n\n                        if (count >= 100) {\n                            this.xmlFile = this.file;\n                            this.dataset = Object.freeze(hits);\n                            this.isLoadingFile = false;\n                            this.sample = true;\n                            stream.pause();\n                        }\n                    });\n\n                    const stream = new FileStreamer(this.file, () => {\n                        if (hits.length <= 0) {\n                            this.xmlError = `No node &lt;${this.xmlRootNode}&gt; found in the first 10MB of the file.<br>Change it and press enter`;\n                        } else {\n                            this.xmlFile = this.file;\n                            this.dataset = Object.freeze(hits);\n                        }\n                        this.isLoadingFile = false;\n                        parser.close();\n                    });\n\n                    let i = 0;\n                    stream.start((data) => {\n                        if (i >= 10) {\n                            this.xmlError = `No node &lt;${this.xmlRootNode}&gt; found in the first 10MB of the file.<br>Change it and press enter`;\n                            this.isLoadingFile = false;\n                            stream.pause();\n                            parser.close();\n                            return;\n                        }\n                        i++;\n                        parser.write(data);\n                    });\n                }\n            },\n            loadIndex: async function (noReset) {\n                if (!noReset) {\n                    this.reset();\n                }\n\n                if (!this.indexInfo.appId || !this.indexInfo.indexName || !this.apiKey) return;\n\n                const index = await getSearchIndex(this.indexInfo.appId, this.apiKey, this.indexInfo.indexName);\n                const res = await index.search('', {attributesToRetrieve: ['*'], attributesToHighlight: [], attributesToSnippet: []});\n\n                if (this.extraObjectID.length > 0) {\n                    const extraObject = await index.getObject(this.extraObjectID, {attributesToRetrieve: ['*']});\n                    res.hits.unshift(extraObject);\n                }\n\n                const dataset = res.hits;\n                this.dataset = Object.freeze(dataset);\n                this.nbHits = res.nbHits;\n                this.sample = res.nbHits > this.dataset.length;\n                this.$emit('onUpdateIndexInfo', this.indexInfo);\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DatasetSelector.vue?vue&type=template&id=6c73d846&\"\nimport script from \"./DatasetSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./DatasetSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"mt-24 text-solstice-blue-opacity-80\"},[_vm._v(\"Transform\")]),_c('div',{staticClass:\"mt-24\"},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"w-third pr-24\"},[_c('div',{staticClass:\"bg-white rounded border border-proton-grey-opacity-60\"},[_c('div',{staticClass:\"text-center p-8 border-b border-proton-grey-opacity-60 bg-proton-grey-opacity-40 text-telluric-blue text-xs uppercase tracking-wide\"},[_vm._v(\"\\n                        Old Record\\n                    \")]),_c('div',{staticClass:\"p-24\"},[(_vm.srcObjectExample)?_c('attributes',{staticClass:\"w-full\",attrs:{\"top-attributes\":['objectID'],\"no-collapse\":true,\"item\":_vm.hitsTransformer.transformObj(_vm.srcObjectExample)._v_}}):_vm._e()],1),_c('div',{staticClass:\"flex\"},[_c('pagination',{staticClass:\"mx-auto\",attrs:{\"page\":_vm.page,\"nb-pages\":_vm.nbPages},on:{\"onUpdatePage\":function($event){_vm.page = $event}}})],1)])]),_c('div',{staticClass:\"w-third pr-24\"},[_c('div',[_c('div',{staticClass:\"text-center p-8 rounded border border-proton-grey-opacity-60 bg-proton-grey-opacity-40 text-telluric-blue text-xs uppercase tracking-wide\"},[_vm._v(\"\\n                        Transformer\\n                    \")]),_c('div',{staticClass:\"mt-24\"},[_c('monaco-editor',{staticClass:\"w-full h-512 rounded overflow-hidden\",attrs:{\"language\":\"javascript\"},on:{\"onShouldSave\":function($event){return _vm.saveTransformer(_vm.saveAs)}},model:{value:(_vm.transformer),callback:function ($$v) {_vm.transformer=$$v},expression:\"transformer\"}})],1),_c('div',{staticClass:\"flex items-center mt-8\"},[_c('div',{staticClass:\"text-center\",class:{invisible: !_vm.hasBeenSaved}},[_vm._v(\"\\n                            Saved \"+_vm._s(_vm.savedConfig === 'new' ? 'draft' : _vm.savedConfig)+\"!\\n                        \")]),_c('div',{staticClass:\"ml-auto\"},[_c('a',{staticClass:\"text-nebula-blue cursor-pointer hover:underline\",on:{\"click\":function($event){_vm.transformer = _vm.generatedConfig()}}},[_vm._v(\"auto-generate\")])]),_c('div',{staticClass:\"ml-16\"},[_c('a',{staticClass:\"text-nebula-blue cursor-pointer hover:underline\",on:{\"click\":function($event){return _vm.reset()}}},[_vm._v(\"reset\")])])])]),_c('div',{staticClass:\"mt-12 text-solstice-blue-opacity-60\"},[_c('div',{staticClass:\"flex\"},[_vm._m(0),_c('div',{staticClass:\"w-half\"},[_c('h3',{staticClass:\"mb-12\"},[_vm._v(\"Current Draft\")]),_c('div',[_c('div',{staticClass:\"flex ml-auto\"},[_c('div',[_vm._v(\"Save as:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.saveAs),expression:\"saveAs\"}],staticClass:\"ml-8 input-custom w-124\",domProps:{\"value\":(_vm.saveAs)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.saveTransformer(_vm.saveAs, true)},\"input\":function($event){if($event.target.composing){ return; }_vm.saveAs=$event.target.value}}})])]),_c('h3',{staticClass:\"mt-12 mb-12\"},[_vm._v(\"Backups\")]),_c('div',[_vm._l((_vm.notNewTransformers),function(t){return _c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"w-full group\"},[_vm._v(\"\\n                                        -\\n                                        \"),_c('a',{staticClass:\"text-nebula-blue cursor-pointer hover:underline\",on:{\"click\":function($event){_vm.transformer = t.body; _vm.saveTransformer()}}},[_vm._v(_vm._s(t.name))]),_c('trash-icon',{staticClass:\"ml-12 w-12 h-12 cursor-pointer hover:text-telluric-blue invisible group-hover:visible\",on:{\"click\":function($event){return _vm.deleteTransformer(t.name)}}})],1)])}),(_vm.notNewTransformers.length === 0)?_c('div',[_vm._v(\"\\n                                    No backups\\n                                \")]):_vm._e()],2)])])])]),_c('div',{staticClass:\"w-third pr-24\"},[_c('div',{staticClass:\"bg-white rounded border border-proton-grey-opacity-60\"},[_c('div',{staticClass:\"text-center p-8 border-b border-proton-grey-opacity-60 bg-proton-grey-opacity-40 text-telluric-blue text-xs uppercase tracking-wide\"},[_vm._v(\"\\n                        New record\\n                    \")]),_c('div',{staticClass:\"p-24\"},[(!_vm.error && _vm.dstObjectExample)?_c('attributes',{staticClass:\"w-full\",attrs:{\"top-attributes\":['objectID'],\"no-collapse\":true,\"item\":_vm.hitsTransformer.transformObj(_vm.dstObjectExample)._v_}}):_c('div',[_vm._v(\"\\n                            \"+_vm._s(_vm.error)+\"\\n                        \")])],1)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-half\"},[_c('h3',{staticClass:\"mb-12\"},[_vm._v(\"Help\")]),_vm._v(\"\\n                            Return Object to modify the object\\n                            \"),_c('br'),_vm._v(\"\\n                            Return Array to split records\\n                            \"),_c('br'),_vm._v(\"\\n                            Return null to not index the record\\n                            \"),_c('br'),_c('br'),_vm._v(\"\\n                            async/await is allowed\\n                            \"),_c('br'),_vm._v(\"\\n                            this.algoliasearch gives you access to algolia lib\\n                        \")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div></div>\n</template>\n\n<script>\n    const monaco = require('monaco-editor');\n\n    export default {\n        name: 'MonacoEditor',\n        props: ['value', 'language'],\n        watch: {\n            value(newValue) {\n                if (this.editor) {\n                    const editor = this.editor;\n                    if (newValue !== editor.getValue()) {\n                        editor.setValue(newValue)\n                    }\n                }\n            },\n            theme(newVal) {\n                if (this.editor) {\n                    this.monaco.editor.setTheme(newVal)\n                }\n            }\n        },\n        mounted: function () {\n            const options = {\n                minimap: {\n                    enabled: false\n                },\n                value: this.value,\n                theme: 'vs-dark',\n                language: this.language,\n            };\n\n            this.editor = monaco.editor.create(this.$el, options);\n\n\n            this.editor.onDidChangeModelContent(event => {\n                const value = this.editor.getValue();\n                if (this.value !== value) {\n                    this.$emit('input', value, event)\n                }\n            });\n\n            const KM = monaco.KeyMod;\n            const KC = monaco.KeyCode;\n            this.editor.addCommand(KM.chord(KM.CtrlCmd | KC.KEY_S), () => {\n                this.$emit('onShouldSave');\n            });\n        },\n        beforeDestroy() {\n            this.editor && this.editor.dispose()\n        },\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MonacoEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MonacoEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MonacoEditor.vue?vue&type=template&id=2be135da&\"\nimport script from \"./MonacoEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./MonacoEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.currentKeys),function(key){return _c('div',{key:key,staticClass:\"flex\"},[_c('div',{staticClass:\"w-128 min-w-128 mr-16 text-right json-token key truncate\",attrs:{\"title\":key}},[_vm._v(\"\\n            \"+_vm._s(key)+\":\\n        \")]),_c('attribute',{staticStyle:{\"width\":\"calc(100% - 128px)\"},attrs:{\"item\":_vm.item[key]}})],1)}),(_vm.needsCollapse && _vm.nbExtraAttributes > 0)?_c('div',{staticClass:\"w-128 min-w-128 mr-16 text-right text-nebula-blue cursor-pointer\",on:{\"click\":function($event){_vm.isCollapsed = !_vm.isCollapsed}}},[(_vm.isCollapsed)?_c('span',[_vm._v(\"Show \"+_vm._s(_vm.nbExtraAttributes)+\" more\")]):_vm._e(),(!_vm.isCollapsed)?_c('span',[_vm._v(\"Show \"+_vm._s(_vm.nbExtraAttributes)+\" less\")]):_vm._e()]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isArray || _vm.isObject)?_c('div',[(_vm.isArray)?_c('div',[_c('div',{staticClass:\"flex relative\"},[(_vm.canExand)?_c('div',{staticClass:\"absolute left-0 -ml-12 cursor-pointer\",on:{\"click\":function($event){_vm.collapsed = !_vm.collapsed}}},[_vm._v(_vm._s(_vm.collapsed ? '+' : '-'))]):_vm._e(),(_vm.parentKey)?_c('div',{staticClass:\"mr-4\"},[_vm._v(_vm._s(_vm.parentKey)+\":\")]):_vm._e(),(!_vm.isCollapsed)?_c('div',[_vm._v(\"[\")]):_vm._e(),(_vm.isCollapsed)?_c('div',{staticClass:\"whitespace-pre truncate\",domProps:{\"innerHTML\":_vm._s(_vm.highlightedValue)}}):_vm._e()]),(!_vm.isCollapsed)?_c('div',{staticClass:\"ml-36\"},_vm._l((_vm.item._v_),function(elt,index){return _c('div',{staticClass:\"relative\"},[_c('div',{staticClass:\"absolute left-0 -ml-32 text-proton-grey\"},[_vm._v(\"[\"+_vm._s(index)+\"]\")]),_c('attribute',{attrs:{\"item\":elt}})],1)}),0):_vm._e(),(!_vm.isCollapsed)?_c('div',[_vm._v(\"]\")]):_vm._e()]):_vm._e(),(_vm.isObject)?_c('div',[_c('div',{staticClass:\"flex relative\"},[(_vm.canExand)?_c('div',{staticClass:\"absolute left-0 -ml-12 cursor-pointer\",on:{\"click\":function($event){_vm.collapsed = !_vm.collapsed}}},[_vm._v(_vm._s(_vm.collapsed ? '+' : '-'))]):_vm._e(),(_vm.parentKey)?_c('div',{staticClass:\"mr-4\"},[_vm._v(_vm._s(_vm.parentKey)+\":\")]):_vm._e(),(!_vm.isCollapsed)?_c('div',[_vm._v(\"{\")]):_vm._e(),(_vm.isCollapsed)?_c('div',{staticClass:\"whitespace-pre truncate\",domProps:{\"innerHTML\":_vm._s(_vm.highlightedValue)}}):_vm._e()]),(!_vm.isCollapsed)?_c('div',{staticClass:\"ml-36\"},_vm._l((_vm.item._v_),function(value,key){return _c('attribute',{attrs:{\"item\":value,\"parent-key\":key}})}),1):_vm._e(),(!_vm.isCollapsed)?_c('div',[_vm._v(\"}\")]):_vm._e()]):_vm._e()]):_vm._e(),(_vm.isBoolean || _vm.isNumber || _vm.isNull)?_c('div',[_c('div',{staticClass:\"flex\"},[(_vm.parentKey)?_c('div',[_vm._v(_vm._s(_vm.parentKey)+\": \")]):_vm._e(),(_vm.isBoolean)?_c('div',{staticClass:\"json-token boolean\"},[_vm._v(_vm._s(_vm.stringValue))]):_vm._e(),(_vm.isNumber)?_c('div',{staticClass:\"json-token number\"},[_vm._v(_vm._s(_vm.stringValue))]):_vm._e(),(_vm.isNull)?_c('div',{staticClass:\"json-token null\"},[_vm._v(\"null\")]):_vm._e()])]):_vm._e(),(_vm.isString)?_c('div',[_c('div',{staticClass:\"flex relative\"},[(_vm.isLong)?_c('div',{staticClass:\"absolute left-0 -ml-12 cursor-pointer\",on:{\"click\":function($event){_vm.collapsed = !_vm.collapsed}}},[_vm._v(_vm._s(_vm.collapsed ? '+' : '-'))]):_vm._e(),(_vm.parentKey)?_c('div',{staticClass:\"mr-4\"},[_vm._v(_vm._s(_vm.parentKey)+\":\")]):_vm._e(),(_vm.collapsed)?_c('div',{staticClass:\"whitespace-pre truncate\",domProps:{\"innerHTML\":_vm._s(_vm.highlightedValue)}}):_vm._e(),(!_vm.collapsed)?_c('div',{staticClass:\"json-token string break-words w-full\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.escapeAndHighlightHit(_vm.rawStringValue))}})]):_vm._e()])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function isString(v) {\n    return typeof v === 'string' || v instanceof String;\n}\n\nexport function isObject(v) {\n    return v && typeof v === 'object' && v.constructor === Object;\n}\n\nexport function isBoolean(v) {\n    return typeof v === \"boolean\";\n}\n\nexport function isNumber(v) {\n    return typeof v === \"number\";\n}\n\nexport function isNumeric(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n}\n","<template>\n    <div>\n        <div v-if=\"isArray || isObject\">\n            <div v-if=\"isArray\">\n                <div class=\"flex relative\">\n                    <div v-if=\"canExand\" class=\"absolute left-0 -ml-12 cursor-pointer\" @click=\"collapsed = !collapsed\">{{collapsed ? '+' : '-'}}</div>\n                    <div v-if=\"parentKey\" class=\"mr-4\">{{parentKey}}:</div>\n                    <div v-if=\"!isCollapsed\">[</div>\n                    <div v-if=\"isCollapsed\" v-html=\"highlightedValue\" class=\"whitespace-pre truncate\"></div>\n                </div>\n                <div v-if=\"!isCollapsed\" class=\"ml-36\">\n                    <div v-for=\"(elt, index) in item._v_\" class=\"relative\">\n                        <div class=\"absolute left-0 -ml-32 text-proton-grey\">[{{index}}]</div>\n                        <attribute  :item=\"elt\" />\n                    </div>\n                </div>\n                <div v-if=\"!isCollapsed\">]</div>\n            </div>\n            <div v-if=\"isObject\">\n                <div class=\"flex relative\">\n                    <div v-if=\"canExand\" class=\"absolute left-0 -ml-12 cursor-pointer\" @click=\"collapsed = !collapsed\">{{collapsed ? '+' : '-'}}</div>\n                    <div v-if=\"parentKey\" class=\"mr-4\">{{parentKey}}:</div>\n                    <div v-if=\"!isCollapsed\">{</div>\n                    <div v-if=\"isCollapsed\" v-html=\"highlightedValue\" class=\"whitespace-pre truncate\"></div>\n                </div>\n                <div v-if=\"!isCollapsed\" class=\"ml-36\">\n                    <attribute v-for=\"(value, key) in item._v_\" :item=\"value\" :parent-key=\"key\" />\n                </div>\n                <div v-if=\"!isCollapsed\">}</div>\n            </div>\n        </div>\n        <div v-if=\"isBoolean || isNumber || isNull\">\n            <div class=\"flex\">\n                <div v-if=\"parentKey\">{{parentKey}}:&nbsp;</div>\n                <div v-if=\"isBoolean\" class=\"json-token boolean\">{{stringValue}}</div>\n                <div v-if=\"isNumber\" class=\"json-token number\">{{stringValue}}</div>\n                <div v-if=\"isNull\" class=\"json-token null\">null</div>\n            </div>\n        </div>\n        <div v-if=\"isString\">\n            <div class=\"flex relative\">\n                <div v-if=\"isLong\" class=\"absolute left-0 -ml-12 cursor-pointer\" @click=\"collapsed = !collapsed\">{{collapsed ? '+' : '-'}}</div>\n                <div v-if=\"parentKey\" class=\"mr-4\">{{parentKey}}:</div>\n\n                <div v-if=\"collapsed\" v-html=\"highlightedValue\" class=\"whitespace-pre truncate\"></div>\n                <div v-if=\"!collapsed\" class=\"json-token string break-words w-full\"><span v-html=\"escapeAndHighlightHit(rawStringValue)\"></span></div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {syntaxHighlight} from 'common/utils/formatters';\n    import {isString as isStringFunc} from \"../../../utils/types\";\n    import {escapeAndHighlightHit} from \"../../../utils/formatters\";\n\n    export default {\n        name: 'Attribute',\n        props: ['item', 'parentKey'],\n        data: function () {\n            return {\n                collapsed: true,\n                escapeAndHighlightHit: escapeAndHighlightHit,\n            }\n        },\n        computed: {\n            canExand: function () {\n                return this.isLong && !this.isForcedExpanded;\n            },\n            isForcedExpanded: function () {\n                return !this.isString && this.item._b_;\n            },\n            isCollapsed: function () {\n                return this.collapsed && !this.item._b_;\n            },\n            highlightedValue: function () {\n                return syntaxHighlight(this.item._s_ || this.stringValue);\n            },\n            stringValue: function () {\n                return JSON.stringify(this.item._v_);\n            },\n            rawStringValue: function () {\n                return JSON.stringify(this.item._rv_ || this.item._rv_);\n            },\n            isArray: function () {\n               return Array.isArray(this.item._v_);\n            },\n            isLong: function () {\n                return this.isArray || this.isObject || (this.isString && this.stringValue.length > 53);\n            },\n            isString: function () {\n                return isStringFunc(this.item._v_);\n            },\n            isObject: function() {\n                return this.item._v_ && typeof this.item._v_ === 'object' && this.item._v_.constructor === Object;\n            },\n            isBoolean() {\n                return typeof this.item._v_ === \"boolean\";\n            },\n            isNumber() {\n                return typeof this.item._v_ === \"number\";\n            },\n            isNull() {\n                return this.item._v_ == null;\n            }\n        },\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attribute.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attribute.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Attribute.vue?vue&type=template&id=006159fc&\"\nimport script from \"./Attribute.vue?vue&type=script&lang=js&\"\nexport * from \"./Attribute.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n    credentials: ['appId', 'apiKey', 'indexName', 'server', 'method', 'userId'],\n    images: ['imageSize', 'imageAttribute', 'imageBaseUrl', 'imageSuffixUrl', 'ignoreImageProxy'],\n    attributes: ['titleAttributeName', 'autoTitleAttributeName', 'showSearchableAttributes', 'showCustomRanking', 'showAttributesForFaceting', 'showOnlyMatchingAttributes'],\n    paramsAndSettings: ['query', 'searchParams', 'indexSettings', 'keysIndexer'],\n    response: ['analyseResponse', 'searchResponse'],\n    display: ['analyseMaxNbPoints', 'displayMode', 'displayRankingInfo'],\n    actions: ['readOnly', 'isReplica', 'canJumpRules', 'canJumpSynonyms', 'canJumpRecords', 'jumpTo'],\n}\n","<template>\n    <div>\n        <div :key=\"key\" v-for=\"key in currentKeys\" class=\"flex\">\n            <div :title=\"key\" class=\"w-128 min-w-128 mr-16 text-right json-token key truncate\">\n                {{key}}:\n            </div>\n            <attribute style=\"width: calc(100% - 128px)\" :item=\"item[key]\"  />\n        </div>\n        <div class=\"w-128 min-w-128 mr-16 text-right text-nebula-blue cursor-pointer\" v-if=\"needsCollapse && nbExtraAttributes > 0\" @click=\"isCollapsed = !isCollapsed\">\n            <span v-if=\"isCollapsed\">Show {{nbExtraAttributes}} more</span>\n            <span v-if=\"!isCollapsed\">Show {{nbExtraAttributes}} less</span>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Attribute from \"./Attribute\";\n    import props from \"../props\";\n\n    export default {\n        name: 'Attributes',\n        components: {Attribute},\n        props: [\n            'topAttributes', 'searchableAttributes', 'item', 'noCollapse',\n            ...props.attributes,\n            ...props.paramsAndSettings,\n        ],\n        data: function () {\n            return {\n                isCollapsed: true,\n                reservedAttributes: {\n                    _highlightResult: true,\n                    _snippetResult: true,\n                    _rankingInfo: true,\n                    _distinctSeqID: true\n                }\n            }\n        },\n        computed: {\n            nbExtraAttributes: function () {\n                return this.allKeys.length - this.keys.length;\n            },\n            needsCollapse: function () {\n                return this.noCollapse !== true && this.topAttributes.length > 0;\n            },\n            uncollapsedAttributes: function () {\n                const hasAttributesToRetrieve = this.searchParams && this.searchParams.attributesToRetrieve;\n\n                if (!hasAttributesToRetrieve && this.showSearchableAttributes && this.showOnlyMatchingAttributes) {\n                    return this.keys.filter((key) => {\n                        if (key === 'objectID') return true;\n                        if (this.searchableAttributes.indexOf(key) !== -1) return this.item[key]._b_;\n                        return true;\n                    });\n                }\n\n                return this.keys;\n            },\n            currentKeys: function () {\n                return this.needsCollapse && this.isCollapsed ? this.uncollapsedAttributes : this.allKeys;\n            },\n            keys: function () {\n                return this.allKeys.filter((key) => { return this.topAttributes.indexOf(key) !== -1 })\n            },\n            allKeys: function () {\n                const getRankingInfo = this.searchParams && this.searchParams.getRankingInfo === true;\n\n                return Object.keys(this.item).filter((key) => {\n                    return !this.reservedAttributes[key] || (getRankingInfo === true && key === '_rankingInfo');\n                }).sort((a, b) => {\n                    const indexA = this.topAttributes.indexOf(a);\n                    const indexB = this.topAttributes.indexOf(b);\n\n                    if (indexA === indexB) { return 0; }\n                    if (indexA === -1) { return 1 }\n                    if (indexB === -1) { return -1 }\n                    if (indexA < indexB) { return -1 }\n\n                    return 1;\n                });\n            }\n        }\n    }\n\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attributes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attributes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Attributes.vue?vue&type=template&id=427e95db&\"\nimport script from \"./Attributes.vue?vue&type=script&lang=js&\"\nexport * from \"./Attributes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function (excluded) {\n    this.excluded = excluded || [];\n\n    this.recursivelyGetValues = function (obj) {\n        if (obj && obj._v_ !== undefined) return this.recursivelyGetValues(obj._v_);\n\n        if (Array.isArray(obj)) {\n            return obj.slice(0, 10).map((o) => this.recursivelyGetValues(o));\n        }\n        if (this.isObject(obj)) {\n            return Object.keys(obj).slice(0, 10).reduce((acc, key) => ({\n                ...acc,\n                [key]: this.recursivelyGetValues(obj[key]),\n            }), {});\n        }\n\n        return obj;\n    };\n\n    this.getNewItemObject = function (item, highlightItem, snippetItem) {\n        const newObject = {};\n        let hasMatchGlobal = false;\n\n        let key;\n        for (key in item) {\n            if (this.excluded.indexOf(key) !== -1 || item[key] === undefined) continue;\n\n            const obj = this.getNewItem(\n                item[key],\n                highlightItem !== undefined ? highlightItem[key] : undefined,\n                snippetItem !== undefined ? snippetItem[key] : undefined\n            );\n            newObject[key] = obj;\n            hasMatchGlobal = hasMatchGlobal || obj._b_;\n        }\n\n        return {_v_: newObject, _s_: JSON.stringify(this.recursivelyGetValues(newObject)), _b_: hasMatchGlobal};\n    };\n\n    this.getNewItemArray = function (array, highlightItem, snippetItem) {\n        let hasMatchGlobal = false;\n\n        const newArray = [];\n\n        array.slice(0, 1000).forEach((item, index) => {\n            const obj = this.getNewItem(\n                item,\n                highlightItem !== undefined ? highlightItem[index] : undefined,\n                snippetItem !== undefined ? snippetItem[index] : undefined\n            );\n            hasMatchGlobal = hasMatchGlobal || obj._b_;\n            newArray.push(obj);\n        });\n\n        return {_v_: newArray, _s_: JSON.stringify(this.recursivelyGetValues(newArray)), _b_: hasMatchGlobal};\n    };\n\n    this.getNewItem = function (item, highlightItem, snippetItem) {\n        if (this.isObject(item)) {\n            return this.getNewItemObject(item, highlightItem, snippetItem);\n        }\n        if (Array.isArray(item)) {\n            return this.getNewItemArray(item, highlightItem, snippetItem);\n        }\n\n        const hasMatch = snippetItem !== undefined && snippetItem.matchLevel && snippetItem.matchLevel !== 'none';\n        const hasMatch2 = highlightItem !== undefined && highlightItem.matchLevel && highlightItem.matchLevel !== 'none';\n        const value = hasMatch ? snippetItem.value : item;\n        const rawValue = hasMatch2 ? highlightItem.value : item;\n\n        return {\n            _b_: hasMatch,\n            _v_: value,\n            _rv_: rawValue,\n        };\n    };\n\n    this.isObject = function(item) {\n        return item && typeof item === 'object' && item.constructor === Object;\n    };\n\n    this.transformObj = function (item) {\n        return this.getNewItemObject(item, item._highlightResult, item._snippetResult);\n    };\n\n    this.getNewItemArraySimple = function (array, highlightItem) {\n        return array.map((item, index) => {\n            return this.getNewItemSimple(\n                item,\n                highlightItem !== undefined ? highlightItem[index] : undefined,\n            );\n        });\n    };\n\n    this.getNewItemSimple = function (item, highlightItem) {\n        if (this.isObject(item)) {\n            return this.getNewItemObjectSimple(item, highlightItem);\n        }\n        if (Array.isArray(item)) {\n            return this.getNewItemArraySimple(item, highlightItem);\n        }\n        const hasMatch = highlightItem !== undefined && highlightItem.matchLevel !== undefined;\n        return hasMatch ? highlightItem.value : item;\n    };\n\n    this.getNewItemObjectSimple = function (item, highlightItem, snippetItem) {\n        const newObject = {};\n        for (let key in item) {\n            if (this.excluded.indexOf(key) !== -1 || item[key] === undefined) continue;\n            const obj = this.getNewItemSimple(\n                item[key],\n                highlightItem !== undefined ? highlightItem[key] : undefined,\n                snippetItem !== undefined ? snippetItem[key] : undefined\n            );\n            newObject[key] = obj;\n        }\n\n        return newObject;\n    };\n\n    this.transformObjSimple = function (item) {\n        return this.getNewItemObjectSimple(item, item._highlightResult);\n    };\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.cursor)?_c('ul',{staticClass:\"flex mt-24 mb-12 pl-0\"},[(_vm.page > 0)?_c('li',{staticClass:\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\",on:{\"click\":function($event){return _vm.setPage(_vm.page - 1)}}},[_c('chevron-left-icon',{staticClass:\"w-12 h-12\"})],1):_vm._e(),(_vm.pages[0] > 0)?[_c('li',{staticClass:\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\",on:{\"click\":function($event){return _vm.setPage(0)}}},[_vm._v(\"1\")]),_c('li',{staticClass:\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer\"},[_vm._v(\"...\")])]:_vm._e(),_vm._l((_vm.pages),function(p){return _c('li',{key:p,staticClass:\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\",class:p === _vm.page ? 'border border-telluric-blue-opacity-80' : '',on:{\"click\":function($event){return _vm.setPage(p)}}},[_c('span',[_vm._v(_vm._s(p + 1))])])}),(_vm.pages[_vm.pages.length - 1] < _vm.nbPages - 1)?[_c('li',{staticClass:\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer\"},[_vm._v(\"...\")]),_c('li',{staticClass:\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\",on:{\"click\":function($event){return _vm.setPage(_vm.nbPages - 1)}}},[_vm._v(_vm._s(_vm.nbPages))])]:_vm._e(),(_vm.page < _vm.nbPages - 1)?_c('li',{staticClass:\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\",on:{\"click\":function($event){return _vm.setPage(_vm.page + 1)}}},[_c('chevron-left-icon',{staticClass:\"w-12 h-12 rotate-180\"})],1):_vm._e()],2):_vm._e(),(_vm.cursor)?_c('ul',{staticClass:\"flex mt-24 mb-12 pl-0\"},[_c('li',{staticClass:\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\",on:{\"click\":function($event){return _vm.$emit('onDeleteParam', 'cursor')}}},[_vm._v(\"\\n            First page\\n        \")]),_c('li',{staticClass:\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\",on:{\"click\":function($event){return _vm.$emit('onSetParamValue', 'cursor', _vm.cursor)}}},[_vm._v(\"\\n            Next page\\n        \")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function range(a, b) {\n    const r = [];\n    for (let i = a; i < b; i++) r.push(i);\n    return r;\n}\n\nexport default function(page, nbPage) {\n    this.currentPage = page;\n    this.total = nbPage;\n    this.padding = 3;\n\n    this.pages = function () {\n        const { total, currentPage, padding } = this;\n\n        if (total === 0) return [0];\n\n        const totalDisplayedPages = this.nbPagesDisplayed(padding, total);\n        if (totalDisplayedPages === total) return range(0, total);\n\n        const paddingLeft = this.calculatePaddingLeft(\n            currentPage,\n            padding,\n            total,\n            totalDisplayedPages\n        );\n        const paddingRight = totalDisplayedPages - paddingLeft;\n\n        const first = currentPage - paddingLeft;\n        const last = currentPage + paddingRight;\n\n        return range(first, last);\n    };\n\n    this.nbPagesDisplayed = function (padding, total) {\n        return Math.min(2 * padding + 1, total);\n    };\n\n    this.calculatePaddingLeft = function(current, padding, total, totalDisplayedPages) {\n        if (current <= padding) {\n            return current;\n        }\n\n        if (current >= total - padding) {\n            return totalDisplayedPages - (total - current);\n        }\n\n        return padding;\n    };\n\n    this.isLastPage = function () {\n        return this.currentPage === this.total - 1;\n    };\n\n    this.isFirstPage = function () {\n        return this.currentPage === 0;\n    };\n}","<template>\n    <div>\n        <ul class=\"flex mt-24 mb-12 pl-0\" v-if=\"!cursor\">\n            <li\n                v-if=\"page > 0\"\n                class=\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\"\n                @click=\"setPage(page - 1)\"\n            >\n                <chevron-left-icon class=\"w-12 h-12\" />\n            </li>\n            <template v-if=\"pages[0] > 0\">\n                <li class=\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\" @click=\"setPage(0)\">1</li>\n                <li class=\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer\">...</li>\n            </template>\n            <li\n                v-for=\"p in pages\"\n                :key=\"p\"\n                :class=\"p === page ? 'border border-telluric-blue-opacity-80' : ''\"\n                class=\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\"\n                @click=\"setPage(p)\"\n            >\n                <span>{{p + 1}}</span>\n            </li>\n            <template v-if=\"pages[pages.length - 1] < nbPages - 1\">\n                <li class=\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer\">...</li>\n                <li class=\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\" @click=\"setPage(nbPages - 1)\">{{nbPages}}</li>\n            </template>\n            <li\n                v-if=\"page < nbPages - 1\"\n                class=\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\"\n                @click=\"setPage(page + 1)\">\n                <chevron-left-icon class=\"w-12 h-12 rotate-180\" />\n            </li>\n        </ul>\n        <ul class=\"flex mt-24 mb-12 pl-0\" v-if=\"cursor\">\n            <li\n                class=\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\"\n                @click=\"$emit('onDeleteParam', 'cursor')\"\n            >\n                First page\n            </li>\n            <li\n                class=\"flex items-center mx-4 px-8 py-4 text-nova-grey rounded cursor-pointer bg-moon-grey\"\n                @click=\"$emit('onSetParamValue', 'cursor', cursor)\"\n            >\n                Next page\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script>\n    import Paginator from './paginator'\n    import ChevronLeftIcon from 'common/icons/chevron-left.svg';\n\n    export default {\n        name: 'Pagination',\n        props: ['page', 'nbPages', 'cursor'],\n        components: {ChevronLeftIcon},\n        computed: {\n            pages: function () {\n                return this.paginator.pages();\n            },\n            paginator: function () {\n                return new Paginator(this.page, this.nbPages);\n            },\n        },\n        methods: {\n            setPage: function (page) {\n                if (this.page >= 0 && this.page < this.nbPages) {\n                    this.$emit('onUpdatePage', page);\n                }\n            },\n        },\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=46e807f9&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div>\n        <h2 class=\"mt-24 text-solstice-blue-opacity-80\">Transform</h2>\n        <div class=\"mt-24\">\n            <div class=\"flex\">\n                <div class=\"w-third pr-24\">\n                    <div class=\"bg-white rounded border border-proton-grey-opacity-60\">\n                        <div class=\"text-center p-8 border-b border-proton-grey-opacity-60 bg-proton-grey-opacity-40 text-telluric-blue text-xs uppercase tracking-wide\">\n                            Old Record\n                        </div>\n                        <div class=\"p-24\">\n                            <attributes\n                                v-if=\"srcObjectExample\"\n                                :top-attributes=\"['objectID']\"\n                                :no-collapse=\"true\"\n                                class=\"w-full\"\n                                :item=\"hitsTransformer.transformObj(srcObjectExample)._v_\"\n                            />\n                        </div>\n                        <div class=\"flex\">\n                            <pagination\n                                @onUpdatePage=\"page = $event\"\n                                :page=\"page\"\n                                :nb-pages=\"nbPages\"\n                                class=\"mx-auto\"\n                            />\n                        </div>\n                    </div>\n                </div>\n                <div class=\"w-third pr-24\">\n                    <div>\n                        <div class=\"text-center p-8 rounded border border-proton-grey-opacity-60 bg-proton-grey-opacity-40 text-telluric-blue text-xs uppercase tracking-wide\">\n                            Transformer\n                        </div>\n                        <div class=\"mt-24\">\n                            <monaco-editor\n                                v-model=\"transformer\"\n                                class=\"w-full h-512 rounded overflow-hidden\"\n                                language=\"javascript\"\n                                @onShouldSave=\"saveTransformer(saveAs)\"\n                            />\n                        </div>\n                        <div class=\"flex items-center mt-8\">\n                            <div class=\"text-center\" :class=\"{invisible: !hasBeenSaved}\">\n                                Saved {{savedConfig === 'new' ? 'draft' : savedConfig}}!\n                            </div>\n                            <div class=\"ml-auto\">\n                                <a\n                                    @click=\"transformer = generatedConfig()\"\n                                    class=\"text-nebula-blue cursor-pointer hover:underline\"\n                                >auto-generate</a>\n                            </div>\n                            <div class=\"ml-16\">\n                                <a\n                                    @click=\"reset()\"\n                                    class=\"text-nebula-blue cursor-pointer hover:underline\"\n                                >reset</a>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"mt-12 text-solstice-blue-opacity-60\">\n                        <div class=\"flex\">\n                            <div class=\"w-half\">\n                                <h3 class=\"mb-12\">Help</h3>\n                                Return Object to modify the object\n                                <br>\n                                Return Array to split records\n                                <br>\n                                Return null to not index the record\n                                <br>\n                                <br>\n                                async/await is allowed\n                                <br>\n                                this.algoliasearch gives you access to algolia lib\n                            </div>\n                            <div class=\"w-half\">\n                                <h3 class=\"mb-12\">Current Draft</h3>\n                                <div>\n                                    <div class=\"flex ml-auto\">\n                                        <div>Save as:</div>\n                                        <input\n                                            v-model=\"saveAs\"\n                                            @keyup.enter=\"saveTransformer(saveAs, true)\"\n                                            class=\"ml-8 input-custom w-124\"\n                                        />\n                                    </div>\n                                </div>\n                                <h3 class=\"mt-12 mb-12\">Backups</h3>\n                                <div>\n                                    <div v-for=\"t in notNewTransformers\" class=\"flex\">\n                                        <div class=\"w-full group\">\n                                            -\n                                            <a\n                                                @click=\"transformer = t.body; saveTransformer()\"\n                                                class=\"text-nebula-blue cursor-pointer hover:underline\"\n                                            >{{t.name}}</a>\n                                            <trash-icon\n                                                @click=\"deleteTransformer(t.name)\"\n                                                class=\"ml-12 w-12 h-12 cursor-pointer hover:text-telluric-blue invisible group-hover:visible\"\n                                            />\n                                        </div>\n                                    </div>\n                                    <div v-if=\"notNewTransformers.length === 0\">\n                                        No backups\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"w-third pr-24\">\n                    <div class=\"bg-white rounded border border-proton-grey-opacity-60\">\n                        <div class=\"text-center p-8 border-b border-proton-grey-opacity-60 bg-proton-grey-opacity-40 text-telluric-blue text-xs uppercase tracking-wide\">\n                            New record\n                        </div>\n                        <div class=\"p-24\">\n                            <attributes\n                                v-if=\"!error && dstObjectExample\"\n                                class=\"w-full\"\n                                :top-attributes=\"['objectID']\"\n                                :no-collapse=\"true\"\n                                :item=\"hitsTransformer.transformObj(dstObjectExample)._v_\"\n                            />\n                            <div v-else>\n                                {{error}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import MonacoEditor from \"./MonacoEditor\";\n    import Attributes from \"common/components/explorer/hits/Attributes\";\n    import HitsTransformer from \"common/components/explorer/hits/hitsTransformer\";\n    import Pagination from \"common/components/explorer/results/Pagination\";\n    import TrashIcon from \"common/icons/trash.svg\";\n    import algoliasearch from 'algoliasearch';\n    import {isNumeric, isObject, isString} from \"common/utils/types\";\n\n    const defaultTransformer = 'return {\\n  ...refObj,\\n\\n};';\n\n    export default {\n        name: 'Transformer',\n        components: {MonacoEditor, Attributes, Pagination, TrashIcon},\n        props: ['dataset'],\n        data: function () {\n            return {\n                dstObjectExample: {},\n                transformer: defaultTransformer,\n                error: null,\n                page: 0,\n                hitsTransformer: new HitsTransformer(),\n                timeout: null,\n                saveAs: '',\n                savedConfig: '',\n                hasBeenSaved: false,\n                transformers: [],\n            }\n        },\n        created: function () {\n            this.transformExample();\n            this.fetchTransformers();\n        },\n        watch: {\n            transformer: function (o, n) {\n                if (o !== n) {\n                    this.page = 0;\n                    this.transformExample();\n                    this.saveTransformerWithTimeout('new');\n                }\n            },\n            srcObjectExample: function () { this.transformExample(); },\n        },\n        computed: {\n            srcObjectExample: function () {\n                if (this.dataset && this.dataset.length > 0) {\n                    return this.dataset[this.page];\n                }\n            },\n            nbPages: function () {\n                if (!this.dataset) return 0;\n                return this.dataset.length;\n            },\n            notNewTransformers: function () {\n                return this.transformers.filter((t) => t.name !== 'new');\n            },\n        },\n        methods: {\n            reset: function () {\n                this.transformer = defaultTransformer;\n            },\n            generatedConfig: function () {\n                const hit = this.srcObjectExample;\n                let s = 'return {\\n';\n\n                function getValue(key, varNames, value) {\n                    const finalVarName = varNames.join('.');\n                    if (isString(value) && isNumeric(value)) {\n                        if (varNames.length <= 2) {\n                            return `${varNames[0]} !== undefined ? parseFloat(${finalVarName}) : undefined,\\n`;\n                        } else {\n                            return `parseFloat(${finalVarName}),\\n`;\n                        }\n                    } else if (Array.isArray(value)) {\n                        return `(${finalVarName} || []).map((el) => {\\n    return el;  \\n  }),\\n`;\n                    } else {\n                        if (varNames.length <= 2) {\n                            return `${varNames[0]} !== undefined ? ${finalVarName} : undefined,\\n`;\n                        } else {\n                            return `${finalVarName},\\n`;\n                        }\n                    }\n                }\n\n                Object.keys(hit).forEach((key) => {\n                    let refObjVarName = `refObj.${key}`;\n                    let value = hit[key];\n\n                    if (isObject(value)) {\n                        const keys = Object.keys(value);\n\n                        if (keys.length > 0) {\n                            const hasAttrs = keys.includes('attrs');\n\n                            if (keys.length === 1 && !hasAttrs) {\n                                s += `  ${key}: ${getValue(key, [refObjVarName, keys[0]], value[keys[0]])}`;\n                                return;\n                            }\n\n                            s += `  ${key}: {\\n`;\n                            if (hasAttrs) {\n                                const attrKeys = Object.keys(value.attrs);\n                                attrKeys.forEach((k) => {\n                                    s += `    ${k}: ${getValue(k, [refObjVarName, 'attrs', k], value[k])}`;\n                                });\n                            }\n\n                            keys.filter((k) => k !== 'attrs' && (k !== 'value' || value[k])).forEach((k) => {\n                                s += `    ${k}: ${getValue(k, [refObjVarName, k], value[k])}`;\n                            });\n                            s += `  },\\n`;\n                            return;\n                        }\n                    }\n\n                    s += `  ${key}: ${getValue(key, [refObjVarName], value)}`;\n                });\n\n                s += '}';\n                return s;\n            },\n            saveTransformerWithTimeout: function (name, reloadTransformers) {\n                if (this.timeout) {\n                    clearTimeout(this.timeout);\n                }\n\n                this.timeout = setTimeout(() => {\n                    this.saveTransformer(name, reloadTransformers);\n                }, 3000);\n            },\n            saveTransformer: async function (name, reloadTransformers) {\n                clearTimeout(this.timeout);\n                const endpoint = process.env.VUE_APP_METAPARAMS_BACKEND_ENDPOINT || 'https://tools-backend.algolia.com';\n                await fetch(`${endpoint}/transformations/update`, {\n                    method: 'POST',\n                    credentials: 'include',\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                    body: JSON.stringify({\n                        name: name || 'new',\n                        body: this.transformer,\n                    }),\n                });\n                this.savedConfig = name || 'new',\n                this.hasBeenSaved = true;\n                setTimeout(() => {\n                    this.hasBeenSaved = false;\n                }, 2000);\n                if (reloadTransformers) {\n                    this.fetchTransformers();\n                }\n            },\n            fetchTransformers: async function () {\n                const endpoint = process.env.VUE_APP_METAPARAMS_BACKEND_ENDPOINT || 'https://tools-backend.algolia.com';\n                const res = await fetch(`${endpoint}/transformations/get-all`, {\n                    method: 'POST',\n                    credentials: 'include',\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                    body: JSON.stringify({}),\n                });\n                const transformers = Object.freeze(await res.json());\n                if (transformers.length <= 0) {\n                    await this.saveTransformerWithTimeout('new');\n                    this.fetchTransformers();\n                } else {\n                    this.transformer = transformers.find((t) => t.name === 'new').body;\n                }\n                this.transformers = transformers;\n            },\n            deleteTransformer: async function (name) {\n                const endpoint = process.env.VUE_APP_METAPARAMS_BACKEND_ENDPOINT || 'https://tools-backend.algolia.com';\n                await fetch(`${endpoint}/transformations/delete`, {\n                    method: 'POST',\n                    credentials: 'include',\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                    body: JSON.stringify({\n                        name: name,\n                    }),\n                });\n                this.fetchTransformers();\n            },\n            transformExample: async function () {\n                try {\n                    const context = {\n                        algoliasearch: algoliasearch,\n                    };\n\n                    const func = new Function(`return async function (refObj) {\\n ${this.transformer} \\n}`)();\n                    this.dstObjectExample = await func.call(context, Object.freeze(JSON.parse(JSON.stringify(this.srcObjectExample))));\n                    this.error = null;\n                    this.$emit('onUpdateTransformer', func);\n                } catch (e) {\n                    this.error = e;\n                    this.dstObjectExample = {};\n                    this.$emit('onUpdateTransformer', null);\n                }\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transformer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transformer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Transformer.vue?vue&type=template&id=f8ec318c&\"\nimport script from \"./Transformer.vue?vue&type=script&lang=js&\"\nexport * from \"./Transformer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"mt-24 text-solstice-blue-opacity-80\"},[_vm._v(\"Load into index\")]),_c('div',{staticClass:\"mt-24\"},[_c('div',[_c('label',{staticClass:\"cursor-pointer\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showAllApps),expression:\"showAllApps\"}],staticClass:\"mr-4\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.showAllApps)?_vm._i(_vm.showAllApps,null)>-1:(_vm.showAllApps)},on:{\"change\":function($event){var $$a=_vm.showAllApps,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showAllApps=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showAllApps=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showAllApps=$$c}}}}),_vm._v(\"\\n                Unsafe mode (allow copy on non Algolia apps)\\n\\n            \")])]),_c('div',{staticClass:\"mt-12 flex\"},[_c('app-selector',{attrs:{\"only-algolia\":!_vm.showAllApps},model:{value:(_vm.appId),callback:function ($$v) {_vm.appId=$$v},expression:\"appId\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.indexName),expression:\"indexName\"}],staticClass:\"ml-24 input-custom mr-8 w-148\",domProps:{\"value\":(_vm.indexName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.indexName=$event.target.value}}})],1)]),_c('div',{staticClass:\"mt-24\"},[(_vm.tasksGroup)?_c('task-group-view',{attrs:{\"tasks-group\":_vm.tasksGroup}}):_vm._e(),(!_vm.tasksGroup && (!_vm.indexInfo || (_vm.indexName.length > 0 && _vm.indexName !== _vm.indexInfo.indexName)))?_c('div',[_c('div',[_c('div',[_c('label',{staticClass:\"cursor-pointer\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.method),expression:\"method\"}],attrs:{\"type\":\"radio\",\"value\":\"saveObjects\"},domProps:{\"checked\":_vm._q(_vm.method,\"saveObjects\")},on:{\"change\":function($event){_vm.method=\"saveObjects\"}}}),_vm._v(\" saveObjects\\n                    \")])]),_c('div',{staticClass:\"mt-4\"},[_c('label',{staticClass:\"cursor-pointer\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.method),expression:\"method\"}],attrs:{\"type\":\"radio\",\"value\":\"partialUpdateObjects\"},domProps:{\"checked\":_vm._q(_vm.method,\"partialUpdateObjects\")},on:{\"change\":function($event){_vm.method=\"partialUpdateObjects\"}}}),_vm._v(\" partialUpdateObjects\\n                    \")])])]),_c('div',{staticClass:\"mt-24 flex\"},[(_vm.appId)?_c('div',{staticClass:\"cursor-pointer bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm\",on:{\"click\":function($event){return _vm.process()}}},[_vm._v(\"\\n                    Load\\n                \")]):_c('div',{staticClass:\"rounded border px-16 py-12 border-saturn-4 bg-saturn-4-opacity-40 text-saturn-1\"},[_vm._v(\"\\n                    You need to select an appId in order to save\\n                \")])]),(_vm.errorMessage.length > 0)?_c('div',{staticClass:\"mt-24 border border-mars-1 mt-16 p-8 rounded\"},[_c('pre',[_vm._v(_vm._s(_vm.errorMessage))])]):_vm._e()]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.tasksGroup)?_c('div',[_c('div',{staticClass:\"mb-8\"},[_c('b',[_vm._v(_vm._s(_vm.tasksGroup.name))])]),_vm._l((_vm.tasksGroup.tasks),function(task){return _c('div',[_c('div',[_vm._v(\"\\n            \"+_vm._s(task.name)+\"\\n            \"),(task.outOf)?_c('span',[_vm._v(_vm._s(task.nth)+\"/\"+_vm._s(task.outOf))]):_vm._e(),(task.done)?_c('span',[_c('check-icon',{staticClass:\"w-12 h-12\"})],1):_vm._e(),(task.running)?_c('span',[_c('loader-icon',{staticClass:\"w-12 h-12 infinte-rotate\"})],1):_vm._e()])])})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-check\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"class\":\"feather feather-check\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M20 6L9 17l-5-5\"}})])\n          )\n        }\n      }\n    ","<template>\n    <div v-if=\"tasksGroup\">\n        <div class=\"mb-8\"><b>{{tasksGroup.name}}</b></div>\n        <div v-for=\"task in tasksGroup.tasks\">\n            <div>\n                {{task.name}}\n                <span v-if=\"task.outOf\">{{task.nth}}/{{task.outOf}}</span>\n                <span v-if=\"task.done\">\n                        <check-icon class=\"w-12 h-12\" />\n                    </span>\n                <span v-if=\"task.running\">\n                        <loader-icon class=\"w-12 h-12 infinte-rotate\" />\n                    </span>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import LoaderIcon from \"../icons/loader.svg\";\n    import CheckIcon from \"../icons/check.svg\";\n\n    export default {\n        props: ['tasksGroup'],\n        components: {LoaderIcon, CheckIcon}\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TasksGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TasksGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TasksGroup.vue?vue&type=template&id=82a1888c&\"\nimport script from \"./TasksGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./TasksGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function TasksGroup(name) {\n    this.tasks = [];\n    this.tasksIds = [];\n    this.name = name;\n\n    this.addTask = function (task) {\n        this.tasks.push(task);\n    };\n\n    this.addAlgoliaTaskId = function (taskId) {\n        this.tasksIds.push(taskId);\n    };\n\n    this.run = async function () {\n        let i;\n        for (i = 0; i < this.tasks.length; i++) {\n            await this.tasks[i].run();\n        }\n    };\n}\n\nexport function Task(name, callback) {\n    this.name = name;\n    if (callback) this.callback = callback;\n    this.outOf = null;\n    this.nth = null;\n    this.running = false;\n    this.done = false;\n\n    this.setCallback = function (callback) {\n        this.callback = callback;\n    };\n\n    this.setNth = function (nth) {\n        this.nth = nth;\n    };\n\n    this.setOutOf = function (outOf) {\n        this.outOf = outOf;\n    };\n\n    this.run = async function () {\n        this.running = true;\n        await this.callback();\n        this.running = false;\n        this.done = true;\n    };\n}","<template>\n    <div>\n        <h2 class=\"mt-24 text-solstice-blue-opacity-80\">Load into index</h2>\n        <div class=\"mt-24\">\n            <div>\n                <label class=\"cursor-pointer\">\n                    <input\n                        type=\"checkbox\"\n                        class=\"mr-4\"\n                        v-model=\"showAllApps\"\n                    />\n                    Unsafe mode (allow copy on non Algolia apps)\n\n                </label>\n            </div>\n            <div class=\"mt-12 flex\">\n                <app-selector v-model=\"appId\" :only-algolia=\"!showAllApps\" />\n                <input v-model=\"indexName\" class=\"ml-24 input-custom mr-8 w-148\">\n            </div>\n        </div>\n        <div class=\"mt-24\">\n            <task-group-view\n                v-if=\"tasksGroup\"\n                :tasks-group=\"tasksGroup\"\n            />\n            <div v-if=\"!tasksGroup && (!indexInfo || (indexName.length > 0 && indexName !== indexInfo.indexName))\">\n                <div>\n                    <div>\n                        <label class=\"cursor-pointer\">\n                            <input type=\"radio\" v-model=\"method\" value=\"saveObjects\" /> saveObjects\n                        </label>\n                    </div>\n                    <div class=\"mt-4\">\n                        <label class=\"cursor-pointer\">\n                            <input type=\"radio\" v-model=\"method\" value=\"partialUpdateObjects\" /> partialUpdateObjects\n                        </label>\n                    </div>\n                </div>\n                <div class=\"mt-24 flex\">\n                    <div\n                        v-if=\"appId\"\n                        @click=\"process()\"\n                        class=\"cursor-pointer bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-8 px-16 p-8 text-sm\"\n                    >\n                        Load\n                    </div>\n                    <div v-else class=\"rounded border px-16 py-12 border-saturn-4 bg-saturn-4-opacity-40 text-saturn-1\">\n                        You need to select an appId in order to save\n                    </div>\n                </div>\n                <div v-if=\"errorMessage.length > 0\" class=\"mt-24 border border-mars-1 mt-16 p-8 rounded\">\n                    <pre>{{errorMessage}}</pre>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import AppSelector from 'common/components/selectors/AppSelector';\n    import IndexSelector from 'common/components/selectors/IndexSelector';\n    import TaskGroupView from \"common/components/TasksGroup\";\n    import {getClient} from \"common/utils/algoliaHelpers\";\n    import {Task, TasksGroup} from \"common/utils/tasks\";\n    import algoliasearch from 'algoliasearch';\n    import Papa from \"papaparse\";\n    import oboe from 'oboe';\n    import FileStreamer from \"./FileStreamer\";\n    import XmlStreamer from \"./XmlStreamer\";\n\n    export default {\n        name: 'Applier',\n        props: ['dataset', 'indexInfo', 'transformer', 'csvFile', 'jsonFile', 'xmlFile', 'xmlRootNode'],\n        components: {AppSelector, IndexSelector, TaskGroupView},\n        data: function () {\n            return {\n                appId: null,\n                indexName: this.indexInfo ? `${this.indexInfo.indexName}_transformed` : 'transformed_index',\n                tasksGroup: null,\n                errorMessage: '',\n                showAllApps: false,\n                method: 'saveObjects',\n            }\n        },\n        methods: {\n            chunk: function (hits) {\n                const chunks = [];\n                let i = 0; let j = 0;\n                const chunkSize = 1000;\n                for (i = 0, j = hits.length; i < j; i += chunkSize) {\n                    chunks.push(hits.slice(i, i + chunkSize));\n                }\n                return chunks;\n            },\n            apiKey: function (appId) {\n                return this.$store.state.apps[appId].key;\n            },\n            saveObjects: async function (index, hits) {\n                const newHits = await this.getNewHits(hits);\n                if (this.method === 'saveObjects') {\n                    return index.saveObjects(newHits, {\n                        autoGenerateObjectIDIfNotExist: true,\n                    })\n                } else {\n                    return index.partialUpdateObjects(newHits, {\n                        createIfNotExists: true,\n                    })\n                }\n            },\n            getNewHits: async function (hits) {\n                const newHits = [];\n\n                const context = {\n                    algoliasearch: algoliasearch,\n                };\n\n                for (let i = 0; i < hits.length; i++) {\n                    try {\n                        const newHit = await this.transformer.call(context, hits[i]);\n\n                        if (newHit === null) return;\n\n                        if (Array.isArray(newHit)) {\n                            newHits.push(...newHit);\n                        } else {\n                            newHits.push(newHit);\n                        }\n                    } catch (e) {\n                        this.errorMessage = e.stack;\n                        this.tasksGroup = null;\n                        throw e;\n                    }\n                }\n\n                return newHits;\n            },\n            process: async function () {\n                const clientDst = await getClient(this.appId, this.apiKey(this.appId));\n                clientDst.transporter.timeouts = {read: 60, write: 60, connect: 60};\n                const dstIndex = await clientDst.customInitIndex(this.indexName);\n\n                const label = this.indexInfo ? `${this.indexInfo.appId}:${this.indexInfo.indexName}` : 'dataset';\n                const tasksGroup = new TasksGroup(`Transform ${label} to ${this.appId}:${this.indexName}`);\n\n                if (this.indexInfo) {\n                    const client = await getClient(this.indexInfo.appId, this.apiKey(this.indexInfo.appId));\n                    client.transporter.timeouts = {read: 60, write: 60, connect: 60};\n                    const srcIndex = client.customInitIndex(this.indexInfo.indexName);\n\n                    const browseTask = new Task('Copy records');\n\n                    browseTask.setCallback(async () => {\n                        let res = await srcIndex.customBrowse({\n                            query: '',\n                            hitsPerPage: 1000,\n                            attributesToRetrieve: ['*']\n                        });\n                        browseTask.setNth(0);\n                        browseTask.setOutOf(Math.ceil(res.nbHits / 1000));\n                        let resAdd = await this.saveObjects(dstIndex, res.hits);\n                        resAdd.taskIDs.forEach((resAddN) => tasksGroup.addAlgoliaTaskId(resAddN));\n                        browseTask.setNth(res.page + 1);\n\n                        while (res.cursor) {\n                            res = await srcIndex.customBrowse({cursor: res.cursor});\n                            resAdd = await this.saveObjects(dstIndex, res.hits);\n                            resAdd.taskIDs.forEach((resAddN) => tasksGroup.addAlgoliaTaskId(resAddN));\n                            browseTask.setNth(res.page + 1);\n                        }\n                    });\n                    tasksGroup.addTask(browseTask);\n\n                } else if (this.jsonFile) {\n                    const browseTask = new Task('Upload records');\n\n                    browseTask.setCallback(() => {\n                        return new Promise((resolve, reject) => {\n                            let count = 0;\n                            let hits = [];\n\n                            browseTask.setNth(0);\n                            browseTask.setOutOf('unknown');\n\n                            const stream = new FileStreamer(this.jsonFile, async () => {\n                                if (hits.length > 0) {\n                                    const resAdd = await this.saveObjects(dstIndex, hits);\n                                    resAdd.taskIDs.forEach((resAddN) => tasksGroup.addAlgoliaTaskId(resAddN));\n                                    browseTask.setNth(count);\n                                }\n                                resolve();\n                            });\n\n                            const oboeStream = oboe();\n                            oboeStream.node('!.[*]', async (node) => {\n                                hits.push(node);\n                                count++;\n                                if (hits.length >= 1000) {\n                                    stream.pause();\n                                    const hitsToPush = hits.slice();\n                                    hits = [];\n                                    const resAdd = await this.saveObjects(dstIndex, hitsToPush);\n                                    resAdd.taskIDs.forEach((resAddN) => tasksGroup.addAlgoliaTaskId(resAddN));\n                                    browseTask.setNth(count);\n                                    stream.resume();\n                                }\n                            });\n\n                            stream.start(function (data) {\n                                oboeStream.emit('data', data);\n                            });\n                        })\n                    });\n\n                    tasksGroup.addTask(browseTask);\n                }\n                else if (this.csvFile) {\n                    const browseTask = new Task('Upload records');\n\n                    browseTask.setCallback(() => {\n                        return new Promise((resolve, reject) => {\n                            let hits = [];\n                            let count = 0;\n\n                            browseTask.setNth(0);\n                            browseTask.setOutOf('unknown');\n\n                            Papa.parse(this.csvFile, {\n                                header: true,\n                                delimitersToGuess: [',', ';', '\\t', '#'],\n                                step: async (lineObject, parser) => {\n                                    hits.push(lineObject.data);\n                                    count++;\n                                    if (hits.length >= 1000) {\n                                        parser.pause();\n                                        const resAdd = await this.saveObjects(dstIndex, hits);\n                                        resAdd.taskIDs.forEach((resAddN) => tasksGroup.addAlgoliaTaskId(resAddN));\n                                        browseTask.setNth(count);\n                                        hits = [];\n                                        parser.resume();\n                                    }\n                                },\n                                complete: async (results) => {\n                                    if (hits.length > 0) {\n                                        const resAdd = await this.saveObjects(dstIndex, hits);\n                                        resAdd.taskIDs.forEach((resAddN) => tasksGroup.addAlgoliaTaskId(resAddN));\n                                        browseTask.setNth(count);\n                                    }\n                                    resolve();\n                                }\n                            });\n                        })\n                    });\n\n                    tasksGroup.addTask(browseTask);\n                } else if (this.xmlFile) {\n                    const browseTask = new Task('Upload records');\n\n                    browseTask.setCallback(() => {\n                        return new Promise((resolve, reject) => {\n                            let count = 0;\n                            let hits = [];\n\n                            browseTask.setNth(0);\n                            browseTask.setOutOf('unknown');\n\n                            const parser = new XmlStreamer(this.xmlRootNode, async (node) => {\n                                hits.push(node);\n                                count++;\n                                if (hits.length >= 1000) {\n                                    stream.pause();\n                                    const hitsToPush = hits.slice();\n                                    hits = [];\n                                    const resAdd = await this.saveObjects(dstIndex, hitsToPush);\n                                    resAdd.taskIDs.forEach((resAddN) => tasksGroup.addAlgoliaTaskId(resAddN));\n                                    browseTask.setNth(count);\n                                    stream.resume();\n                                }\n                            });\n\n                            const stream = new FileStreamer(this.xmlFile, async () => {\n                                if (hits.length > 0) {\n                                    const resAdd = await this.saveObjects(dstIndex, hits);\n                                    resAdd.taskIDs.forEach((resAddN) => tasksGroup.addAlgoliaTaskId(resAddN));\n                                    browseTask.setNth(count);\n                                }\n                                parser.close();\n                                resolve();\n                            });\n\n                            stream.start(function (data) {\n                                parser.write(data);\n                            });\n                        })\n                    });\n\n                    tasksGroup.addTask(browseTask);\n                }\n\n                const waitTask = new Task('Wait Tasks');\n                waitTask.setCallback(async () => {\n                    if (tasksGroup.tasksIds.length > 0) {\n                        waitTask.setNth(0);\n                        waitTask.setOutOf(tasksGroup.tasksIds.length);\n                        let i;\n                        for (i = 0; i < tasksGroup.tasksIds.length; i++) {\n                            await dstIndex.waitTask(tasksGroup.tasksIds[i]);\n                            waitTask.setNth(i + 1);\n                        }\n                    }\n                });\n\n                tasksGroup.addTask(waitTask);\n\n                this.tasksGroup = tasksGroup;\n                this.$root.$emit('onShouldPauseProxy');\n\n                try {\n                    this.errorMessage = '';\n                    await this.tasksGroup.run();\n                } catch (e) {\n                    this.errorMessage = e.message;\n                    this.tasksGroup = null;\n                    throw e;\n                }\n\n                this.$root.$emit('onShouldResumeProxy');\n                this.tasksGroup = null;\n            },\n        },\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Applier.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Applier.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Applier.vue?vue&type=template&id=499cfafc&\"\nimport script from \"./Applier.vue?vue&type=script&lang=js&\"\nexport * from \"./Applier.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"flex text-telluric-blue text-sm\"},[_c('div',{class:Object.keys(_vm.$store.state.apps).length > 0 ? 'ml-48': 'ml-auto'},[_vm._m(0),_c('div',{staticClass:\"flex h-48\"},[_c('div',{staticClass:\"h-full flex items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-16\"},[_c('button',{staticClass:\"h-full py-8 px-16\",on:{\"click\":function($event){_vm.manageAppsPanel = !_vm.manageAppsPanel}}},[_c('div',[_c('box-icon',{staticClass:\"w-auto h-16 fill-current\",class:[ _vm.manageAppsPanel ? 'text-nebula-blue' : 'text-cosmos-black-opacity-60' ]})],1),_c('div',{staticClass:\"mt-4\"},[_vm._v(\"\\n                            Manage AppIDs\\n                        \")])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-8\"},[_c('h4',[_vm._v(\"Management\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"flex text-telluric-blue text-sm\">\n            <div :class=\"Object.keys($store.state.apps).length > 0 ? 'ml-48': 'ml-auto'\">\n                <div class=\"mb-8\">\n                    <h4>Management</h4>\n                </div>\n                <div class=\"flex h-48\">\n                    <div\n                        class=\"h-full flex items-center text-center block bg-white rounded border border-b-0 border-proton-grey-opacity-40 shadow-sm hover:shadow transition-fast-out mr-16\"\n                    >\n                        <button\n                            class=\"h-full py-8 px-16\"\n                            @click=\"manageAppsPanel = !manageAppsPanel\"\n                        >\n                            <div>\n                                <box-icon\n                                    :class=\"[ manageAppsPanel ? 'text-nebula-blue' : 'text-cosmos-black-opacity-60' ]\"\n                                    class=\"w-auto h-16 fill-current\"\n                                />\n                            </div>\n                            <div class=\"mt-4\">\n                                Manage AppIDs\n                            </div>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import BoxIcon from \"common/icons/box.svg\";\n\n    export default {\n        name: 'DisplayConfig',\n        components: {BoxIcon},\n        computed: {\n            manageAppsPanel: {\n                get() {\n                    return this.$store.state.panels.manageAppsPanel;\n                },\n                set(value) {\n                    this.$store.commit(\"panels/setManageAppsPanel\", value);\n                }\n            },\n        }\n    }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DisplayConfig.vue?vue&type=template&id=b55fa4ca&\"\nimport script from \"./DisplayConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./DisplayConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <internal-app>\n        <div class=\"min-h-screen pb-48\">\n            <app-header app-name=\"Transform\">\n                <display-config class=\"mx-16 mt-0 ml-auto\" />\n            </app-header>\n            <div class=\"px-48 mt-24\">\n                <app-management />\n                <dataset-selector\n                    @onUpdateDataset=\"dataset = $event\"\n                    @onUpdateIndexInfo=\"indexInfo = $event\"\n                    @onUpdateCsvFile=\"csvFile = $event\"\n                    @onUpdateJsonFile=\"jsonFile = $event\"\n                    @onUpdateXmlFile=\"xmlFile = $event\"\n                    @onUpdateXmlRootNode=\"xmlRootNode = $event\"\n                />\n                <transformer\n                    v-if=\"dataset\"\n                    :dataset=\"dataset\"\n                    @onUpdateTransformer=\"transformer = $event\"\n                />\n                <applier\n                    v-if=\"dataset && transformer\"\n                    :dataset=\"dataset\"\n                    :index-info=\"indexInfo\"\n                    :transformer=\"transformer\"\n                    :csv-file=\"csvFile\"\n                    :json-file=\"jsonFile\"\n                    :xml-file=\"xmlFile\"\n                    :xml-root-node=\"xmlRootNode\"\n                />\n            </div>\n        </div>\n    </internal-app>\n</template>\n\n<script>\n    import InternalApp from \"common/components/app/InternalApp\";\n    import AppHeader from \"common/components/header/AppHeader\";\n    import AppManagement from \"common/components/configuration/AppManagement\";\n    import DatasetSelector from \"./DatasetSelector\";\n    import Transformer from \"./Transformer\";\n    import Applier from \"./Applier\";\n    import DisplayConfig from \"./DisplayConfig\";\n\n    export default {\n        name: 'App',\n        components: {Applier, Transformer, DatasetSelector, InternalApp, AppHeader, AppManagement, DisplayConfig},\n        data: function () {\n            return {\n                transformer: null,\n                dataset: null,\n                indexInfo: null,\n                csvFile: null,\n                jsonFile: null,\n                xmlFile: null,\n                xmlRootNode: 'item',\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4a57530c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport store from 'common/store/store';\nimport App from '@/App.vue';\n\nVue.config.productionTip = false;\nVue.config.performance = true;\n\nnew Vue({\n    render: h => h(App),\n    store: store,\n}).$mount('#app');\n"],"sourceRoot":""}